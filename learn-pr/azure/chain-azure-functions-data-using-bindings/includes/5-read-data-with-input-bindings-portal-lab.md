<span data-ttu-id="ef6d3-101">Anta att du vill skapa en enkel söktjänst för bokmärken.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-101">Imagine that you want to create a simple bookmark lookup service.</span></span> <span data-ttu-id="ef6d3-102">Tjänsten är inledningsvis skrivskyddad.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-102">Your service is read-only initially.</span></span> <span data-ttu-id="ef6d3-103">Om användare vill hitta en post skickar de en begäran med ID:t för posten och du returnerar URL:en.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-103">If users want to find an entry, they send a request with the ID of the entry and you return the URL.</span></span> <span data-ttu-id="ef6d3-104">Flödet beskrivs i flödesschemat nedan:</span><span class="sxs-lookup"><span data-stu-id="ef6d3-104">The following flowchart explains the flow:</span></span>

![Flödesschema som visar processen med att hitta ett bokmärke i vår Cosmos-DB-serverdel.](../media/5-find-bookmark-flow-small.png)

<span data-ttu-id="ef6d3-109">När användare skickar dig en begäran med lite text försöker du hitta en post i din serverdelsdatabas som innehåller den här texten som en nyckel eller ett ID.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-109">When users send you a request with some text, you try to find an entry in your back-end database that contains this text as a key or ID.</span></span> <span data-ttu-id="ef6d3-110">Du returnerar ett resultat som anger huruvida du hittade posten eller inte.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-110">You return a result that indicates whether you found the entry.</span></span>

<span data-ttu-id="ef6d3-111">Du måste lagra data någonstans.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-111">You need to store the data somewhere.</span></span> <span data-ttu-id="ef6d3-112">I det här flödesschemat visas datalagret som en Azure Cosmos DB-instans.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-112">In this flowchart, the data store is an Azure Cosmos DB instance.</span></span> <span data-ttu-id="ef6d3-113">Men hur ansluter du till databasen från en funktion och läser in data?</span><span class="sxs-lookup"><span data-stu-id="ef6d3-113">But how do you connect to a database from a function and read data?</span></span> <span data-ttu-id="ef6d3-114">I en värld av funktioner konfigurerar du en *indatabindning* för jobbet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-114">In the world of functions, you configure an *input binding* for that job.</span></span>  <span data-ttu-id="ef6d3-115">Det är enkelt att konfigurera en bindning via Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-115">Configuring a binding through the Azure portal is straightforward.</span></span> <span data-ttu-id="ef6d3-116">Som du snart kommer att se behöver du inte skriva kod för sådana uppgifter som att öppna en lagringsanslutning.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-116">As you'll see shortly, you don't have to write code for such tasks as opening a storage connection.</span></span> <span data-ttu-id="ef6d3-117">Azure Functions-körningen och bindningar tar hand om de här aktiviteterna åt dig.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-117">The Azure Functions runtime and bindings take care of those tasks for you.</span></span>

## <a name="create-an-azure-cosmos-db-account"></a><span data-ttu-id="ef6d3-118">Skapa ett Azure Cosmos DB-konto</span><span class="sxs-lookup"><span data-stu-id="ef6d3-118">Create an Azure Cosmos DB account</span></span>

> [!NOTE]
> <span data-ttu-id="ef6d3-119">Den här enheten är inte avsedd att vara en självstudiekurs om Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-119">This unit is not intended to be a tutorial on Azure Cosmos DB.</span></span> <span data-ttu-id="ef6d3-120">Det finns en fullständig utbildningsväg på Cosmos DB om du vill veta mer efter det att du har slutfört den här modulen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-120">There is a complete learning path on Cosmos DB if you are interested in learning more after finishing this module.</span></span>

### <a name="create-a-database-account"></a><span data-ttu-id="ef6d3-121">Skapa ett databaskonto</span><span class="sxs-lookup"><span data-stu-id="ef6d3-121">Create a database account</span></span>

<span data-ttu-id="ef6d3-122">Ett databaskonto är en container för hantering av en eller flera databaser.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-122">A database account is a container for managing one or more databases.</span></span> <span data-ttu-id="ef6d3-123">Innan vi kan skapa en databas behöver vi skapa ett databaskonto.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-123">Before we can create a database, we need to create a database account.</span></span>

1. <span data-ttu-id="ef6d3-124">Kontrollera att du är inloggad på [Azure Portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) med samma konto som du använde för att aktivera sandbox-miljön.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-124">Make sure you are signed into the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>

1. <span data-ttu-id="ef6d3-125">Välj knappen **Skapa en resurs** längst upp till vänster i Azure-portalen och välj sedan **Databaser** > **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-125">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, then select **Databases** > **Azure Cosmos DB**.</span></span>

1. <span data-ttu-id="ef6d3-126">På sidan **Nytt konto** anger du inställningarna för det nya Azure Cosmos DB-kontot.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-126">In the **New account** page, enter the settings for the new Azure Cosmos DB account.</span></span>

    | <span data-ttu-id="ef6d3-127">Inställning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-127">Setting</span></span> | <span data-ttu-id="ef6d3-128">Värde</span><span class="sxs-lookup"><span data-stu-id="ef6d3-128">Value</span></span> | <span data-ttu-id="ef6d3-129">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-129">Description</span></span> |
    |---------|-------|-------------|
    | <span data-ttu-id="ef6d3-130">ID</span><span class="sxs-lookup"><span data-stu-id="ef6d3-130">ID</span></span> |<span data-ttu-id="ef6d3-131">*Ange ett unikt namn*</span><span class="sxs-lookup"><span data-stu-id="ef6d3-131">*Enter a unique name*</span></span>|<span data-ttu-id="ef6d3-132">Ange ett unikt namn som identifierar Azure Cosmos DB-kontot.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-132">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="ef6d3-133">Eftersom `documents.azure.com` läggs till det ID du anger för att skapa din URI ska du använda ett unikt men identifierbart ID.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-133">Because `documents.azure.com` is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="ef6d3-134">Ditt ID får bara innehålla gemener, siffror och bindestreck och måste innehålla mellan 3 och 50 tecken.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-134">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span> |
    | <span data-ttu-id="ef6d3-135">API</span><span class="sxs-lookup"><span data-stu-id="ef6d3-135">API</span></span> |<span data-ttu-id="ef6d3-136">SQL</span><span class="sxs-lookup"><span data-stu-id="ef6d3-136">SQL</span></span>|<span data-ttu-id="ef6d3-137">API:et avgör vilken typ av konto som skapas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-137">The API determines the type of account to create.</span></span> <span data-ttu-id="ef6d3-138">Azure Cosmos DB innehåller fem API:er för ditt program: SQL (dokumentdatabas), Gremlin (grafdatabas), MongoDB (dokumentdatabas), Azure-tabell och Cassandra, där var och en för närvarande kräver ett separat konto.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-138">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each of which currently require a separate account.</span></span> <br><br><span data-ttu-id="ef6d3-139">Välj **SQL**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-139">Select **SQL**.</span></span> <span data-ttu-id="ef6d3-140">För närvarande fungerar Azure Cosmos DB-utlösaren, indatabindningar och utdatabindningar endast med SQL API- och Graph API-konton.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-140">At this time, the Azure Cosmos DB trigger, input bindings, and output bindings only work with SQL API and Graph API accounts.</span></span> |
    | <span data-ttu-id="ef6d3-141">Prenumeration</span><span class="sxs-lookup"><span data-stu-id="ef6d3-141">Subscription</span></span> | <span data-ttu-id="ef6d3-142">Concierge-prenumeration</span><span class="sxs-lookup"><span data-stu-id="ef6d3-142">Concierge subscription</span></span> | <span data-ttu-id="ef6d3-143">Välj den Azure-prenumeration som ska användas för det här Azure Cosmos DB-kontot.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-143">Select Azure subscription that you want to use for this Azure Cosmos DB account.</span></span> |
    <span data-ttu-id="ef6d3-144">Resursgrupp</span><span class="sxs-lookup"><span data-stu-id="ef6d3-144">Resource Group</span></span>|<span data-ttu-id="ef6d3-145">Använd befintlig</span><span class="sxs-lookup"><span data-stu-id="ef6d3-145">Use existing</span></span><br><br><span data-ttu-id="ef6d3-146">Välj sedan **<rgn>[resursgruppsnamn för sandbox-miljö]</rgn>**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-146">Then select **<rgn>[sandbox resource group name]</rgn>**.</span></span> | <span data-ttu-id="ef6d3-147">Vi väljer **Använd befintlig**, eftersom vi vill gruppera alla resurser som har skapats för den här modulen under den kostnadsfria sandbox-resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-147">We're selecting **Use existing**, because we want to group all resources created for this module under the free sandbox resource group.</span></span> |
    | <span data-ttu-id="ef6d3-148">Plats</span><span class="sxs-lookup"><span data-stu-id="ef6d3-148">Location</span></span> | <span data-ttu-id="ef6d3-149">Fylls i automatiskt när **Använd befintlig** har angetts.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-149">Auto-filled once **Use existing** is set.</span></span> | <span data-ttu-id="ef6d3-150">Välj den geografiska plats som ska vara värd för ditt Azure Cosmos DB-konto.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-150">Select the geographic location in which to host your Azure Cosmos DB account.</span></span> <span data-ttu-id="ef6d3-151">Använd den plats som finns närmast dina användare så att de får så snabb åtkomst till data som möjligt.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-151">Use the location that's closest to your users to give them the fastest access to the data.</span></span> <span data-ttu-id="ef6d3-152">I den här övningen bestäms platsen i förväg för oss som platsen för den befintliga resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-152">In this lab, the location is pre-determined for us as the location set for the existing resource group.</span></span>|

    <span data-ttu-id="ef6d3-153">Lämna andra fält på bladet **Nytt konto** på standardnivåvärdena eftersom vi använder dem i den här modulen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-153">Leave all other fields in the **New account** blade at their default values because we're using them in this module.</span></span>  <span data-ttu-id="ef6d3-154">Detta omfattar **Aktivera georedundans**, **Aktivera multimaster**, **Virtuella nätverk**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-154">That includes **Enable geo-redundancy**, **Enable Multi Master**, **Virtual networks**.</span></span>

1. <span data-ttu-id="ef6d3-155">Välj **Skapa** för att etablera och distribuera databaskontot.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-155">Select **Create** to provision and deploy the database account.</span></span>

1. <span data-ttu-id="ef6d3-156">Distributionen kan ta lite tid.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-156">Deployment can take some time.</span></span> <span data-ttu-id="ef6d3-157">Så vänta tills ett **Distributionen lyckades**-meddelande visas i meddelandehubben innan du fortsätter.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-157">So, wait for a **Deployment succeeded** message in the Notification Hub before proceeding.</span></span>

    ![Meddelande om att databaskontots distribution har slutförts](../media/5-db-deploy-success.PNG)

1. <span data-ttu-id="ef6d3-159">Välj **Gå till resurs** och navigera till databaskontot i portalen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-159">Select **Go to resource** to navigate to the database account in the portal.</span></span> <span data-ttu-id="ef6d3-160">Vi ska lägga till en samling i databasen sedan.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-160">We'll add a collection to the database next.</span></span>

### <a name="add-a-collection"></a><span data-ttu-id="ef6d3-161">Lägga till en samling</span><span class="sxs-lookup"><span data-stu-id="ef6d3-161">Add a collection</span></span>

<span data-ttu-id="ef6d3-162">I Cosmos DB innehåller en *container* godtyckliga användargenererade entiteter.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-162">In Cosmos DB, a *container* holds arbitrary user-generated entities.</span></span> <span data-ttu-id="ef6d3-163">För SQL- och MongoDB API-konton mappas en container till en *samling*.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-163">For SQL and MongoDB API accounts, a container maps to a *collection*.</span></span> <span data-ttu-id="ef6d3-164">Vi lagrar dokument i en samling.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-164">Inside a collection, we store documents.</span></span>

<span data-ttu-id="ef6d3-165">Låt oss skapa en databas och en samling med hjälp av Datautforskaren i Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-165">Let's use the Data Explorer tool in the Azure portal to create a database and collection.</span></span>

1. <span data-ttu-id="ef6d3-166">Välj **Datautforskaren** > **Ny samling**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-166">Select **Data Explorer** > **New Collection**.</span></span>

2. <span data-ttu-id="ef6d3-167">Ange inställningarna för den nya samlingen under **Lägg till samling**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-167">Under **Add collection**, enter the settings for the new collection.</span></span>

    >[!TIP]
    ><span data-ttu-id="ef6d3-168">Området **Lägg till samling** visas längst till höger.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-168">The **Add Collection** area is displayed on the far right.</span></span> <span data-ttu-id="ef6d3-169">Du kan behöva rulla till höger för att se den.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-169">You may need to scroll right to see it.</span></span>

    |<span data-ttu-id="ef6d3-170">Inställning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-170">Setting</span></span>|<span data-ttu-id="ef6d3-171">Föreslaget värde</span><span class="sxs-lookup"><span data-stu-id="ef6d3-171">Suggested value</span></span>|<span data-ttu-id="ef6d3-172">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-172">Description</span></span>
    |---|---|---|
    |<span data-ttu-id="ef6d3-173">Databas-ID</span><span class="sxs-lookup"><span data-stu-id="ef6d3-173">Database ID</span></span>|[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]| <span data-ttu-id="ef6d3-174">Databasnamn måste innehålla mellan 1 och 255 tecken och får inte innehålla /, \\, #, ? eller avslutande blanksteg.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-174">Database names must contain from 1 through 255 characters, and they cannot contain /, \\, #, ?, or a trailing space.</span></span><br><br><span data-ttu-id="ef6d3-175">Du kan välja att ange vad du vill här, men vi rekommenderar [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] som namn på den nya databasen och så kommer vi att kalla den i den här övningen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-175">You are free to enter whatever you want here, but we suggest [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] as the name for the new database, and that's what we'll refer to in this unit.</span></span> |
    |<span data-ttu-id="ef6d3-176">Samlings-ID</span><span class="sxs-lookup"><span data-stu-id="ef6d3-176">Collection ID</span></span>|[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]|<span data-ttu-id="ef6d3-177">Ange [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] som namnet på din nya samling.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-177">Enter [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] as the name for our new collection.</span></span> <span data-ttu-id="ef6d3-178">Samma teckenkrav gäller för samlings-ID:n som för databasnamn.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-178">Collection IDs have the same character requirements as database names.</span></span>|
    |<span data-ttu-id="ef6d3-179">Lagringskapacitet</span><span class="sxs-lookup"><span data-stu-id="ef6d3-179">Storage capacity</span></span>| <span data-ttu-id="ef6d3-180">Fast (10 GB)</span><span class="sxs-lookup"><span data-stu-id="ef6d3-180">Fixed (10 GB)</span></span>|<span data-ttu-id="ef6d3-181">Använd standardvärdet **Fast (10 GB)**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-181">Use the default value of **Fixed (10 GB)**.</span></span> <span data-ttu-id="ef6d3-182">Det här värdet är databasens lagringskapacitet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-182">This value is the storage capacity of the database.</span></span>|
    |<span data-ttu-id="ef6d3-183">Dataflöde</span><span class="sxs-lookup"><span data-stu-id="ef6d3-183">Throughput</span></span>|<span data-ttu-id="ef6d3-184">1 000 RU</span><span class="sxs-lookup"><span data-stu-id="ef6d3-184">1000 RU</span></span>|<span data-ttu-id="ef6d3-185">Ändra genomflödet till 1 000 begäransenheter per sekund (RU/s).</span><span class="sxs-lookup"><span data-stu-id="ef6d3-185">Change the throughput to 1000 request units per second (RU/s).</span></span> <span data-ttu-id="ef6d3-186">Lagringskapaciteten måste anges till **Fast (10 GB)** för att det ska gå att ställa in dataflöde på 400 RU/s.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-186">Storage capacity must be set to **Fixed (10 GB)** to set throughput to 400 RU/s.</span></span> <span data-ttu-id="ef6d3-187">Du kan skala upp prestanda senare om du vill minska svarstiden.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-187">If you want to reduce latency, you can scale up the performance later.</span></span>|

3. <span data-ttu-id="ef6d3-188">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-188">Click **OK**.</span></span> <span data-ttu-id="ef6d3-189">Datautforskaren visar den nya databasen och samlingen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-189">The Data Explorer displays the new database and collection.</span></span> <span data-ttu-id="ef6d3-190">Så, nu har vi en databas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-190">So, now we have a database.</span></span> <span data-ttu-id="ef6d3-191">Vi har definierat en samling inne i databasen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-191">Inside the database, we've defined a collection.</span></span> <span data-ttu-id="ef6d3-192">Därefter lägger vi till vissa data, även kallat dokument.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-192">Next, we'll add some data, also known as documents.</span></span>

### <a name="add-test-data"></a><span data-ttu-id="ef6d3-193">Lägga till testdata</span><span class="sxs-lookup"><span data-stu-id="ef6d3-193">Add test data</span></span>

<span data-ttu-id="ef6d3-194">Vi har definierat en samling i databasen som kallas [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)].</span><span class="sxs-lookup"><span data-stu-id="ef6d3-194">We've defined a collection in our database called [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)].</span></span> <span data-ttu-id="ef6d3-195">Vi vill lagra en URL och ett ID i varje dokument, t.ex. en lista över webbsidesbokmärken.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-195">We want to store a URL and ID in each document, like a list of web page bookmarks.</span></span>

<span data-ttu-id="ef6d3-196">Du lägger nu till data i din nya samling med hjälp av Datautforskaren.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-196">You'll add data to your new collection using Data Explorer.</span></span>

1. <span data-ttu-id="ef6d3-197">Den nya databasen visas på panelen Samlingar i Datautforskaren.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-197">In Data Explorer, the new database appears in the Collections pane.</span></span> <span data-ttu-id="ef6d3-198">Expandera databasen [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)], expandera samlingen [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)], välj **Dokument** och sedan **Nytt dokument**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-198">Expand the [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] database, expand the [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection, select **Documents**, and then select **New Document**.</span></span>

2. <span data-ttu-id="ef6d3-199">Ersätt standardinnehållet i det nya dokumentet med följande JSON.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-199">Replace the default content of the new document with the following JSON.</span></span>

     ```json
     {
         "id": "docs",
         "URL": "https://docs.microsoft.com/azure"
     }
     ```

3. <span data-ttu-id="ef6d3-200">När du har lagt till JSON på fliken **Dokument** väljer du **Spara**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-200">After you've added the JSON to the **Documents** tab, select **Save**.</span></span>

    <span data-ttu-id="ef6d3-201">Observera att det finns fler egenskaper än de som vi har lagt till.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-201">Notice that there are more properties than the ones we added.</span></span> <span data-ttu-id="ef6d3-202">Alla börjar med ett understreck (_rid, _self, _etag, _attachments, _ts).</span><span class="sxs-lookup"><span data-stu-id="ef6d3-202">They all begin with an underline (_rid, _self, _etag, _attachments, _ts).</span></span> <span data-ttu-id="ef6d3-203">Det här är egenskaper som genereras av systemet för att underlätta hanteringen av dokumentet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-203">These are properties generated by the system to help manage the document.</span></span>

    |<span data-ttu-id="ef6d3-204">Egenskap</span><span class="sxs-lookup"><span data-stu-id="ef6d3-204">Property</span></span>  |<span data-ttu-id="ef6d3-205">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-205">Description</span></span>  |
    |---------|---------|
    | `_rid`     |     <span data-ttu-id="ef6d3-206">Resurs-ID:t är en unik identifierare som också är hierarkisk per resursstacken på resursmodellen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-206">The resource ID is a unique identifier that is also hierarchical per the resource stack on the resource model.</span></span> <span data-ttu-id="ef6d3-207">Den används internt för placering och navigering i dokumentresursen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-207">It is used internally for placement and navigation of the document resource.</span></span>    |
    | `_self`     |   <span data-ttu-id="ef6d3-208">Den unika adresserbara URI:n för resursen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-208">The unique addressable URI for the resource.</span></span>      |
    | `_etag`     |   <span data-ttu-id="ef6d3-209">Krävs för optimistisk samtidighetskontroll.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-209">Required for optimistic concurrency control.</span></span>     |
    | `_attachments`     |  <span data-ttu-id="ef6d3-210">Den adresserbara sökvägen till resursen för bifogade filer.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-210">The addressable path for the attachments resource.</span></span>       |
    | `_ts`     |    <span data-ttu-id="ef6d3-211">Tidsstämpeln för den senaste uppdateringen av den här resursen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-211">The time stamp of the last update of this resource.</span></span>    |

4. <span data-ttu-id="ef6d3-212">Nu ska vi lägga till några fler dokument i samlingen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-212">Let's add a few more documents into the collection.</span></span> <span data-ttu-id="ef6d3-213">Skapa ytterligare fyra dokument med följande innehåll.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-213">Create four more documents with the following content.</span></span> <span data-ttu-id="ef6d3-214">Kom ihåg att spara ditt arbete.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-214">Remember to save your work.</span></span>

    ```json
    {
        "id": "portal",
        "URL": "https://portal.azure.com"
    }
    ```

    ```json
    {
        "id": "learn",
        "URL": "https://docs.microsoft.com/learn"
    }
    ```

    ```json
    {
        "id": "marketplace",
        "URL": "https://azuremarketplace.microsoft.com/marketplace/apps"
    }
    ```

    ```json
    {
        "id": "blog",
        "URL": "https://azure.microsoft.com/blog"
    }
    ```

1. <span data-ttu-id="ef6d3-215">När du är klar bör samlingen se ut som följande:</span><span class="sxs-lookup"><span data-stu-id="ef6d3-215">When you've finished, your collection should look like the following:</span></span>

    ![SQL API-användargränssnittet i portalen visar en lista över poster som du har lagt till i din bokmärkessamling](../media/5-db-bookmark-coll.PNG)

<span data-ttu-id="ef6d3-217">Nu har du ett antal poster i din bokmärkessamling.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-217">You now have a few entries in your bookmark collection.</span></span> <span data-ttu-id="ef6d3-218">Så här fungerar vårt scenario.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-218">Our scenario will work as follows.</span></span> <span data-ttu-id="ef6d3-219">Om en begäran tas emot med, t.ex. ”id = docs”, söker du upp detta ID i din bokmärkessamling och returnerar URL:en `https://docs.microsoft.com/azure`.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-219">If a request arrives with, for example, "id=docs", you'll look up that ID in your bookmarks collection and return the URL `https://docs.microsoft.com/azure`.</span></span> <span data-ttu-id="ef6d3-220">Vi ska skapa en Azure-funktion som söker upp värden i den här samlingen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-220">Let's make an Azure function that looks up values in this collection.</span></span>

## <a name="create-your-function"></a><span data-ttu-id="ef6d3-221">Skapa din funktion</span><span class="sxs-lookup"><span data-stu-id="ef6d3-221">Create your function</span></span>

1. <span data-ttu-id="ef6d3-222">Gå till den funktionsapp som du skapade i föregående enhet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-222">Navigate to the function app that you created in the preceding unit.</span></span>

1. <span data-ttu-id="ef6d3-223">Expandera funktionsappen, hovra sedan över samlingen med funktioner och välj sedan knappen **Lägg till** (**+**) bredvid **Funktioner**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-223">Expand your function app, hover over the functions collection, and then select the **Add** (**+**) button next to **Functions**.</span></span>
   <span data-ttu-id="ef6d3-224">Den här åtgärden startar funktionsskapandeprocessen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-224">This action starts the function creation process.</span></span> <span data-ttu-id="ef6d3-225">Följande animering illustrerar åtgärden:</span><span class="sxs-lookup"><span data-stu-id="ef6d3-225">The following animation illustrates the action:</span></span>

   ![Animering av det plustecken som visas när du hovrar över funktionsmenyalternativet](../media/3-func-app-plus-hover-small.gif)

   <span data-ttu-id="ef6d3-227">På sidan visas en fullständig uppsättning med utlösare som stöds.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-227">The page displays the complete set of supported triggers.</span></span>

1. <span data-ttu-id="ef6d3-228">Välj **HTTP-utlösare**, vilket är den första posten i följande skärmbild:</span><span class="sxs-lookup"><span data-stu-id="ef6d3-228">Select **HTTP trigger**, which is the first entry in the following screenshot:</span></span>

    ![Skärmbild som visar en del av utlösarmallens valgränssnitt, där TTP-utlösaren visas först, i den övre vänstra delen av bilden.](../media/5-trigger-templates-small.png)

1. <span data-ttu-id="ef6d3-230">Fyll i dialogrutan **Ny funktion** som visas till höger med följande värden.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-230">Fill out the **New Function** dialog that appears to the right using the following values.</span></span>

    | <span data-ttu-id="ef6d3-231">Fält</span><span class="sxs-lookup"><span data-stu-id="ef6d3-231">Field</span></span> | <span data-ttu-id="ef6d3-232">Värde</span><span class="sxs-lookup"><span data-stu-id="ef6d3-232">Value</span></span> |
    |----------|--------|
    | <span data-ttu-id="ef6d3-233">Språk</span><span class="sxs-lookup"><span data-stu-id="ef6d3-233">Language</span></span> | <span data-ttu-id="ef6d3-234">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="ef6d3-234">**JavaScript**</span></span> |
    | <span data-ttu-id="ef6d3-235">Namn</span><span class="sxs-lookup"><span data-stu-id="ef6d3-235">Name</span></span>     | [!INCLUDE [func-name-find](./func-name-find.md)] |
    | <span data-ttu-id="ef6d3-236">Auktoriseringsnivå</span><span class="sxs-lookup"><span data-stu-id="ef6d3-236">Authorization level</span></span> | <span data-ttu-id="ef6d3-237">**Funktion**</span><span class="sxs-lookup"><span data-stu-id="ef6d3-237">**Function**</span></span> |

1. <span data-ttu-id="ef6d3-238">Skapa den nya funktionen genom att välja **Skapa**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-238">Select **Create** to create your function.</span></span>
    <span data-ttu-id="ef6d3-239">Detta öppnar filen *index.js* i kodredigeraren och en standardimplementering av den HTTP-utlösta funktionen visas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-239">This action opens the *index.js* file in the code editor and displays a default implementation of the HTTP-triggered function.</span></span>

### <a name="verify-the-function"></a><span data-ttu-id="ef6d3-240">Verifiera funktionen</span><span class="sxs-lookup"><span data-stu-id="ef6d3-240">Verify the function</span></span>

<span data-ttu-id="ef6d3-241">Du kan verifiera vad vi har gjort hittills genom att testa vår nya funktion enligt följande:</span><span class="sxs-lookup"><span data-stu-id="ef6d3-241">You can verify what we have done so far by testing our new function as follows:</span></span>

1. <span data-ttu-id="ef6d3-242">Klicka på **Hämta funktionswebbadress** längst upp till höger i den nya funktionen och välj **Standard (funktionsnyckel)**. Klicka sedan på **Kopiera**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-242">In your new function, click **Get function URL** at the top right, select **default (Function key)**, and then click **Copy**.</span></span>

1. <span data-ttu-id="ef6d3-243">Klistra in den funktions-URL som du kopierade i adressfältet till din webbläsare.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-243">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="ef6d3-244">Lägg till frågesträngsvärdet `&name=<yourname>` i slutet av den här webbadressen och kör begäran genom att trycka på **Retur**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-244">Add the query string value `&name=<yourname>` to the end of the URL and press **Enter** to execute the request.</span></span> <span data-ttu-id="ef6d3-245">Du bör få ett svar från Azure-funktionen direkt i webbläsaren.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-245">You should get a response from the Azure Function right in the browser.</span></span>

<span data-ttu-id="ef6d3-246">Nu när vår grundfunktion fungerar ska vi koncentrera oss på att läsa data från vår Azure Cosmos DB eller, i vårt scenario, vår [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]-samling.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-246">Now that we have our bare-bones function working, let's turn our attention to reading data from our Azure Cosmos DB, or in our scenario, our [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection.</span></span>

## <a name="add-an-azure-cosmos-db-input-binding"></a><span data-ttu-id="ef6d3-247">Lägg till en Azure Cosmos DB-indatabindning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-247">Add an Azure Cosmos DB input binding</span></span>

<span data-ttu-id="ef6d3-248">Du måste definiera en indatabindning om du vill kuna läsa data från databasen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-248">To read data from the database, you need to define an input binding.</span></span> <span data-ttu-id="ef6d3-249">Som du ser kan du konfigurera en bindning som kan kommunicera med din databas i bara några få steg.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-249">As you'll see, you can configure a binding that can talk to your database in just a few steps.</span></span>

1. <span data-ttu-id="ef6d3-250">Öppna integrationsfliken genom att välja **Integrera** i rutan till vänster. Den mall som du använde skapade en HTTP-utlösare och en HTTP-utdatabindning.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-250">Select **Integrate** in the left pane to open the integration tab. The template you used created an HTTP trigger and an HTTP output binding.</span></span> <span data-ttu-id="ef6d3-251">Lägg nu till din nya Azure Cosmos DB-indatabindning.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-251">Now add your new Azure Cosmos DB input binding.</span></span>

2. <span data-ttu-id="ef6d3-252">Välj **Nya indata** i kolumnen **Indata**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-252">Select **New Input** in the **Inputs** column.</span></span>
   <span data-ttu-id="ef6d3-253">En lista över alla möjliga indatabindningstyper visas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-253">A list of all possible input binding types is displayed.</span></span>

3. <span data-ttu-id="ef6d3-254">Välj **Azure Cosmos DB** i listan och välj sedan **Välj**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-254">In the list, select **Azure Cosmos DB**, and then select **Select**.</span></span>
   <span data-ttu-id="ef6d3-255">Den här åtgärden öppnar konfigurationssidan för Azure Cosmos DB-indata.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-255">This action opens the Azure Cosmos DB input configuration page.</span></span> <span data-ttu-id="ef6d3-256">Nu ska du konfigurera en anslutning till databasen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-256">Next, you'll set up a connection to your database.</span></span>

4. <span data-ttu-id="ef6d3-257">Välj **Ny** bredvid rutan **Azure Cosmos DB-kontoanslutning**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-257">Next to the **Azure Cosmos DB account connection** box, select **new**.</span></span>
   <span data-ttu-id="ef6d3-258">Den här åtgärden öppnar fönstret **Anslutning**, som redan innehåller **Azure Cosmos DB-kontot** och din Azure-prenumeration har valts.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-258">This action opens the **Connection** window, which already has **Azure Cosmos DB account** and your Azure subscription selected.</span></span> <span data-ttu-id="ef6d3-259">Det enda som återstår är att välja ett databaskonto-ID.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-259">The only thing left to do is to select a database account ID.</span></span>

5. <span data-ttu-id="ef6d3-260">I avsnittet Skapa ett databaskonto var du tvungen att ange ett ID-värde.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-260">In the "Create a database account" section, you had to supply an ID value.</span></span> <span data-ttu-id="ef6d3-261">Leta upp det här värdet i listrutan **Databaskonto** och klicka sedan på **Välj**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-261">Find that value in the **Database Account** drop-down list, and then click **Select**.</span></span>

6. <span data-ttu-id="ef6d3-262">En ny anslutning till databasen har konfigurerats och visas i fältet **Azure Cosmos DB-kontoanslutning**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-262">A new connection to the database is configured and is shown in the **Azure Cosmos DB account connection** field.</span></span> <span data-ttu-id="ef6d3-263">Om du är nyfiken på vad som faktiskt finns bakom den här abstrakta namnet klickar du på *Visa värde*, varvid anslutningssträngen visas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-263">If you're curious about what is actually behind this abstract name, click *show value* to reveal the connection string.</span></span>

<span data-ttu-id="ef6d3-264">Du vill leta upp ett bokmärke med ett specifikt ID, så låt oss koppla det ID som vi tar emot till bindningen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-264">You want to look up a bookmark with a specific ID, so let's tie the ID we receive to the binding.</span></span>

7. <span data-ttu-id="ef6d3-265">I fältet **Dokument-ID (valfritt)** anger du `{id}`.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-265">In the **Document ID (optional)** field, enter `{id}`.</span></span> <span data-ttu-id="ef6d3-266">Den här syntaxen kallas för ett *bindningsuttryck*.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-266">This syntax is known as a *binding expression*.</span></span> <span data-ttu-id="ef6d3-267">Funktionen utlöses av en HTTP-begäran som använder en frågesträng för att ange vilket ID som ska sökas upp.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-267">The function is triggered by an HTTP request that uses a query string to specify the ID to look up.</span></span> <span data-ttu-id="ef6d3-268">Eftersom ID:n är unika i vår samling returnerar bindningen antingen 0 (hittades inte) eller 1 (hittades) dokument.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-268">Since IDs are unique in our collection, the binding will return either 0 (not found) or 1 (found) documents.</span></span>

8. <span data-ttu-id="ef6d3-269">Fyll noggrant i de återstående fälten på den här sidan med hjälp av värdena i tabellen nedan.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-269">Carefully fill out the remaining fields on this page using the values in the following table.</span></span> <span data-ttu-id="ef6d3-270">Du kan när som helst klicka på informationsikonen till höger om varje fältnamn för att få mer information om syftet med varje fält.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-270">At any time, you can click on the information icon to the right of each field name to learn more about the purpose of each field.</span></span>

    |<span data-ttu-id="ef6d3-271">Inställning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-271">Setting</span></span>  |<span data-ttu-id="ef6d3-272">Värde</span><span class="sxs-lookup"><span data-stu-id="ef6d3-272">Value</span></span>  |<span data-ttu-id="ef6d3-273">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="ef6d3-273">Description</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="ef6d3-274">Dokumentparameternamn</span><span class="sxs-lookup"><span data-stu-id="ef6d3-274">Document parameter name</span></span>     |  <span data-ttu-id="ef6d3-275">**bokmärke**</span><span class="sxs-lookup"><span data-stu-id="ef6d3-275">**bookmark**</span></span>       |  <span data-ttu-id="ef6d3-276">Det namn som används för att identifiera den här bindningen i koden.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-276">The name used to identify this binding in your code.</span></span>      |
    |<span data-ttu-id="ef6d3-277">Databasnamn</span><span class="sxs-lookup"><span data-stu-id="ef6d3-277">Database name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]       | <span data-ttu-id="ef6d3-278">Databas att arbeta med.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-278">The database to work with.</span></span> <span data-ttu-id="ef6d3-279">Det här värdet är det databasnamn som vi konfigurerade tidigare i den här lektionen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-279">This value is the database name we set earlier in this lesson.</span></span>        |
    |<span data-ttu-id="ef6d3-280">Samlingsnamn</span><span class="sxs-lookup"><span data-stu-id="ef6d3-280">Collection Name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-coll-name.md)]        | <span data-ttu-id="ef6d3-281">Den samling som vi ska läsa data från.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-281">The collection from which we'll read data.</span></span> <span data-ttu-id="ef6d3-282">Den här inställningen definierades tidigare i lektionen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-282">This setting was defined earlier in the lesson.</span></span> |
    |<span data-ttu-id="ef6d3-283">SQL-fråga (valfritt)</span><span class="sxs-lookup"><span data-stu-id="ef6d3-283">SQL Query (optional)</span></span>    |   <span data-ttu-id="ef6d3-284">lämna tomt</span><span class="sxs-lookup"><span data-stu-id="ef6d3-284">leave blank</span></span>       |   <span data-ttu-id="ef6d3-285">Vi hämtar endast ett dokument i taget baserat på ID:t.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-285">We are only retrieving one document at a time based on the ID.</span></span> <span data-ttu-id="ef6d3-286">Filtrering efter fältet dokument-ID är alltså bättre än att använda en SQL-fråga i den här instansen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-286">So, filtering with the Document ID field is a better than using a SQL Query in this instance.</span></span> <span data-ttu-id="ef6d3-287">Vi kan skapa en SQL-fråga för att returnera en post (`SELECT * from b where b.ID = {id}`).</span><span class="sxs-lookup"><span data-stu-id="ef6d3-287">We could craft a SQL Query to return one entry (`SELECT * from b where b.ID = {id}`).</span></span> <span data-ttu-id="ef6d3-288">Frågan skulle verkligen returnera ett dokument, men den skulle returnera det i en dokumentsamling.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-288">That query would indeed return a document, but it would return it in a document collection.</span></span> <span data-ttu-id="ef6d3-289">Vår kod skulle behöva ändra en samling i onödan.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-289">Our code would have to manipulate a collection unnecessarily.</span></span> <span data-ttu-id="ef6d3-290">Använda SQL-frågemetoden när du vill hämta flera dokument.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-290">Use the SQL Query approach when you want to get multiple documents.</span></span>   |
    |<span data-ttu-id="ef6d3-291">Partitionsnyckel (valfritt)</span><span class="sxs-lookup"><span data-stu-id="ef6d3-291">Partition key (optional)</span></span>     |   <span data-ttu-id="ef6d3-292">lämna tomt</span><span class="sxs-lookup"><span data-stu-id="ef6d3-292">leave blank</span></span>      |  <span data-ttu-id="ef6d3-293">Vi kan acceptera standardvärdena här.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-293">We can accept the default here.</span></span>       |

9. <span data-ttu-id="ef6d3-294">Välj **Spara** så att alla ändringar i den här bindningskonfigurationen sparas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-294">Select **Save** to save all changes to this binding configuration.</span></span>

<span data-ttu-id="ef6d3-295">Nu när du har definierat din bindning är det dags att använda den i din funktion.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-295">Now that you have your binding defined, it's time to use it in your function.</span></span>

## <a name="update-function-implementation"></a><span data-ttu-id="ef6d3-296">Uppdatera funktionsimplementeringen</span><span class="sxs-lookup"><span data-stu-id="ef6d3-296">Update function implementation</span></span>

1. <span data-ttu-id="ef6d3-297">Välj din funktion [!INCLUDE [func-name-find](./func-name-find.md)] så öppnas *index.js* i kodredigeraren.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-297">Select your function, [!INCLUDE [func-name-find](./func-name-find.md)], to open *index.js* in the code editor.</span></span> <span data-ttu-id="ef6d3-298">Du har lagt till en indatabindning att läsa från databasen, så det är dags att uppdatera logiken så att du kan använda den här bindningen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-298">You've added an input binding to read from your database, so update the logic to use this binding.</span></span>

2. <span data-ttu-id="ef6d3-299">Ersätt all kod i *index.js* med koden från följande kodavsnitt och välj **Spara**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-299">Replace all code in *index.js* with the code from the following snippet and hit **Save**.</span></span>

   [!code-javascript[](../code/find-bookmark-single.js)]

<span data-ttu-id="ef6d3-300">En inkommande HTTP-begäran utlöser funktionen, och en `id`-frågeparameter skickas till Cosmos DB-indatabindningen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-300">An incoming HTTP request triggers the function, and an `id` query parameter is passed to the Cosmos DB input binding.</span></span> <span data-ttu-id="ef6d3-301">Om databasen hittar ett dokument som matchar detta ID så konfigureras parametern `bookmark` för det påträffade dokumentet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-301">If the database finds a document that matches this ID, then the `bookmark` parameter will be set to the located document.</span></span> <span data-ttu-id="ef6d3-302">I så fall kan vi skapa ett svar som innehåller det URL-värde som påträffades i det bokmärkta dokumentet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-302">In that case, we construct a response that contains the URL value found in the bookmarked document.</span></span> <span data-ttu-id="ef6d3-303">Om inget dokument som matchar den här nyckeln hittades, så svarar vi med en nyttolast och statuskod som meddelar användaren de dåliga nyheterna.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-303">If no document is found matching this key, we would respond with a payload and status code that tells the user the bad news.</span></span>

## <a name="try-it-out"></a><span data-ttu-id="ef6d3-304">Prova</span><span class="sxs-lookup"><span data-stu-id="ef6d3-304">Try it out</span></span>

1. <span data-ttu-id="ef6d3-305">Välj **Hämta funktionswebbadress** längst upp till höger och välj **Standard (funktionsnyckel)**. Sedan kopierar du funktionens URL genom att klicka på **Kopiera**.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-305">Select **Get function URL** at the top right, select **default (Function key)**, and then select **Copy** to copy the function's URL.</span></span>

2. <span data-ttu-id="ef6d3-306">Klistra in den funktions-URL som du kopierade i adressfältet till din webbläsare.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-306">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="ef6d3-307">Lägg till frågesträngsvärdet `&id=docs` i slutet av den här webbadressen och genomför begäran genom att trycka på tangenten `Enter` på tangentbordet.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-307">Add the query string value `&id=docs` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="ef6d3-308">Nu bör du se ett svar som innehåller en URL till resursen.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-308">You should see a response that includes a URL to that resource.</span></span>

3. <span data-ttu-id="ef6d3-309">Ersätt `&id=docs` med `&id=missing` och observera svaret.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-309">Replace `&id=docs` with `&id=missing`, and observe the response.</span></span>

4. <span data-ttu-id="ef6d3-310">Ersätt den tidigare frågesträngen med `&id=` och observera svaret.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-310">Replace the previous query string with `&id=`, and observe the response.</span></span>

    >[!TIP]
    ><span data-ttu-id="ef6d3-311">Du kan även testa funktionen med hjälp av fliken **Testa** i funktionsportalens användargränssnitt.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-311">You can also test the function using the **Test** tab in the function portal UI.</span></span> <span data-ttu-id="ef6d3-312">Du kan lägga till en frågeparameter eller ange en brödtext i begäran och få samma resultat som beskrivs i föregående steg.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-312">You can add a query parameter or supply a request body to get the same results as described in the preceding steps.</span></span>

<span data-ttu-id="ef6d3-313">I den här enheten skapade vi vår första indatabindning manuellt för att kunna läsa från en Azure Cosmos DB-databas.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-313">In this unit, we created our first input binding manually to read from an Azure Cosmos DB database.</span></span> <span data-ttu-id="ef6d3-314">Den mängd kod som vi skriver för att söka i vår databas och läsa data var minimal, tack vare bindningar.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-314">The amount of code we wrote to search our database and read data was minimal, thanks to bindings.</span></span> <span data-ttu-id="ef6d3-315">Vi gjorde det mesta av vårt arbete med att konfigurera bindningen deklarativt och plattformen tog hand om resten.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-315">We did most of our work configuring the binding declaratively, and the platform took care of the rest.</span></span>

<span data-ttu-id="ef6d3-316">I nästa enhet lägger vi till flera data i vår bokmärkessamling via en Azure Cosmos DB-utdatabindning.</span><span class="sxs-lookup"><span data-stu-id="ef6d3-316">In the next unit, we'll add more data to our bookmark collection through an Azure Cosmos DB output binding.</span></span>