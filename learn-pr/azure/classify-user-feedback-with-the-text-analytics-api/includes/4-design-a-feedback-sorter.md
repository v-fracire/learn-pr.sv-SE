<span data-ttu-id="077e7-101">Låt oss använda vår kunskap om API för textanalys till att arbeta med en praktisk lösning.</span><span class="sxs-lookup"><span data-stu-id="077e7-101">Let's put our knowledge of Text Analytics to work in a practical solution.</span></span> <span data-ttu-id="077e7-102">Vår lösning fokuserar på attitydanalys av textdokument.</span><span class="sxs-lookup"><span data-stu-id="077e7-102">Our solution will focus on Sentiment Analysis of text documents.</span></span> <span data-ttu-id="077e7-103">Vi anger kontexten genom att beskriva de problem som vi vill hantera.</span><span class="sxs-lookup"><span data-stu-id="077e7-103">Let's set the context by describing the problem we want to tackle.</span></span>

## <a name="manage-customer-feedback-more-efficiently"></a><span data-ttu-id="077e7-104">Hantera feedback från kunder mer effektivt</span><span class="sxs-lookup"><span data-stu-id="077e7-104">Manage customer feedback more efficiently</span></span>

<span data-ttu-id="077e7-105">Det förekommer många diskussioner om ditt företags produkt på sociala medier.</span><span class="sxs-lookup"><span data-stu-id="077e7-105">Social media is active with talk of your company's product.</span></span> <span data-ttu-id="077e7-106">Ditt e-postalias för feedback är också aktivt med kunder som gärna delar med sig av sina uppfattningar om din produkt.</span><span class="sxs-lookup"><span data-stu-id="077e7-106">Your feedback email alias is also active with customers eager to share their opinion of your product.</span></span>

<span data-ttu-id="077e7-107">Precis som med alla nylanseringar är du mycket intresserad av att lyssna på kunderna.</span><span class="sxs-lookup"><span data-stu-id="077e7-107">As is the case with any new startup, you live by the mantra of listening to your customers.</span></span> <span data-ttu-id="077e7-108">Dock har produktens framgång inneburit att det är lättare sagt än gjort att göra detta.</span><span class="sxs-lookup"><span data-stu-id="077e7-108">However, the success of your product has made keeping this promise easier said than done.</span></span> <span data-ttu-id="077e7-109">Det är ett angenämt problem, men ändå ett problem.</span><span class="sxs-lookup"><span data-stu-id="077e7-109">It's a good problem but a problem all the same.</span></span>

<span data-ttu-id="077e7-110">Teamet hinner inte med att hantera mängden feedback längre.</span><span class="sxs-lookup"><span data-stu-id="077e7-110">The team can't keep up with the volume of feedback anymore.</span></span> <span data-ttu-id="077e7-111">De behöver hjälp att sortera feedbacken så att eventuella problem kan hanteras så effektivt som möjligt.</span><span class="sxs-lookup"><span data-stu-id="077e7-111">They need help sorting the feedback so that issues can be managed as efficiently as possible.</span></span> <span data-ttu-id="077e7-112">Eftersom du är chefsutvecklare i organisationen har du blivit ombedd att ta fram en lösning.</span><span class="sxs-lookup"><span data-stu-id="077e7-112">As the lead developer in the organization, you have been asked to build a solution.</span></span>

<span data-ttu-id="077e7-113">Låt oss titta på några viktiga krav:</span><span class="sxs-lookup"><span data-stu-id="077e7-113">Let's look at some high-level requirements:</span></span>

|<span data-ttu-id="077e7-114">Krav</span><span class="sxs-lookup"><span data-stu-id="077e7-114">Requirement</span></span>  | <span data-ttu-id="077e7-115">Information</span><span class="sxs-lookup"><span data-stu-id="077e7-115">Details</span></span>  |
|---------|---------|
|<span data-ttu-id="077e7-116">Kategorisera feedbacken så att vi kan reagera på den.</span><span class="sxs-lookup"><span data-stu-id="077e7-116">Categorize feedback so we can react to it.</span></span>     |   <span data-ttu-id="077e7-117">Feedback kan se olika ut.</span><span class="sxs-lookup"><span data-stu-id="077e7-117">Not all feedback is equal.</span></span> <span data-ttu-id="077e7-118">Viss feedback höjer produkten till skyarna.</span><span class="sxs-lookup"><span data-stu-id="077e7-118">Some is glowing testimony.</span></span> <span data-ttu-id="077e7-119">Annan feedback kan vara svidande kritik från en frustrerad kund.</span><span class="sxs-lookup"><span data-stu-id="077e7-119">Other feedback is scathing criticism from a frustrated customer.</span></span> <span data-ttu-id="077e7-120">Och i vissa fall kanske du inte förstår vad kunden vill ha.</span><span class="sxs-lookup"><span data-stu-id="077e7-120">Perhaps you can't tell what the customer wants in other cases.</span></span> <br/><br/><span data-ttu-id="077e7-121">Som ett minimum kan en indikation på attityden eller känsla i feedbacken hjälpa oss att kategorisera den.</span><span class="sxs-lookup"><span data-stu-id="077e7-121">At a minimum, having an indication of the sentiment, or tone, of feedback would help us categorize it.</span></span>     |
|<span data-ttu-id="077e7-122">Lösningen bör kunna skalas uppåt eller nedåt för att anpassas efter efterfrågan.</span><span class="sxs-lookup"><span data-stu-id="077e7-122">The solution should scale up or down to meet demand.</span></span>    |   <span data-ttu-id="077e7-123">Vi sätter igång.</span><span class="sxs-lookup"><span data-stu-id="077e7-123">We're a startup.</span></span> <span data-ttu-id="077e7-124">Fasta kostnader är svåra att ändra och vi har inte kommit fram till något exakt mönster för feedbacktrafiken.</span><span class="sxs-lookup"><span data-stu-id="077e7-124">Fixed costs are difficult to justify, and we haven't figured out the exact pattern of feedback traffic.</span></span> <span data-ttu-id="077e7-125">Vi behöver en lösning som kan hantera aktivitetstoppar, men kosta så lite som möjligt när det är lugnare.</span><span class="sxs-lookup"><span data-stu-id="077e7-125">We'll need a solution that can tackle bursts of activity, but cost as little as possible during quiet times.</span></span> <br/><br/> <span data-ttu-id="077e7-126">En serverlös arkitektur som faktureras i en förbrukningsplan kan vara ett smart val i det här fallet.</span><span class="sxs-lookup"><span data-stu-id="077e7-126">A serverless architecture billed on a consumption plan is a good candidate in this case.</span></span>     |
| <span data-ttu-id="077e7-127">Skapa en MVP (Minimal Viable Product), men gör lösningen anpassningsbar.</span><span class="sxs-lookup"><span data-stu-id="077e7-127">Produce a Minimal Viable Product (MVP), but make the solution adaptable.</span></span>    | <span data-ttu-id="077e7-128">I dag vill vi kategorisera feedbacken så att vi kan använda våra begränsade resurser för den feedback som är viktig.</span><span class="sxs-lookup"><span data-stu-id="077e7-128">Today, we want to categorize feedback so we can apply our limited resources to the feedback that matters.</span></span> <span data-ttu-id="077e7-129">Om en kund är frustrerad vill vi veta detta omedelbart och börja chatta med dem.</span><span class="sxs-lookup"><span data-stu-id="077e7-129">If a customer is frustrated, we want to know immediately and start chatting with them.</span></span> <span data-ttu-id="077e7-130">I framtiden kan vi förbättra den här lösningen för att kunna göra mer.</span><span class="sxs-lookup"><span data-stu-id="077e7-130">In the future, we'll enhance this solution to do more.</span></span> <span data-ttu-id="077e7-131">En idé för en ny funktion är att undersöka nyckelfraser i feedbacken och kunna identifiera problemområden innan de når flera kunder.</span><span class="sxs-lookup"><span data-stu-id="077e7-131">One idea for a new feature is to examine key phrases in feedback to detect pain points before they reach critical mass with our customers.</span></span> <span data-ttu-id="077e7-132">En annan tanke är att automatisera svar till kunder som är positiva eller neutrala.</span><span class="sxs-lookup"><span data-stu-id="077e7-132">Another idea is to automate responses back to customers who are either positive or neutral.</span></span> <span data-ttu-id="077e7-133">Även om de älskar oss vill vi att de ska veta att vi ändå lyssnar på deras feedback.</span><span class="sxs-lookup"><span data-stu-id="077e7-133">Even though they love us, we want them to know we are still listening to their feedback.</span></span> <br/><br/><span data-ttu-id="077e7-134">En lösning med en Plug and Play-arkitektur är en bra metod här.</span><span class="sxs-lookup"><span data-stu-id="077e7-134">A solution that offers a plug-and-play architecture is a good fit here.</span></span> <span data-ttu-id="077e7-135">Vi kan till exempel använda köer som en form av rad.</span><span class="sxs-lookup"><span data-stu-id="077e7-135">We could, for example, use queues as a form of factory line.</span></span> <span data-ttu-id="077e7-136">Du utför en uppgift och placerar sedan resultatet i en kö för att nästa del av systemet ska kunna välja den och bearbeta den.</span><span class="sxs-lookup"><span data-stu-id="077e7-136">You perform one task, then place the result into a queue for the next part of the system to pick it up and process.</span></span>   |
|<span data-ttu-id="077e7-137">Leverera snabbt.</span><span class="sxs-lookup"><span data-stu-id="077e7-137">Deliver quickly.</span></span>     |   <span data-ttu-id="077e7-138">Vi hört allt det här förut!</span><span class="sxs-lookup"><span data-stu-id="077e7-138">We've all heard this one before!</span></span> <span data-ttu-id="077e7-139">Kom ihåg att den här lösningen är en MVP och vi vill testa vårt scenario snabbt.</span><span class="sxs-lookup"><span data-stu-id="077e7-139">Remember, this solution is an MVP, and we want to test it with our scenario quickly.</span></span> <span data-ttu-id="077e7-140">Om du vill leverera snabbt och med kvalitet måste du skriva mindre kod.</span><span class="sxs-lookup"><span data-stu-id="077e7-140">To deliver at speed and with quality will mean writing less code.</span></span> <br/><br/> <span data-ttu-id="077e7-141">Med hjälp av API för textanalys behöver vi inte träna en modell att identifiera attityder.</span><span class="sxs-lookup"><span data-stu-id="077e7-141">Taking advantage of the Text Analytics API means we don't have to train a model to detect sentiment.</span></span> <span data-ttu-id="077e7-142">Med Azure Functions och att binda till köer deklarativt minskar den kod vi måste skriva.</span><span class="sxs-lookup"><span data-stu-id="077e7-142">Using Azure Functions and binding to queues declaratively reduces the amount of code we have to write.</span></span> <span data-ttu-id="077e7-143">En serverlös lösning innebär också att vi inte behöver bekymra oss om serverhantering.</span><span class="sxs-lookup"><span data-stu-id="077e7-143">A serverless solution also means we don't have to worry about server management.</span></span>   |

<span data-ttu-id="077e7-144">Vår föreslagna lösning för behoven i tabellen ovan ger en glimt i hur du kan mappa krav till lösningar.</span><span class="sxs-lookup"><span data-stu-id="077e7-144">Our proposed solution for each requirement in the preceding table offers a glimpse into how to map requirements to solutions.</span></span> <span data-ttu-id="077e7-145">Låt oss nu se hur en lösning som baseras på Azure kan se ut.</span><span class="sxs-lookup"><span data-stu-id="077e7-145">Let's now see what a solution might look like based on Azure.</span></span>

## <a name="a-solution-based-on-azure-functions-azure-queue-storage-and-text-analytics-api"></a><span data-ttu-id="077e7-146">En lösning som baseras på Azure Functions, Azure Queue Storage och API för textanalys</span><span class="sxs-lookup"><span data-stu-id="077e7-146">A solution based on Azure Functions, Azure Queue Storage, and Text Analytics API</span></span>

<span data-ttu-id="077e7-147">Följande diagram är ett förslag på design av en lösning.</span><span class="sxs-lookup"><span data-stu-id="077e7-147">The following diagram is a design proposal for a solution.</span></span> <span data-ttu-id="077e7-148">Det använder tre kärnkomponenterna i Azure: Azure Queue Storage, Azure Functions och Azure Cognitive Services.</span><span class="sxs-lookup"><span data-stu-id="077e7-148">It uses three core components of Azure: Azure Queue Storage, Azure Functions, and Azure Cognitive Services.</span></span>

![Konceptuellt diagram av en feedbacksorteringsarkitektur.](../media/proposed-solution.PNG)

<span data-ttu-id="077e7-150">Tanken är att textdokument som innehåller användarfeedback placeras i en kö med namnet *new-feedback-q* i föregående diagram.</span><span class="sxs-lookup"><span data-stu-id="077e7-150">The idea is that text documents containing user feedback are placed into a queue that we've named *new-feedback-q* in the preceding diagram.</span></span> <span data-ttu-id="077e7-151">När ett meddelande som innehåller textdokumentet kommer till kön kommer det att utlösa, eller starta körningen av funktionen.</span><span class="sxs-lookup"><span data-stu-id="077e7-151">The arrival of a message containing the text document into the queue will trigger, or start, function execution.</span></span> <span data-ttu-id="077e7-152">Funktionen läser meddelanden som innehåller nya dokument från indatakön och skickar dem för analys till API för textanalys.</span><span class="sxs-lookup"><span data-stu-id="077e7-152">The function reads messages containing new documents from the input queue and sends them for analysis to the Text Analytics API.</span></span> <span data-ttu-id="077e7-153">Baserat på resultatet som API:n returnerar, placeras meddelanden som innehåller dokumentet i en utdatakö för vidare bearbetning.</span><span class="sxs-lookup"><span data-stu-id="077e7-153">Based on the results that the API returns, a new message containing the document is placed into an output queue for further processing.</span></span>

<span data-ttu-id="077e7-154">Resultatet som vi får tillbaka för varje dokument är en attitydpoäng.</span><span class="sxs-lookup"><span data-stu-id="077e7-154">The result we get back for each document is a sentiment score.</span></span> <span data-ttu-id="077e7-155">Utdataköer används för att lagra feedback som delats upp i positiv, neutral och negativ.</span><span class="sxs-lookup"><span data-stu-id="077e7-155">The output queues are used to store feedback sorted into positive, neutral, and negative.</span></span> <span data-ttu-id="077e7-156">Förhoppningsvis kommer den negativa kön alltid att vara tom!</span><span class="sxs-lookup"><span data-stu-id="077e7-156">Hopefully, the negative queue will always be empty!</span></span> <span data-ttu-id="077e7-157">:-) När vi har bucketgrupperat varje inkommande typ av feedback i en utdatakö som baseras på attityder, kan vi lägga till logik för att vidta åtgärder på meddelanden i varje kö.</span><span class="sxs-lookup"><span data-stu-id="077e7-157">:-) Once we've bucketed each incoming piece of feedback into an output queue based on sentiment, you can imagine adding logic to take action on the messages in each queue.</span></span>

<span data-ttu-id="077e7-158">Låt oss titta på ett flödesschema för att se vad funktionslogiken behöver göra.</span><span class="sxs-lookup"><span data-stu-id="077e7-158">Let's look at a flowchart next to see what the function logic needs to do.</span></span>

![Flödesschemat för logiken i Azure-funktionen sorterar textdokument efter attityd till utdataköer.](../media/flow.PNG)

<span data-ttu-id="077e7-160">Vår logik är som en router.</span><span class="sxs-lookup"><span data-stu-id="077e7-160">Our logic is like a router.</span></span> <span data-ttu-id="077e7-161">Den tar textindatan och dirigerar den till en utdatakö baserat på attitydpoängen för texten.</span><span class="sxs-lookup"><span data-stu-id="077e7-161">It takes text input and routes it to an output queue based on the sentiment score of the text.</span></span> <span data-ttu-id="077e7-162">Vi har ett beroende i API för textanalys.</span><span class="sxs-lookup"><span data-stu-id="077e7-162">We have a dependency on Text Analytics API.</span></span> <span data-ttu-id="077e7-163">Även om logiken verkar trivial, innebär funktionen att personer i teamet inte behöver analysera feedbacken manuellt.</span><span class="sxs-lookup"><span data-stu-id="077e7-163">While the logic seems trivial, this function will remove the need for people on the team to analyze feedback manually.</span></span>

## <a name="steps-to-implement-our-solution"></a><span data-ttu-id="077e7-164">Steg för att implementera vår lösning</span><span class="sxs-lookup"><span data-stu-id="077e7-164">Steps to implement our solution</span></span>

<span data-ttu-id="077e7-165">Om du ska implementera lösningen som beskrivs i den här kursdelen, måste du utföra följande steg.</span><span class="sxs-lookup"><span data-stu-id="077e7-165">To implement the solution described in this unit, we'll need to complete the following steps.</span></span>

1. <span data-ttu-id="077e7-166">Skapa en funktionsapp som är värd för vår lösning.</span><span class="sxs-lookup"><span data-stu-id="077e7-166">Create a function app to host our solution.</span></span>

1. <span data-ttu-id="077e7-167">Leta efter attityd i inkommande feedbackmeddelanden med hjälp av API för textanalys.</span><span class="sxs-lookup"><span data-stu-id="077e7-167">Look for sentiment in incoming feedback messages using the Text Analytics API.</span></span> <span data-ttu-id="077e7-168">Vi använder vår åtkomstnyckel från föregående övning och skriver kod för att skicka våra begäranden.</span><span class="sxs-lookup"><span data-stu-id="077e7-168">We'll use our access key from the preceding exercise and write some code to send the requests.</span></span>

1. <span data-ttu-id="077e7-169">Lämna feedback för bearbetning av köer baserat på attityd.</span><span class="sxs-lookup"><span data-stu-id="077e7-169">Post feedback to processing queues based on sentiment.</span></span>

<span data-ttu-id="077e7-170">Vi går vidare till att skapa vår funktionsapp.</span><span class="sxs-lookup"><span data-stu-id="077e7-170">Let's move on to creating our function app.</span></span>