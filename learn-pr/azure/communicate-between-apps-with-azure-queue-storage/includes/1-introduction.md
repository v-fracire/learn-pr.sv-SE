<span data-ttu-id="3e755-101">Anta att du arbetar för en större nyhetsorganisation som rapporterar aviseringar om de senaste nyheterna.</span><span class="sxs-lookup"><span data-stu-id="3e755-101">Imagine you work for a major news organization that reports breaking news alerts.</span></span> <span data-ttu-id="3e755-102">Företaget har ett globalt nätverk av journalister som hela tiden skickar uppdateringar via en webbportal och en mobilapp.</span><span class="sxs-lookup"><span data-stu-id="3e755-102">Our company employs a worldwide network of journalists that are constantly sending updates through a web portal and a mobile app.</span></span> <span data-ttu-id="3e755-103">Ett webbtjänstlager på mellannivå tar sedan dessa aviseringsuppdateringar och publicerar dem online via flera kanaler.</span><span class="sxs-lookup"><span data-stu-id="3e755-103">A middle tier web service layer then takes those alert updates and publishes them online through several channels.</span></span>

<span data-ttu-id="3e755-104">Men det har framkommit att det saknas aviseringar i systemet när viktiga globala händelser inträffar.</span><span class="sxs-lookup"><span data-stu-id="3e755-104">However, it's been noticed the system is missing alerts when globally significant events occur.</span></span> <span data-ttu-id="3e755-105">Det här är ett _enormt_ problem eftersom våra konkurrenter därmed blir först med att leverera dessa nyheter!</span><span class="sxs-lookup"><span data-stu-id="3e755-105">This is a _huge_ problem because we're being "scooped" by our competition!</span></span> <span data-ttu-id="3e755-106">Eftersom du är företagets bästa utvecklare har du valts ut att identifiera och åtgärda problemet.</span><span class="sxs-lookup"><span data-stu-id="3e755-106">You've been hand-selected as the company's top developer to identify and fix the problem.</span></span>

<span data-ttu-id="3e755-107">Mellannivån har tillräckligt med kapacitet för att hantera vanliga belastningar.</span><span class="sxs-lookup"><span data-stu-id="3e755-107">The middle tier provides plenty of capacity to handle normal loads.</span></span> <span data-ttu-id="3e755-108">Men en närmare titt på serverloggarna visar att systemet överbelastas när många journalister försöker ladda upp stora mängder nyhetsinformation samtidigt.</span><span class="sxs-lookup"><span data-stu-id="3e755-108">However, a look at the server logs revealed the system was overloaded when several journalists tried to upload larger breaking stories at the same time.</span></span> <span data-ttu-id="3e755-109">Vissa skribenter klagar på att portalen slutar svara, och andra säger att deras nyheter försvunnit helt och hållet.</span><span class="sxs-lookup"><span data-stu-id="3e755-109">Some writers complained the portal became unresponsive, and others said they lost their stories altogether.</span></span> <span data-ttu-id="3e755-110">Du har upptäckt ett direkt samband mellan de rapporterade problemen och toppar i efterfrågan på servrar på mellannivå.</span><span class="sxs-lookup"><span data-stu-id="3e755-110">You've spotted a direct correlation between the reported issues and the spike in demand on the middle tier servers.</span></span>

<span data-ttu-id="3e755-111">Du behöver alltså ett sätt att hantera dessa oväntade toppar.</span><span class="sxs-lookup"><span data-stu-id="3e755-111">Clearly, you need a way to handle these unexpected peaks.</span></span> <span data-ttu-id="3e755-112">Du vill inte lägga till fler instanser av webbplatsen och webbtjänsten på mellannivå, eftersom det är dyrt och inte behövs under normala förhållanden.</span><span class="sxs-lookup"><span data-stu-id="3e755-112">You don't want to add more instances of the website and middle tier web service because they're expensive and, under normal conditions, redundant.</span></span> <span data-ttu-id="3e755-113">Vi skulle kunna sätta igång instanser dynamiskt, men det skulle ta tid och vi skulle få problem med att vänta tills de nya servrarna är igång.</span><span class="sxs-lookup"><span data-stu-id="3e755-113">We could dynamically spin up instances, but this takes time and we'd have the issue waiting for new servers to come online.</span></span>

<span data-ttu-id="3e755-114">Du kan lösa problemet med hjälp av Azure Queue Storage.</span><span class="sxs-lookup"><span data-stu-id="3e755-114">You can solve this problem by using Azure Queue storage.</span></span> <span data-ttu-id="3e755-115">En lagringskö är en högpresterande meddelandebuffert som kan fungera som meddelandekö mellan komponenterna på klientdelen (”producenterna”) och på mellannivån (”konsumenten”).</span><span class="sxs-lookup"><span data-stu-id="3e755-115">A storage queue is a high-performance message buffer that can act as a broker between the front-end components (the "producers") and the middle tier (the "consumer").</span></span> 

<span data-ttu-id="3e755-116">Våra komponenter på klientdelen placerar ett meddelande för varje ny avisering i en kö.</span><span class="sxs-lookup"><span data-stu-id="3e755-116">Our front-end components place a message for each new alert into a queue.</span></span> <span data-ttu-id="3e755-117">På mellannivån tas dessa meddelanden sedan emot ett i taget från kön för bearbetning.</span><span class="sxs-lookup"><span data-stu-id="3e755-117">The middle tier then retrieves these messages one at a time from the queue for processing.</span></span> <span data-ttu-id="3e755-118">Vid tidpunkter med hög efterfrågan växer kön, men inga nyheter går förlorade och programmet fortsätter att svara.</span><span class="sxs-lookup"><span data-stu-id="3e755-118">At times of high-demand, the queue may grow in length, but no stories will be lost, and the application will remain responsive.</span></span> <span data-ttu-id="3e755-119">När behovet sjunker tillbaka till normalnivåerna kan webbtjänsten komma ikapp genom att kvarvarande uppgifter i kön gås igenom.</span><span class="sxs-lookup"><span data-stu-id="3e755-119">When demand drops back to normal levels, the web service will catch up by working through the queue backlog.</span></span>

<span data-ttu-id="3e755-120">Nu ska vi visa hur du kan hantera hög efterfrågan och förbättra flexibiliteten i dina distribuerade program med Azure Queue Storage.</span><span class="sxs-lookup"><span data-stu-id="3e755-120">Let's learn how to use Azure Queue storage to handle high demand and improve resilience in your distributed applications.</span></span>

## <a name="learning-objectives"></a><span data-ttu-id="3e755-121">Utbildningsmål</span><span class="sxs-lookup"><span data-stu-id="3e755-121">Learning objectives</span></span>

- <span data-ttu-id="3e755-122">Skapa ett Azure Storage-konto med stöd för köer.</span><span class="sxs-lookup"><span data-stu-id="3e755-122">Create an Azure Storage account that supports queues.</span></span>
- <span data-ttu-id="3e755-123">Skapa en kö med C# och Azure Storage-klientbiblioteket för .NET.</span><span class="sxs-lookup"><span data-stu-id="3e755-123">Create a queue using C# and the Azure Storage Client Library for .NET.</span></span>
- <span data-ttu-id="3e755-124">Lägga till, hämta och ta bort meddelanden från en kö med C# och Azure Storage-klientbiblioteket för .NET.</span><span class="sxs-lookup"><span data-stu-id="3e755-124">Add, retrieve, and remove messages from a queue using C# and the Azure Storage Client Library for .NET.</span></span>