<span data-ttu-id="05257-101">Du är nu redo att börja implementera temperaturtjänsten.</span><span class="sxs-lookup"><span data-stu-id="05257-101">You are now ready to start implementing the temperature service.</span></span> <span data-ttu-id="05257-102">I den föregående delen fastställde du att en lösning utan server skulle passa bäst för dina behov.</span><span class="sxs-lookup"><span data-stu-id="05257-102">In the previous unit, you determined that a serverless solution would best fit your needs.</span></span> <span data-ttu-id="05257-103">Låt oss börja med att skapa en funktionsapp för att lagra våra Azure-funktion.</span><span class="sxs-lookup"><span data-stu-id="05257-103">Let's start by creating a function app to hold our Azure Function.</span></span>

## <a name="what-is-a-function-app"></a><span data-ttu-id="05257-104">Vad är en funktionsapp?</span><span class="sxs-lookup"><span data-stu-id="05257-104">What is a function app?</span></span>

<span data-ttu-id="05257-105">Funktioner tillhandahålls i en körningskontext som kallas **funktionsapp**.</span><span class="sxs-lookup"><span data-stu-id="05257-105">Functions are hosted in an execution context called a **function app**.</span></span> <span data-ttu-id="05257-106">Du definierar funktionsappar för att logiskt gruppera och strukturera funktionerna och en beräkningsresurs i Azure.</span><span class="sxs-lookup"><span data-stu-id="05257-106">You define function apps to logically group and structure your functions and a compute resource in Azure.</span></span> <span data-ttu-id="05257-107">I vårt exempel med en hiss skulle en funktionsapp ha skapats som värd för temperaturtjänsten för maskineriets drivhjul.</span><span class="sxs-lookup"><span data-stu-id="05257-107">In our elevator example, you would create a function app to host the escalator drive gear temperature service.</span></span> <span data-ttu-id="05257-108">Det finns några beslut som måste fattas för att skapa en funktionsapp. Du måste välja en tjänstplan och ett kompatibelt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="05257-108">There are a few decisions that need to be made to create the function app; you need to choose a service plan and select a compatible storage account.</span></span>

### <a name="choosing-a-service-plan"></a><span data-ttu-id="05257-109">Välja en tjänstplan</span><span class="sxs-lookup"><span data-stu-id="05257-109">Choosing a service plan</span></span>

<span data-ttu-id="05257-110">Funktionsappar kan användas med en av två typer av tjänstplaner.</span><span class="sxs-lookup"><span data-stu-id="05257-110">Function apps may use one of two types of service plans.</span></span> <span data-ttu-id="05257-111">Den första är **förbrukningsplanen**.</span><span class="sxs-lookup"><span data-stu-id="05257-111">The first service plan is the **Consumption service plan**.</span></span> <span data-ttu-id="05257-112">Välj den här planen om du använder Azures programplattform utan server.</span><span class="sxs-lookup"><span data-stu-id="05257-112">This is the plan that you choose when using the Azure serverless application platform.</span></span> <span data-ttu-id="05257-113">Förbrukningsplanen innehåller automatisk skalning, och du debiteras när funktionerna körs.</span><span class="sxs-lookup"><span data-stu-id="05257-113">The Consumption service plan provides automatic scaling and bills you when your functions are running.</span></span> <span data-ttu-id="05257-114">I förbrukningsplanen ingår en konfigurerbar tidsgräns för funktionens körning.</span><span class="sxs-lookup"><span data-stu-id="05257-114">The Consumption plan comes with a configurable timeout period for the execution of a function.</span></span> <span data-ttu-id="05257-115">Den är som standard 5 minuter, men kan konfigureras för upp till 10 minuter.</span><span class="sxs-lookup"><span data-stu-id="05257-115">By default, it is 5 minutes, but may be configured to have a timeout as long as 10 minutes.</span></span>

<span data-ttu-id="05257-116">Den andra planen är **Azure App Service-planen**.</span><span class="sxs-lookup"><span data-stu-id="05257-116">The second plan is called the **Azure App Service plan**.</span></span> <span data-ttu-id="05257-117">Med den här planen kan du undvika tidsgränsperioder genom att funktionen körs kontinuerligt på en virtuell dator som du definierar.</span><span class="sxs-lookup"><span data-stu-id="05257-117">This plan allows you to avoid timeout periods by having your function run continuously on a VM that you define.</span></span> <span data-ttu-id="05257-118">När du använder en App Service-plan ansvarar du för att hantera de appresurser som funktionen körs på, så det är tekniskt sett inte en serverlös plan.</span><span class="sxs-lookup"><span data-stu-id="05257-118">When using an App Service plan, you are responsible for managing the app resources the function runs on, so this is technically not a serverless plan.</span></span> <span data-ttu-id="05257-119">Men det kan vara ett bättre alternativ om dina funktioner används kontinuerligt eller kräver mer processorkraft eller körningstid än vad som ingår i förbrukningsplanen.</span><span class="sxs-lookup"><span data-stu-id="05257-119">However, it may be a better choice if your functions are used continuously or if your functions require more processing power or execution time than the Consumption plan can provide.</span></span>

### <a name="storage-account-requirements"></a><span data-ttu-id="05257-120">Krav för lagringskonto</span><span class="sxs-lookup"><span data-stu-id="05257-120">Storage account requirements</span></span>

<span data-ttu-id="05257-121">När du skapar en funktionsapp måste den kopplas till ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="05257-121">When you create a function app, it must be linked to a storage account.</span></span> <span data-ttu-id="05257-122">Du kan välja ett befintligt konto eller skapa ett nytt.</span><span class="sxs-lookup"><span data-stu-id="05257-122">You can select an existing account or create a new one.</span></span> <span data-ttu-id="05257-123">Lagringskontot används av funktionsappen vid interna åtgärder som att logga funktionskörningar och hantera körningsutlösare.</span><span class="sxs-lookup"><span data-stu-id="05257-123">The function app uses this storage account for internal operations such as logging function executions and managing execution triggers.</span></span> <span data-ttu-id="05257-124">Med förbrukningsplanen är det även här som funktionskoden och konfigurationsfilen lagras.</span><span class="sxs-lookup"><span data-stu-id="05257-124">On the Consumption service plan, this is also where the function code and configuration file are stored.</span></span>

## <a name="create-a-function-app"></a><span data-ttu-id="05257-125">Skapa en funktionsapp</span><span class="sxs-lookup"><span data-stu-id="05257-125">Create a function app</span></span>

<span data-ttu-id="05257-126">Nu ska vi skapa en funktionsapp i Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="05257-126">Let's create a function app in the Azure portal.</span></span>

1. <span data-ttu-id="05257-127">Logga in på [Azure Portal](https://portal.azure.com?azure-portal=true) med ditt Azure-konto.</span><span class="sxs-lookup"><span data-stu-id="05257-127">Sign in to the [Azure portal](https://portal.azure.com?azure-portal=true) using your Azure account.</span></span>

1. <span data-ttu-id="05257-128">Välj knappen **Skapa en resurs** längst upp till vänster på Azure Portal och sedan **Kom igång > Serverlös funktionsapp** för att öppna bladet Funktionsapp *Skapa*.</span><span class="sxs-lookup"><span data-stu-id="05257-128">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, and then select **Get started > Serverless Function App** to open the Function App *Create* blade.</span></span> <span data-ttu-id="05257-129">Du kan också använda alternativet **Compute > Funktionsapp** då samma blad öppnas.</span><span class="sxs-lookup"><span data-stu-id="05257-129">Alternatively, you can use the **Compute > Function App** option, which will open the same blade.</span></span>

  ![Skärmbild av Azure Portal som visar bladet Skapa resurs med Compute-avsnittet och Funktionsapp markerade.](../media/3-create-function-app-blade.png)

1. <span data-ttu-id="05257-131">Välj ett globalt unikt appnamn.</span><span class="sxs-lookup"><span data-stu-id="05257-131">Choose a globally unique app name.</span></span> <span data-ttu-id="05257-132">Det kommer att fungera som bas-URL för din tjänst.</span><span class="sxs-lookup"><span data-stu-id="05257-132">This will serve as the base URL of your service.</span></span> <span data-ttu-id="05257-133">Du kan till exempel kalla den **escalator-functions-xxxxxxx**, där kryssen kan ersättas med dina initialer och ditt födelseår.</span><span class="sxs-lookup"><span data-stu-id="05257-133">For example, you can name it **escalator-functions-xxxxxxx**, where the x's can be replaced with your initials and your birth year.</span></span> <span data-ttu-id="05257-134">Om den ändå inte är globalt unikt kan du testa vilken kombination som helst.</span><span class="sxs-lookup"><span data-stu-id="05257-134">If this isn't globally unique, you can try any other combination.</span></span> <span data-ttu-id="05257-135">Giltiga tecken är a-z, 0-9 och -.</span><span class="sxs-lookup"><span data-stu-id="05257-135">Valid characters are a-z, 0-9 and -.</span></span>

1. <span data-ttu-id="05257-136">Välj den Azure-prenumeration som du vill ska vara värd för funktionsappen.</span><span class="sxs-lookup"><span data-stu-id="05257-136">Select the Azure subscription where you would like the function app hosted.</span></span>

1. <span data-ttu-id="05257-137">Skapa en ny resursgrupp som kallas **escalator-functions-group**.</span><span class="sxs-lookup"><span data-stu-id="05257-137">Create a new resource group called **escalator-functions-group**.</span></span> <span data-ttu-id="05257-138">Genom att använda en resursgrupp för alla resurser som används i den här modulen blir det lättare att rensa senare.</span><span class="sxs-lookup"><span data-stu-id="05257-138">Using a resource group to hold all resources used in this module will help with clean-up later.</span></span>

1. <span data-ttu-id="05257-139">Välj **Windows** som OS.</span><span class="sxs-lookup"><span data-stu-id="05257-139">Select **Windows** for OS.</span></span>

1. <span data-ttu-id="05257-140">För **som är värd för planera**väljer **Standardförbrukningsplanen**, vilket är alternativet utan server som värd.</span><span class="sxs-lookup"><span data-stu-id="05257-140">For **Hosting Plan**, select **Consumption Plan**, which is the serverless hosting option.</span></span>

1. <span data-ttu-id="05257-141">Välj den geografiska plats som är närmast dig (eller dina kunder).</span><span class="sxs-lookup"><span data-stu-id="05257-141">Select the geographical location closest to you (or your customers).</span></span>

1. <span data-ttu-id="05257-142">Skapa ett nytt lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="05257-142">Create a new storage account.</span></span> <span data-ttu-id="05257-143">Azure ger det ett namn baserat på appnamnet.</span><span class="sxs-lookup"><span data-stu-id="05257-143">Azure will give it a name based on the app name.</span></span> <span data-ttu-id="05257-144">Du kan ändra det om du vill, men det måste också vara unikt.</span><span class="sxs-lookup"><span data-stu-id="05257-144">You can change it if you like, but it must also be unique.</span></span>

1. <span data-ttu-id="05257-145">Se till att Azure Application Insights är **På** och välj den region som är närmast dig (eller dina kunder).</span><span class="sxs-lookup"><span data-stu-id="05257-145">Make sure that Azure Application Insights is **On** and select the region closest to you (or your customers).</span></span>
  <span data-ttu-id="05257-146">När du är klar bör konfigurationen se ut som på följande skärmbild.</span><span class="sxs-lookup"><span data-stu-id="05257-146">When you're finished, your configuration should look like the config in the following screenshot.</span></span>

  ![Skärmbild av Azure Portal som visar funktionsappens Skapa-blad med alla fält konfigurerade enligt anvisningarna ovan.](../media/3-create-function-app-settings.png)

1. <span data-ttu-id="05257-148">Välj **Skapa**. Distributionen kan ta några minuter.</span><span class="sxs-lookup"><span data-stu-id="05257-148">Select **Create**; deployment will take a few minutes.</span></span> <span data-ttu-id="05257-149">Du får ett meddelande när den är klar.</span><span class="sxs-lookup"><span data-stu-id="05257-149">You'll receive a notification once it's complete.</span></span>

## <a name="verify-your-azure-function-app"></a><span data-ttu-id="05257-150">Verifiera din Azure-funktionsapp</span><span class="sxs-lookup"><span data-stu-id="05257-150">Verify your Azure function app</span></span>

1. <span data-ttu-id="05257-151">Välj **Resursgrupper** i den vänstra menyn i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="05257-151">From the Azure portal left-hand menu, select **Resource groups**.</span></span> <span data-ttu-id="05257-152">Du bör se **escalator-functions-group** i listan över tillgängliga grupper.</span><span class="sxs-lookup"><span data-stu-id="05257-152">You should then see the **escalator-functions-group** in the list of available groups.</span></span>

  ![Skärmbild av Azure Portal som visar Resurs-gruppsbladet med menyalternativet Resursgrupper och eskaleringsfunktionens grupplisteobjekt markerat.](../media/3-resource-group.png)

1. <span data-ttu-id="05257-154">Välj **escalator-functions-group**.</span><span class="sxs-lookup"><span data-stu-id="05257-154">Select the **escalator-functions-group**.</span></span> <span data-ttu-id="05257-155">Du bör se en lista över resurser som liknar följande lista.</span><span class="sxs-lookup"><span data-stu-id="05257-155">You should then see a resource list like the following list.</span></span>

  ![Skärmbild av Azure Portal som visar alla resurser i gruppen escalator-functions-group, inklusive poster för en App Service-plan, ett lagringskonto, en Application Insights-resurs och en App Service.](../media/3-resource-list.png)

<span data-ttu-id="05257-157">Objektet med blixtikonen, som visas som en App Service, är din nya funktionsapp.</span><span class="sxs-lookup"><span data-stu-id="05257-157">The item with the lightning bolt Function icon, listed as an App Service, is your new function app.</span></span> <span data-ttu-id="05257-158">Du kan klicka på den för att öppna information om den nya funktionen – den har tilldelats en offentlig URL, om du öppnar den i en webbläsare bör du få en standardsida som visar att din funktionsapp körs.</span><span class="sxs-lookup"><span data-stu-id="05257-158">You can click on it to open the details about the new function - it has a public URL assigned to it, if you open that in a browser, you should get a default web page that indicates your Function App is running.</span></span>
