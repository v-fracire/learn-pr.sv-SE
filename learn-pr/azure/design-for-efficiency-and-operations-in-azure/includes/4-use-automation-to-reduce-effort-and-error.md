<span data-ttu-id="adb99-101">Att hantera infrastrukturen med någon typ av arbetsbelastning innefattar även konfigurationsåtgärder.</span><span class="sxs-lookup"><span data-stu-id="adb99-101">Managing the infrastructure of any type of workload involves configuration tasks.</span></span> <span data-ttu-id="adb99-102">Den här konfigurationen kan göras manuellt, men manuella steg kan vara arbetskrävande, kan lätt drabbas av fel och vara ineffektiva.</span><span class="sxs-lookup"><span data-stu-id="adb99-102">This configuration can be done manually, but manual steps can be labor-intensive, error prone, and inefficient.</span></span> <span data-ttu-id="adb99-103">Hur gör du om du ska leda ett projekt som kräver distribution av hundratals system i Azure?</span><span class="sxs-lookup"><span data-stu-id="adb99-103">What if you are assigned to lead a project that required the deployment of hundreds of systems on Azure?</span></span> <span data-ttu-id="adb99-104">Hur skulle du skapa och konfigurera de här resurserna?</span><span class="sxs-lookup"><span data-stu-id="adb99-104">How would you build and configure these resources?</span></span> <span data-ttu-id="adb99-105">Hur lång tid kommer det att ta?</span><span class="sxs-lookup"><span data-stu-id="adb99-105">How long would this take?</span></span> <span data-ttu-id="adb99-106">Kan du vara säker på att varje system har konfigurerats korrekt, utan avvikelse mellan dem?</span><span class="sxs-lookup"><span data-stu-id="adb99-106">Could you ensure that each system was configured properly, with no variance between them?</span></span> <span data-ttu-id="adb99-107">Om du använder automatisering i arkitekturutformningen tar du dig förbi dessa svårigheter.</span><span class="sxs-lookup"><span data-stu-id="adb99-107">By using automation in your architecture design, you can work past these challenges.</span></span> <span data-ttu-id="adb99-108">Låt oss ta en titt på några av de sätt som du kan automatisera på i Azure.</span><span class="sxs-lookup"><span data-stu-id="adb99-108">Let's take a look at some of the ways you can automate on Azure.</span></span>

## <a name="infrastructure-as-code"></a><span data-ttu-id="adb99-109">Infrastruktur som kod</span><span class="sxs-lookup"><span data-stu-id="adb99-109">Infrastructure as code</span></span>

<span data-ttu-id="adb99-110">Infrastruktur som kod är hantering av infrastrukturen (nätverk, virtuella datorer, lastbalanserare och anslutningstopologi) i en beskrivande modell, med hjälp av ett system för versionshantering som liknar vad som används för källkod.</span><span class="sxs-lookup"><span data-stu-id="adb99-110">Infrastructure as code is the management of infrastructure (networks, virtual machines, load balancers, and connection topology) in a descriptive model, using a versioning system similar to what is used for source code.</span></span> <span data-ttu-id="adb99-111">Precis som principen att samma källkod genererar samma binärfil så skapar en modell för IaC samma miljö varje gång den används.</span><span class="sxs-lookup"><span data-stu-id="adb99-111">Like the principle that the same source code generates the same binary, an IaC model generates the same environment every time it is applied.</span></span> <span data-ttu-id="adb99-112">IaC är en viktig DevOps-praxis och används ofta tillsammans med kontinuerlig leverans.</span><span class="sxs-lookup"><span data-stu-id="adb99-112">IaC is a key DevOps practice and is often used in conjunction with continuous delivery.</span></span>

<span data-ttu-id="adb99-113">Infrastruktur som kod har utvecklats för att lösa problemet med miljödrift.</span><span class="sxs-lookup"><span data-stu-id="adb99-113">Infrastructure as code evolved to solve the problem of environment drift.</span></span> <span data-ttu-id="adb99-114">Utan IaC måste team bibehålla inställningarna för enskilda distributionsmiljöer.</span><span class="sxs-lookup"><span data-stu-id="adb99-114">Without IaC, teams must maintain the settings of individual deployment environments.</span></span> <span data-ttu-id="adb99-115">Över tid blir varje miljö en snöflinga, det vill säga en unik konfiguration som inte kan reproduceras automatiskt.</span><span class="sxs-lookup"><span data-stu-id="adb99-115">Over time, each environment becomes a snowflake, that is, a unique configuration that cannot be reproduced automatically.</span></span> <span data-ttu-id="adb99-116">Inkonsekvens mellan miljöer leder till problem vid distributioner.</span><span class="sxs-lookup"><span data-stu-id="adb99-116">Inconsistency among environments leads to issues during deployments.</span></span> <span data-ttu-id="adb99-117">Med snöflingor, involverar administration och underhåll av infrastruktur manuella processer som är svåra att spåra och bidrar till fel.</span><span class="sxs-lookup"><span data-stu-id="adb99-117">With snowflakes, administration and maintenance of infrastructure involves manual processes which were hard to track and contributed to errors.</span></span>

<span data-ttu-id="adb99-118">När du ska automatisera distributionen av tjänster och infrastruktur finns det två olika metoder som du kan använda: imperativ och deklarativ.</span><span class="sxs-lookup"><span data-stu-id="adb99-118">When automating the deployment of services and infrastructure, there are two different approaches you can take: imperative and declarative.</span></span> <span data-ttu-id="adb99-119">I en imperativ metod anger du uttryckligen de kommandon som ska köras för att ge resultatet som du vill ha.</span><span class="sxs-lookup"><span data-stu-id="adb99-119">In an imperative approach, you explicitly state the commands that are executed to produce the outcome you are looking for.</span></span> <span data-ttu-id="adb99-120">I en deklarativ metod anger du vad du vill att resultatet ska bli, i stället för att ange hur du vill att den ska utföras.</span><span class="sxs-lookup"><span data-stu-id="adb99-120">With a declarative approach, you specify what you want the outcome to be instead of specifying how you want it done.</span></span> <span data-ttu-id="adb99-121">Båda metoderna är användbara, så det finns inget fel val.</span><span class="sxs-lookup"><span data-stu-id="adb99-121">Both approaches are valuable, so there's no wrong choice.</span></span> <span data-ttu-id="adb99-122">Hur ser dessa olika metoder ut i Azure och hur använder du dem?</span><span class="sxs-lookup"><span data-stu-id="adb99-122">What do these different approaches look like on Azure, and how do you use them?</span></span>

### <a name="imperative-automation"></a><span data-ttu-id="adb99-123">Imperativ automatisering</span><span class="sxs-lookup"><span data-stu-id="adb99-123">Imperative automation</span></span>

<span data-ttu-id="adb99-124">Vi börjar med imperativ automatisering.</span><span class="sxs-lookup"><span data-stu-id="adb99-124">Let's start with imperative automation.</span></span> <span data-ttu-id="adb99-125">Vid imperativ automatisering anger vi _hur_ saker ska utföras.</span><span class="sxs-lookup"><span data-stu-id="adb99-125">With imperative automation, we're specifying _how_ things are to be done.</span></span> <span data-ttu-id="adb99-126">Detta görs normalt programmatiskt med ett skriptspråk eller en SDK.</span><span class="sxs-lookup"><span data-stu-id="adb99-126">This is typically done programmatically through a scripting language or SDK.</span></span> <span data-ttu-id="adb99-127">Vi kan använda Azure CLI eller Azure PowerShell för Azure-resurser.</span><span class="sxs-lookup"><span data-stu-id="adb99-127">For Azure resources, we could use the Azure CLI or Azure PowerShell.</span></span> <span data-ttu-id="adb99-128">Låt oss ta en titt på ett exempel som använder Azure CLI till att skapa ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="adb99-128">Let's take a look at an example that uses the Azure CLI to create a storage account.</span></span>

```azure-cli
az group create --name storage-resource-group \
        --location eastus

az storage account create --name mystorageaccount \
        --resource-group storage-resource-group \
        --kind BlobStorage \
        --access-tier hot
```

<span data-ttu-id="adb99-129">I det här exemplet visar vi hur du skapar dessa resurser.</span><span class="sxs-lookup"><span data-stu-id="adb99-129">In this example, we're specifying how to create these resources.</span></span> <span data-ttu-id="adb99-130">Kör ett kommando för att skapa en resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="adb99-130">Execute a command to create a resource group.</span></span> <span data-ttu-id="adb99-131">Kör ett annat kommando för att skapa ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="adb99-131">Execute another command to create a storage account.</span></span> <span data-ttu-id="adb99-132">Vi talar uttryckligen om för Azure vilka kommandon som ska köras för att generera de utdata som vi behöver.</span><span class="sxs-lookup"><span data-stu-id="adb99-132">We're explicitly telling Azure what commands to run to produce the output we need.</span></span>

<span data-ttu-id="adb99-133">Med den här metoden kan vi automatisera vår infrastruktur till fullo.</span><span class="sxs-lookup"><span data-stu-id="adb99-133">With this approach, we're able to fully automate our infrastructure.</span></span> <span data-ttu-id="adb99-134">Vi kan ange områden för indata och utdata och se till att samma kommandon utförs varje gång.</span><span class="sxs-lookup"><span data-stu-id="adb99-134">We can provide areas for input and output, and can ensure that the same commands are executed every time.</span></span> <span data-ttu-id="adb99-135">Genom att automatisera våra resurser tar vi bort de manuella stegen från processen, vilket gör resursadministrationen mer effektiv.</span><span class="sxs-lookup"><span data-stu-id="adb99-135">By automating our resources, we've taken the manual steps out of the process, making resource administration operationally more efficient.</span></span> <span data-ttu-id="adb99-136">Det finns dock vissa nackdelar med den här metoden.</span><span class="sxs-lookup"><span data-stu-id="adb99-136">There are some downsides to this approach though.</span></span> <span data-ttu-id="adb99-137">Skript för att skapa resurser kan snabbt bli komplexa när arkitekturen blir mer komplex.</span><span class="sxs-lookup"><span data-stu-id="adb99-137">Scripts to create resources can quickly become complex as the architecture becomes more complex.</span></span> <span data-ttu-id="adb99-138">Felhantering och verifiering av indata kan behöva läggas till för att säkerställa en fullständig körning.</span><span class="sxs-lookup"><span data-stu-id="adb99-138">Error handling and input validation may need to be added to ensure full execution.</span></span> <span data-ttu-id="adb99-139">Kommandon kan ändras, vilket kräver löpande underhåll av skripten.</span><span class="sxs-lookup"><span data-stu-id="adb99-139">Commands may change, requiring ongoing maintenance of the scripts.</span></span>

### <a name="declarative-automation"></a><span data-ttu-id="adb99-140">Deklarativ automatisering</span><span class="sxs-lookup"><span data-stu-id="adb99-140">Declarative automation</span></span>

<span data-ttu-id="adb99-141">Med deklarativ automatisering anger vi _vad_ vi vill att vårt resultat ska bli och det är upp till systemet att utföra det.</span><span class="sxs-lookup"><span data-stu-id="adb99-141">With declarative automation, we're specifying _what_ we want our result to be, leaving the details of how it's done to the system we're using.</span></span> <span data-ttu-id="adb99-142">I Azure utförs deklarativ automatisering med hjälp av Azure Resource Manager-mallar.</span><span class="sxs-lookup"><span data-stu-id="adb99-142">On Azure, declarative automation is done through the use of Azure Resource Manager templates.</span></span>

<span data-ttu-id="adb99-143">Resource Manager-mallar är JSON-strukturerade filer som anger vad vi vill skapa.</span><span class="sxs-lookup"><span data-stu-id="adb99-143">Resource Manager templates are JSON-structured files that specify what we want created.</span></span> <span data-ttu-id="adb99-144">I exemplet nedan säger vi till Azure att skapa ett lagringskonto med de namn och egenskaper som vi anger.</span><span class="sxs-lookup"><span data-stu-id="adb99-144">In the example below, we're telling Azure to create a storage account with the names and properties that we specify.</span></span> <span data-ttu-id="adb99-145">Vilka faktiska steg som utförs för att skapa lagringskontot är upp till Azure.</span><span class="sxs-lookup"><span data-stu-id="adb99-145">The actual steps that are executed to create this storage account are left to Azure.</span></span> <span data-ttu-id="adb99-146">Mallarna består av fyra delar: parametrar, variabler, resurser och utdata.</span><span class="sxs-lookup"><span data-stu-id="adb99-146">Templates have four sections: parameters, variables, resources, and outputs.</span></span> <span data-ttu-id="adb99-147">Parametrarna hanterar de indata som ska användas i mallen.</span><span class="sxs-lookup"><span data-stu-id="adb99-147">Parameters handle input to be used within the template.</span></span> <span data-ttu-id="adb99-148">Variabler används till att lagra värden som ska användas i mallen.</span><span class="sxs-lookup"><span data-stu-id="adb99-148">Variables provide a way to store values for use throughout the template.</span></span> <span data-ttu-id="adb99-149">Resurser är det som skapas och utdatan ger information till användaren om det som har skapats.</span><span class="sxs-lookup"><span data-stu-id="adb99-149">Resources are the things that are being created, and outputs are a way to provide details to the user of what was created.</span></span>

```json
{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "name": {
            "type": "string"
        },
        "location": {
            "type": "string"
        },
        "accountType": {
            "type": "string",
            "defaultValue": "Standard_RAGRS"
        },
        "kind": {
            "type": "string"
        },
        "accessTier": {
            "type": "string"
        },
        "httpsTrafficOnlyEnabled": {
            "type": "bool",
            "defaultValue": true
        }
    },
    "variables": {
    },
    "resources": [
        {
            "apiVersion": "2018-02-01",
            "name": "[parameters('name')]",
            "location": "[parameters('location')]",
            "type": "Microsoft.Storage/storageAccounts",
            "sku": {
                "name": "[parameters('accountType')]"
            },
            "kind": "[parameters('kind')]",
            "properties": {
                "supportsHttpsTrafficOnly": "[parameters('httpsTrafficOnlyEnabled')]",
                "accessTier": "[parameters('accessTier')]",
                "encryption": {
                    "services": {
                        "blob": {
                            "enabled": true
                        },
                        "file": {
                            "enabled": true
                        }
                    },
                    "keySource": "Microsoft.Storage"
                }
            },
            "dependsOn": []
        }
    ],
    "outputs": {
        "storageAccountName": {
            "type": "string",
            "value": "[parameters('name')]"
        }
    }
}
```

<span data-ttu-id="adb99-150">Mallar kan användas för att skapa och ändra de flesta tjänster i Azure.</span><span class="sxs-lookup"><span data-stu-id="adb99-150">Templates can be used to create and manipulate most services on Azure.</span></span> <span data-ttu-id="adb99-151">De kan lagras i koddatabaser och källkontrolleras samt delas mellan miljöer för att säkerställa att infrastrukturen som utvecklas matchar vad som faktiskt finns i produktion.</span><span class="sxs-lookup"><span data-stu-id="adb99-151">They can be stored in code repositories and source controlled, and shared across environments to ensure that the infrastructure being developed against matches what's actually in production.</span></span> <span data-ttu-id="adb99-152">De är ett bra sätt att automatisera distributioner på och uppnå konsekvens, eliminera felkonfigurationer samt öka den operativa hastigheten.</span><span class="sxs-lookup"><span data-stu-id="adb99-152">They are a great way to automate deployments and help ensure consistency, eliminate deployment misconfigurations, and can increase operational speed.</span></span>

<span data-ttu-id="adb99-153">Att automatisera din distribution av infrastrukturen är ett bra första steg, men när du distribuerar virtuella datorer finns det fortfarande mer arbete som ska göras.</span><span class="sxs-lookup"><span data-stu-id="adb99-153">Automating your infrastructure deployment is a great first step, but when deploying virtual machines, there's still more work to do.</span></span> <span data-ttu-id="adb99-154">Låt oss ta en titt på ett par olika sätt att automatisera konfigurationen på efter distributionen.</span><span class="sxs-lookup"><span data-stu-id="adb99-154">Let's take a look at a couple of approaches to automating configuration post deployment.</span></span>

## <a name="vm-customization-images-vs-post-deployment-configuration"></a><span data-ttu-id="adb99-155">Anpassning av virtuella datorer: Avbildningar och konfigurationer efter distributionen</span><span class="sxs-lookup"><span data-stu-id="adb99-155">VM customization: images vs. post-deployment configuration</span></span>

<span data-ttu-id="adb99-156">I många distributioner av virtuella datorer är jobbet inte slutfört när datorn körs.</span><span class="sxs-lookup"><span data-stu-id="adb99-156">For many virtual machine deployments, the job isn't done when the machine is running.</span></span> <span data-ttu-id="adb99-157">Det är troligt att det finns fler konfigurationer som behövs innan den virtuella datorn faktiskt kan fungera i avsett syfte.</span><span class="sxs-lookup"><span data-stu-id="adb99-157">It's likely there's additional configuration that's needed before the VM can actually serve its intended purpose.</span></span> <span data-ttu-id="adb99-158">Fler diskar kan behöva formateras, den virtuella datorn kanske måste vara ansluten till en domän, en agent för en hanteringsprogramvara måste kanske vara installerad och troligen kräver även den faktiska arbetsbelastningen att installation och konfiguration utförs.</span><span class="sxs-lookup"><span data-stu-id="adb99-158">Additional disks might need formatting, the VM might need to be joined to a domain, maybe an agent for a management software needs to be installed, and most likely the actual workload requires installation and configuration as well.</span></span>

<span data-ttu-id="adb99-159">Det finns två vanliga strategier som används för den konfiguration som anses vara en del av konfigurationen av den virtuella datorn. Båda har dock fördelar och nackdelar:</span><span class="sxs-lookup"><span data-stu-id="adb99-159">There are two common strategies applied for the configuration work considered to be part the configuration of the VM itself, both of which have advantages and disadvantages:</span></span>

- <span data-ttu-id="adb99-160">Anpassade avbildningar</span><span class="sxs-lookup"><span data-stu-id="adb99-160">Custom images</span></span>
- <span data-ttu-id="adb99-161">Skript efter distributionen</span><span class="sxs-lookup"><span data-stu-id="adb99-161">Post-deployment scripting</span></span>

<span data-ttu-id="adb99-162">Anpassade avbildningar genereras genom att en virtuell dator distribueras och sedan konfigurerar eller installerar man programvara på den instans som körs.</span><span class="sxs-lookup"><span data-stu-id="adb99-162">Custom images are generated by deploying a virtual machine and then configuring or installing software on that running instance.</span></span> <span data-ttu-id="adb99-163">När allt har konfigurerats kan datorn stängas av och en avbildning skapas från den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="adb99-163">When everything is configured correctly, the machine can be shut down, and an image is created from the VM.</span></span> <span data-ttu-id="adb99-164">Avbildningen kan sedan användas som bas för andra nya virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="adb99-164">The image can then be used as a base for other new virtual machines.</span></span> <span data-ttu-id="adb99-165">Att arbeta med anpassade avbildningar kan påskynda den totala tiden för distributionen så snart den virtuella datorn har distribuerats och är igång. Ingen ytterligare konfiguration krävs.</span><span class="sxs-lookup"><span data-stu-id="adb99-165">Working with custom images can speed up the overall time of your deployment as once the virtual machine is deployed and running, no additional configuration would be needed.</span></span> <span data-ttu-id="adb99-166">Om hastigheten för distributionen är en viktig faktor, är anpassade avbildningar definitivt värda att utforska.</span><span class="sxs-lookup"><span data-stu-id="adb99-166">If deployment speed is an important factor, custom images are definitely worth exploring.</span></span>

<span data-ttu-id="adb99-167">Skript efter distributionen använder vanligtvis en grundläggande basavbildning och förlitar sig sedan på skript eller en hanteringsplattform för konfigurationen till att konfigurera efter att den virtuella datorn har distribuerats.</span><span class="sxs-lookup"><span data-stu-id="adb99-167">Post-deployment scripting typically leverages a basic base image, then relies on scripting or a configuration management platform to do configuration after the VM is deployed.</span></span> <span data-ttu-id="adb99-168">Skript efter distributionen kan utföras genom att köra ett skript på den virtuella datorn via Azure-skripttillägget, eller genom att använda en mer robust lösning som till exempel Azure Automation Desired State Configuration (DSC).</span><span class="sxs-lookup"><span data-stu-id="adb99-168">The post-deployment scripting could be done by executing a script on the VM through the Azure Script Extension or by leveraging a more robust solution such as Azure Automation Desired State Configuration (DSC).</span></span>

<span data-ttu-id="adb99-169">I varje metod finns några saker du bör tänka på.</span><span class="sxs-lookup"><span data-stu-id="adb99-169">Each approach has some considerations to keep in mind.</span></span> <span data-ttu-id="adb99-170">När du använder avbildningar behöver du se till att det finns en process för att hantera uppdateringar av avbildningar, säkerhetsuppdateringar och lagerhantering av själva avbildningarna.</span><span class="sxs-lookup"><span data-stu-id="adb99-170">When using images, you'll need to ensure there's a process to handle image updates, security patches, and inventory management of the images themselves.</span></span> <span data-ttu-id="adb99-171">Med skript efter distributionen kan byggtiden bli längre, eftersom den virtuella datorn inte kan läggas till i live-arbetsbelastningar förrän bygget har slutförts.</span><span class="sxs-lookup"><span data-stu-id="adb99-171">With post-deployment scripting, build times can be extended since the VM can't be added to live workloads until the build is complete.</span></span> <span data-ttu-id="adb99-172">Det kanske inte är något stort problem i fristående system, men när man använder tjänster som automatisk skalning (till exempel skalningsuppsättningar för virtuella datorer), kan den här utökade byggtiden påverka hur snabbt du kan skala.</span><span class="sxs-lookup"><span data-stu-id="adb99-172">This may not be a significant issue for standalone systems, but when using services that autoscale (such as virtual machine scale sets), this extended build time can impact how quickly you can scale.</span></span> <span data-ttu-id="adb99-173">Med båda metoderna måste du hantera konfigurationsförändringar. När en ny konfiguration distribueras måste du se till att befintliga system uppdateras.</span><span class="sxs-lookup"><span data-stu-id="adb99-173">With both approaches, you'll want to ensure you address configuration drift; as new configuration is rolled out, you'll need to ensure that existing systems are updated accordingly.</span></span>

<span data-ttu-id="adb99-174">Att automatisera resursdistributionen kan vara en enorm fördel för din miljö.</span><span class="sxs-lookup"><span data-stu-id="adb99-174">Automating resource deployment can be a massive benefit to your environment.</span></span> <span data-ttu-id="adb99-175">Den tid som sparas och de fel som minskar kan ta dina operativa funktioner till en annan nivå.</span><span class="sxs-lookup"><span data-stu-id="adb99-175">The amount of time saved, and error reduced can move your operational capabilities to another level.</span></span>

## <a name="automation-of-operational-tasks"></a><span data-ttu-id="adb99-176">Automatisering av operativa uppgifter</span><span class="sxs-lookup"><span data-stu-id="adb99-176">Automation of operational tasks</span></span>

<span data-ttu-id="adb99-177">När dina lösningar är igång och körs finns det pågående operativa aktiviteter som också kan automatiseras.</span><span class="sxs-lookup"><span data-stu-id="adb99-177">Once your solutions are up and running, there are ongoing operational activities that can also be automated.</span></span> <span data-ttu-id="adb99-178">Att automatisera dessa uppgifter med Azure Automation minskar manuella arbetsbelastningar, möjliggör konfiguration och uppdateringshantering av beräkningsresurser, centraliserar delade resurser som scheman, autentiseringsuppgifter och certifikat, samt tillhandahåller ett ramverk för att köra alla typer av Azure-uppgifter.</span><span class="sxs-lookup"><span data-stu-id="adb99-178">Automating these tasks with Azure Automation reduces manual workloads, enables configuration and update management of compute resources, centralizes shared resources such as schedules, credentials, and certificates, and provides a framework for running any type of Azure task.</span></span>

<span data-ttu-id="adb99-179">För Lamna Healthcare kan detta innebära att man:</span><span class="sxs-lookup"><span data-stu-id="adb99-179">For your Lamna Healthcare work, this might include:</span></span>

- <span data-ttu-id="adb99-180">Söker regelbundet efter överblivna diskar.</span><span class="sxs-lookup"><span data-stu-id="adb99-180">Periodically searching for orphaned disks.</span></span>
- <span data-ttu-id="adb99-181">Installerar de senaste säkerhetsuppdateringarna på virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="adb99-181">Installing the latest security patches on VMs.</span></span>
- <span data-ttu-id="adb99-182">Söker efter och stänger av virtuella datorer när de inte används.</span><span class="sxs-lookup"><span data-stu-id="adb99-182">Searching for and shutting down virtual machines in off-hours.</span></span>
- <span data-ttu-id="adb99-183">Kör dagliga rapporter och skapar en instrumentpanel för att rapportera till ledningen.</span><span class="sxs-lookup"><span data-stu-id="adb99-183">Running daily reports and producing a dashboard to report to senior management.</span></span>

<span data-ttu-id="adb99-184">Anta, som ett konkret exempel, att du vill köra en virtuell dator endast under kontorstid.</span><span class="sxs-lookup"><span data-stu-id="adb99-184">As a concrete example, suppose you want to run a virtual machine only during business hours.</span></span> <span data-ttu-id="adb99-185">Du kan skriva ett skript som startar den virtuella datorn på morgonen och stänger av den på kvällen.</span><span class="sxs-lookup"><span data-stu-id="adb99-185">You can write a script to start the VM in the morning and shut it down in the evening.</span></span> <span data-ttu-id="adb99-186">Du kan konfigurera Azure Automation så att skriptet körs vid angivna tillfällen.</span><span class="sxs-lookup"><span data-stu-id="adb99-186">You can configure Azure Automation to run the script at set times.</span></span> <span data-ttu-id="adb99-187">Följande bild visar rollen för Azure Automation i den här processen.</span><span class="sxs-lookup"><span data-stu-id="adb99-187">The following illustration shows the role of Azure Automation in this process.</span></span>

![En bild som visar rollen för Azure Automation vid hantering av en återkommande affärsprocess.](../media/automation-vm-power-state.png)

## <a name="automating-development-environments"></a><span data-ttu-id="adb99-189">Automatisera utvecklingsmiljöer</span><span class="sxs-lookup"><span data-stu-id="adb99-189">Automating development environments</span></span>

<span data-ttu-id="adb99-190">I den andra änden av pipelinen för din molninfrastruktur finns utvecklingsdatorer som används av utvecklare till att skriva de program och tjänster som är kärnan i din verksamhet.</span><span class="sxs-lookup"><span data-stu-id="adb99-190">At the other end of the pipeline of your cloud infrastructure are the development machines used by developers to write the applications and services that are the core of your business.</span></span> <span data-ttu-id="adb99-191">Du kan använda Azure DevTest Labs till att utrusta de virtuella datorerna med rätt verktyg och databaser som de behöver.</span><span class="sxs-lookup"><span data-stu-id="adb99-191">You can use Azure DevTest Labs to stamp out VMs with all of the correct tools and repositories that they need.</span></span> <span data-ttu-id="adb99-192">Utvecklare som arbetar med flera tjänster kan växla mellan utvecklingsmiljöerna utan att behöva etablera en ny dator själva.</span><span class="sxs-lookup"><span data-stu-id="adb99-192">Developers working on multiple services can switch between development environments without having to provision a new machine themselves.</span></span> <span data-ttu-id="adb99-193">Dessa utvecklingsmiljöer kan stängas av när de inte används och startas om när de behövs igen.</span><span class="sxs-lookup"><span data-stu-id="adb99-193">These development environments can be shut down when not in use and restarted when they are required again.</span></span>

## <a name="automation-at-lamna-healthcare"></a><span data-ttu-id="adb99-194">Automatisering på Lamna Healthcare</span><span class="sxs-lookup"><span data-stu-id="adb99-194">Automation at Lamna Healthcare</span></span>

<span data-ttu-id="adb99-195">Låt oss ta en titt på hur Lamna Healthcare har förbättrats med hjälp av automatisering.</span><span class="sxs-lookup"><span data-stu-id="adb99-195">Let's take a look at how Lamna Healthcare has improved by using automation.</span></span> <span data-ttu-id="adb99-196">När vi började var distributionen av infrastruktur och serverversioner helt manuell.</span><span class="sxs-lookup"><span data-stu-id="adb99-196">When you started your journey, infrastructure deployment and server builds were entirely manual.</span></span> <span data-ttu-id="adb99-197">Teknikerna distribuerade allt via portalen.</span><span class="sxs-lookup"><span data-stu-id="adb99-197">Engineers were deploying everything through the portal.</span></span> <span data-ttu-id="adb99-198">Detta innebar avvikelser och fel mellan test- och produktionsmiljöerna och dessa skillnader försvårade möjligheten att upptäcka problem innan koden nådde produktionen.</span><span class="sxs-lookup"><span data-stu-id="adb99-198">This was introducing variance and errors between test and production environments, and the differences were hindering their ability to detect problems before code hit production.</span></span>

<span data-ttu-id="adb99-199">De kan nu distribuera all sin infrastruktur via Resource Manager-mallar.</span><span class="sxs-lookup"><span data-stu-id="adb99-199">They now deploy all their infrastructure through Resource Manager templates.</span></span> <span data-ttu-id="adb99-200">Dessa mallar checkas in på en GitHub-lagringsplats och en kodgranskning utförs innan de blir tillgängliga för distribution.</span><span class="sxs-lookup"><span data-stu-id="adb99-200">These templates are checked into a GitHub repository, and a code review happens before they are released for deployment.</span></span> <span data-ttu-id="adb99-201">De kan också skapa samma infrastruktur mellan utveckling, testning och produktion, för att säkerställa att de har verifierat konfigurationen i alla miljöer.</span><span class="sxs-lookup"><span data-stu-id="adb99-201">They're also able to build the same infrastructure between dev, test, and production, ensuring they have validated their configuration across all environments.</span></span>

<span data-ttu-id="adb99-202">För de flesta tjänster som använder virtuella datorer finns det en standardbasavbildning och de använder DSC till att konfigurera systemen efter distributionen.</span><span class="sxs-lookup"><span data-stu-id="adb99-202">For most services using virtual machines, they have a standard base image and use DSC to configure the systems post deployment.</span></span> <span data-ttu-id="adb99-203">Webbservergrupper där de behöver skalbarheten i VM-skalningsuppsättningar har en helt automatiserad process för att checka in kod och skapa en ny avbildning, med all nödvändig konfiguration inbyggd innan den blir tillgänglig i deras skalningsuppsättningar.</span><span class="sxs-lookup"><span data-stu-id="adb99-203">For web farms where they need the scalability of virtual machine scale sets, they have a fully automated process to check in code and build a new image with all required configuration built in before making it available in their scale sets.</span></span>

<span data-ttu-id="adb99-204">De har ett Automation-jobb som stänger av identifierade virtuella datorer när de inte används för att minska kostnaderna och de har även automatiserat uppdateringen av de virtuella datorerna.</span><span class="sxs-lookup"><span data-stu-id="adb99-204">They have an Automation job to shut down identified virtual machines in off-hours to reduce costs and have automated their VM patching as well.</span></span>

<span data-ttu-id="adb99-205">Utvecklarna har nu en självbetjäningsmiljö i DevTest Labs där de kan arbeta med de senaste avbildningarna och konfigurationen, för att säkerställa att det de utvecklar mot matchar konfigurationen i produktionen.</span><span class="sxs-lookup"><span data-stu-id="adb99-205">Developers now have a self-service environment in DevTest Labs where they can develop against the latest images and configuration, ensuring that what they develop against matches the configuration in production.</span></span>

<span data-ttu-id="adb99-206">Allt detta innebar startkostnader, men fördelarna har betalat sig på lång sikt.</span><span class="sxs-lookup"><span data-stu-id="adb99-206">All of this took some up-front effort, but the benefits have paid off in the long run.</span></span> <span data-ttu-id="adb99-207">Det har avsevärt minskat både fel och det arbete som krävs av teamen för att underhålla sina miljöer.</span><span class="sxs-lookup"><span data-stu-id="adb99-207">They've dramatically reduced error and the effort required by their operations teams to maintain their environments.</span></span> <span data-ttu-id="adb99-208">Utvecklarna älskar att de enkelt kan etablera resurser för utvecklingen, vilket eliminerar problemen med att hämta miljöer som skapats.</span><span class="sxs-lookup"><span data-stu-id="adb99-208">Developers love that they can easily go provision resources to develop against, eliminating the back and forth to get environments created.</span></span>

## <a name="summary"></a><span data-ttu-id="adb99-209">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="adb99-209">Summary</span></span>

<span data-ttu-id="adb99-210">Vi har tagit en titt på ett antal sätt att få med funktioner för automatisering i din arkitektur.</span><span class="sxs-lookup"><span data-stu-id="adb99-210">We've taken a look at a number of ways to bring automation capabilities into your architecture.</span></span> <span data-ttu-id="adb99-211">Det finns en mängd fördelar med att automatisera din miljö – från att distribuera infrastruktur som kod, till att förbättra produktiviteten för utvecklarna med labbmiljöer.</span><span class="sxs-lookup"><span data-stu-id="adb99-211">From deploying infrastructure as code, to improving developer productivity with lab environments, there's a ton of benefit from taking time to automate your environment.</span></span> <span data-ttu-id="adb99-212">Att minska felen, minska avvikelser och spara driftskostnader kan vara en stor fördel för din organisation och hjälper dig att ta molnmiljön till nästa nivå.</span><span class="sxs-lookup"><span data-stu-id="adb99-212">Reducing error, reducing variance, and saving operational costs can be a significant benefit to your organization and help take your cloud environment to the next level.</span></span>