<span data-ttu-id="3ba46-101">En HTTP-begäran är en vanlig åtgärd på de flesta plattformar och enheter.</span><span class="sxs-lookup"><span data-stu-id="3ba46-101">An HTTP request is a common operation on most platforms and devices.</span></span> <span data-ttu-id="3ba46-102">Oavsett om det är en begäran för att leta upp ett ord i en ordlista eller för att se den lokala väderleksrapporten skickar vi HTTP-begäranden hela tiden.</span><span class="sxs-lookup"><span data-stu-id="3ba46-102">Whether it's a request to look up a word in a dictionary or to get the local weather, we send HTTP requests all the time.</span></span> <span data-ttu-id="3ba46-103">Med Azure Functions kan vi snabbt skapa en del av en logik som körs när en HTTP-begäran tas emot.</span><span class="sxs-lookup"><span data-stu-id="3ba46-103">Azure Functions allows us to quickly create a piece of logic to execute when an HTTP request is received.</span></span>

<span data-ttu-id="3ba46-104">Här lär du dig att skapa och anropa en Azure-funktion med hjälp av en HTTP-utlösare.</span><span class="sxs-lookup"><span data-stu-id="3ba46-104">Here, you'll learn how to create and invoke an Azure function using an HTTP trigger.</span></span> <span data-ttu-id="3ba46-105">Du kommer även att utforska några av de anpassningsalternativ som finns tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="3ba46-105">You'll also explore some of the customization options that are available.</span></span>

## <a name="what-is-an-http-trigger"></a><span data-ttu-id="3ba46-106">Vad är en HTTP-utlösare?</span><span class="sxs-lookup"><span data-stu-id="3ba46-106">What is an HTTP trigger?</span></span>

<span data-ttu-id="3ba46-107">En HTTP-utlösare är en utlösare som utför en funktion när den tar emot en HTTP-begäran.</span><span class="sxs-lookup"><span data-stu-id="3ba46-107">An HTTP trigger is a trigger that executes a function when it receives an HTTP request.</span></span> <span data-ttu-id="3ba46-108">HTTP-utlösare har många funktioner och anpassningar som inkluderar:</span><span class="sxs-lookup"><span data-stu-id="3ba46-108">HTTP triggers have many capabilities and customizations, including:</span></span>

- <span data-ttu-id="3ba46-109">Ge auktoriserad åtkomst genom att tillhandahålla nycklar.</span><span class="sxs-lookup"><span data-stu-id="3ba46-109">Provide authorized access by supplying keys.</span></span>
- <span data-ttu-id="3ba46-110">Begränsa vilka HTTP-verb som stöds.</span><span class="sxs-lookup"><span data-stu-id="3ba46-110">Restrict which HTTP verbs are supported.</span></span>
- <span data-ttu-id="3ba46-111">Returnera data tillbaka till anroparen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-111">Return data back to the caller.</span></span>
- <span data-ttu-id="3ba46-112">Ta emot data via frågesträngsparametrar eller genom begärandetexten.</span><span class="sxs-lookup"><span data-stu-id="3ba46-112">Receive data through query string parameters or through the request body.</span></span>
- <span data-ttu-id="3ba46-113">Stödja vägmallar för webbadresser för att ändra funktionswebbadressen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-113">Support URL route templates to modify the function URL.</span></span>

<span data-ttu-id="3ba46-114">När du skapar en HTTP-utlösare, väljer ett programmeringsspråk, anger ett namn på utlösare och väljer en auktorisationsnivå.</span><span class="sxs-lookup"><span data-stu-id="3ba46-114">When you create an HTTP trigger, select a programming language, provide a trigger name, and select an Authorization level.</span></span>

## <a name="what-is-an-http-trigger-authorization-level"></a><span data-ttu-id="3ba46-115">Vad är en auktorisationsnivå för HTTP-utlösare?</span><span class="sxs-lookup"><span data-stu-id="3ba46-115">What is an HTTP trigger Authorization level?</span></span>

<span data-ttu-id="3ba46-116">En auktorisationsnivå för HTTP-utlösare är en flagga som anger om en inkommande HTTP-begäran behöver en API-nyckel för att autentisera eller ej.</span><span class="sxs-lookup"><span data-stu-id="3ba46-116">An HTTP trigger Authorization level is a flag that indicates if an incoming HTTP request needs an API key for authentication reasons.</span></span>

<span data-ttu-id="3ba46-117">Det finns tre auktorisationsnivåer:</span><span class="sxs-lookup"><span data-stu-id="3ba46-117">There are three Authorization levels:</span></span>

1. <span data-ttu-id="3ba46-118">Funktion</span><span class="sxs-lookup"><span data-stu-id="3ba46-118">Function</span></span>
2. <span data-ttu-id="3ba46-119">Anonym</span><span class="sxs-lookup"><span data-stu-id="3ba46-119">Anonymous</span></span>
3. <span data-ttu-id="3ba46-120">Admin</span><span class="sxs-lookup"><span data-stu-id="3ba46-120">Admin</span></span>

<span data-ttu-id="3ba46-121">Nivåerna **Funktion** och **Admin** är ”nyckelbaserade”.</span><span class="sxs-lookup"><span data-stu-id="3ba46-121">The **Function** and **Admin** levels are "key" based.</span></span> <span data-ttu-id="3ba46-122">Du måste ange en nyckel för autentisering för att skicka en HTTP-begäran.</span><span class="sxs-lookup"><span data-stu-id="3ba46-122">To send an HTTP request, you must supply a key for authentication.</span></span> <span data-ttu-id="3ba46-123">Det finns två typer av nycklar: *funktion* och *värd*.</span><span class="sxs-lookup"><span data-stu-id="3ba46-123">There are two types of keys: *function* and *host*.</span></span> <span data-ttu-id="3ba46-124">Skillnaden mellan dessa två nycklar är deras omfattning.</span><span class="sxs-lookup"><span data-stu-id="3ba46-124">The difference between the two keys is their scope.</span></span> <span data-ttu-id="3ba46-125">Funktionsnycklar är specifika för en funktion.</span><span class="sxs-lookup"><span data-stu-id="3ba46-125">Function keys are specific to a function.</span></span> <span data-ttu-id="3ba46-126">Värdnycklar gäller för alla funktioner i funktionsappen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-126">Host keys apply to all functions inside the function app.</span></span> <span data-ttu-id="3ba46-127">Om din auktorisationsnivå är inställd på **Funktion** så kan du använda antingen en *funktionsnyckel* eller en värdnyckel.</span><span class="sxs-lookup"><span data-stu-id="3ba46-127">If your Authorization level is set to **Function**, you can use either a *function* or a host key.</span></span> <span data-ttu-id="3ba46-128">Om din auktorisationsnivå är inställd på **Admin** så måste du ange en värdnyckel.</span><span class="sxs-lookup"><span data-stu-id="3ba46-128">If your Authorization level is set to **Admin**, you must supply a host key.</span></span>

<span data-ttu-id="3ba46-129">Nivån **anonym** innebär att ingen autentisering krävs.</span><span class="sxs-lookup"><span data-stu-id="3ba46-129">The **Anonymous** level means that there's no authentication required.</span></span> <span data-ttu-id="3ba46-130">Vi använder den här nivån i vår övning.</span><span class="sxs-lookup"><span data-stu-id="3ba46-130">We use this level in our exercise.</span></span>

## <a name="how-to-create-an-http-trigger"></a><span data-ttu-id="3ba46-131">Så här skapar du en HTTP-utlösare</span><span class="sxs-lookup"><span data-stu-id="3ba46-131">How to create an HTTP trigger</span></span>

<span data-ttu-id="3ba46-132">Precis som en timerutlösare kan du skapa en HTTP-utlösare via Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-132">Just like a timer trigger, you can create an HTTP trigger through the Azure portal.</span></span> <span data-ttu-id="3ba46-133">I Azure-funktionen väljer du **HTTP-utlösare** från listan över fördefinierade utlösartyper.</span><span class="sxs-lookup"><span data-stu-id="3ba46-133">Inside your Azure function, you select **HTTP trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="3ba46-134">Sedan anger du logiken som du vill köra och utför eventuella anpassningar som att begränsa användningen av vissa HTTP-verb.</span><span class="sxs-lookup"><span data-stu-id="3ba46-134">Then you enter the logic that you want to execute and make any customizations like restricting the use of certain HTTP verbs.</span></span>

<span data-ttu-id="3ba46-135">En inställning som är viktig att förstå är **Parameternamn för förfrågan**.</span><span class="sxs-lookup"><span data-stu-id="3ba46-135">One setting that's important to understand is **Request parameter name**.</span></span> <span data-ttu-id="3ba46-136">Den här inställningen är en sträng som representerar namnet på den parameter som innehåller information om en inkommande HTTP-begäran.</span><span class="sxs-lookup"><span data-stu-id="3ba46-136">This setting is a string that represents the name of the parameter that contains the information about an incoming HTTP request.</span></span> <span data-ttu-id="3ba46-137">Som standard är namnet på parametern *req*.</span><span class="sxs-lookup"><span data-stu-id="3ba46-137">By default, the name of the parameter is *req*.</span></span>

## <a name="how-to-invoke-an-http-trigger"></a><span data-ttu-id="3ba46-138">Så här anropar du en HTTP-utlösare</span><span class="sxs-lookup"><span data-stu-id="3ba46-138">How to invoke an HTTP trigger</span></span>

<span data-ttu-id="3ba46-139">Om du vill anropa en HTTP-utlösare skickar du en HTTP-begäran till webbadressen för din funktion.</span><span class="sxs-lookup"><span data-stu-id="3ba46-139">To invoke an HTTP trigger, you send an HTTP request to the URL for your function.</span></span> <span data-ttu-id="3ba46-140">Gå till sidan med koden för din funktion och välj länken **Hämta funktionswebbadress** för att hämta den här webbadressen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-140">To get this URL, go to the code page for your function and select the **Get function URL** link.</span></span>

![Skärmbild av Azure Portal som visar ett blad i funktionsappen där knappen för att hämta funktions-URL:en är markerad.](../media/5-function-url.png)

<span data-ttu-id="3ba46-142">När du har webbadressen för funktionen kan du skicka HTTP-begäranden.</span><span class="sxs-lookup"><span data-stu-id="3ba46-142">After you have the URL for your function, you can send HTTP requests.</span></span> <span data-ttu-id="3ba46-143">Kom ihåg att du antingen kan använda frågesträngsparametrar eller ange data via begärandetexten om funktionen tar emot data.</span><span class="sxs-lookup"><span data-stu-id="3ba46-143">If your function receives data, remember that you can use either query string parameters or supply the data through the request body.</span></span>

<span data-ttu-id="3ba46-144">En HTTP-utlösare anropar en Azure-funktion när den tar emot en HTTP-begäran till dess funktionswebbadress.</span><span class="sxs-lookup"><span data-stu-id="3ba46-144">An HTTP trigger invokes an Azure function when it receives an HTTP request to its function URL.</span></span> <span data-ttu-id="3ba46-145">Med HTTP-utlösare kan du både ta emot data och returnera data tillbaka till anroparen.</span><span class="sxs-lookup"><span data-stu-id="3ba46-145">HTTP triggers allow you to receive data and return data back to the caller.</span></span>