<span data-ttu-id="1605e-101">Anta att du är en fotograf och att du har en webbplats där du visar upp dina bilder.</span><span class="sxs-lookup"><span data-stu-id="1605e-101">Imagine you're a photographer and you have a website where you display your pictures of the day.</span></span> <span data-ttu-id="1605e-102">Eftersom du är upptagen kan du har inte ett konsekvent uppladdningsschema, men du vill meddela dina följare när du laddar upp en ny bild.</span><span class="sxs-lookup"><span data-stu-id="1605e-102">Because you're busy, you don't have a consistent upload schedule, but you want to notify your fans when you upload a picture.</span></span> <span data-ttu-id="1605e-103">Du vill skapa en Azure-funktion för att automatiskt skicka en tweet när du laddar upp en bild till din Azure Storage blob-container.</span><span class="sxs-lookup"><span data-stu-id="1605e-103">You decide to create an Azure function to automatically send a tweet whenever you upload an image to your Azure Storage blob container.</span></span>

<span data-ttu-id="1605e-104">Här får du lära dig hur du skapar en blob-utlösare och instruerar den att övervaka en specifik plats i din Azure Storage blob-container.</span><span class="sxs-lookup"><span data-stu-id="1605e-104">Here, you learn how to create a blob trigger and instruct it to monitor a specific location in your Azure Storage blob container.</span></span>

## <a name="what-is-azure-storage"></a><span data-ttu-id="1605e-105">Vad är Azure Storage?</span><span class="sxs-lookup"><span data-stu-id="1605e-105">What is Azure Storage?</span></span>

<span data-ttu-id="1605e-106">Azure Storage är Microsofts molnlagringslösning som har stöd för alla typer av data, inklusive: blobar, köer och NoSQL.</span><span class="sxs-lookup"><span data-stu-id="1605e-106">Azure Storage is Microsoft's cloud storage solution that supports all types of data, including: blobs, queues, and NoSQL.</span></span> <span data-ttu-id="1605e-107">Målet med Azure Storage är att tillhandahålla lagring av data som kännetecknas av:</span><span class="sxs-lookup"><span data-stu-id="1605e-107">The goal of Azure Storage is to provide data storage that's:</span></span>

- <span data-ttu-id="1605e-108">Högt tillgänglighet</span><span class="sxs-lookup"><span data-stu-id="1605e-108">Highly available</span></span>
- <span data-ttu-id="1605e-109">Säkerhet</span><span class="sxs-lookup"><span data-stu-id="1605e-109">Secure</span></span>
- <span data-ttu-id="1605e-110">Skalbarhet</span><span class="sxs-lookup"><span data-stu-id="1605e-110">Scalable</span></span>
- <span data-ttu-id="1605e-111">Hanterad</span><span class="sxs-lookup"><span data-stu-id="1605e-111">Managed</span></span>

<span data-ttu-id="1605e-112">Vi kommer inte att fokusera på Azure Storage för mycket.</span><span class="sxs-lookup"><span data-stu-id="1605e-112">We're not going to focus on Azure Storage too much.</span></span> <span data-ttu-id="1605e-113">I stället använder vi den för att skapa blobar som ska utlösa vår funktion.</span><span class="sxs-lookup"><span data-stu-id="1605e-113">Instead, we use it to create blobs that will trigger our function to run.</span></span>

## <a name="what-is-azure-blob-storage"></a><span data-ttu-id="1605e-114">Vad är Azure Blob Storage?</span><span class="sxs-lookup"><span data-stu-id="1605e-114">What is Azure Blob storage?</span></span>

<span data-ttu-id="1605e-115">Azure Blob Storage en lagringslösning för objekt som är utformad för att lagra stora mängder ostrukturerade data.</span><span class="sxs-lookup"><span data-stu-id="1605e-115">Azure Blob storage is an object storage solution that's designed to store large amounts of unstructured data.</span></span> 

<span data-ttu-id="1605e-116">Azure Blob Storage är till exempel bra för att göra saker som att:</span><span class="sxs-lookup"><span data-stu-id="1605e-116">For example, Azure Blob storage is great at doing things like:</span></span>

- <span data-ttu-id="1605e-117">Lagra filer</span><span class="sxs-lookup"><span data-stu-id="1605e-117">Storing files</span></span>
- <span data-ttu-id="1605e-118">Tillhandahålla filer</span><span class="sxs-lookup"><span data-stu-id="1605e-118">Serving files</span></span>
- <span data-ttu-id="1605e-119">Direktuppspela video och ljud</span><span class="sxs-lookup"><span data-stu-id="1605e-119">Streaming video and audio</span></span>
- <span data-ttu-id="1605e-120">Logga data</span><span class="sxs-lookup"><span data-stu-id="1605e-120">Logging data</span></span>

<span data-ttu-id="1605e-121">Det finns tre typer av blobbar: **Blockblobbar**, **bilageblobbar** och **sidblobbar**.</span><span class="sxs-lookup"><span data-stu-id="1605e-121">There are three types of blobs: **block blobs**, **append blobs**, and **page blobs**.</span></span> <span data-ttu-id="1605e-122">Blockblobar är de vanligaste.</span><span class="sxs-lookup"><span data-stu-id="1605e-122">Block blobs are the most common type.</span></span> <span data-ttu-id="1605e-123">De gör det möjligt att lagra text eller binära data på ett effektivt sätt.</span><span class="sxs-lookup"><span data-stu-id="1605e-123">They allow you to store text or binary data efficiently.</span></span> <span data-ttu-id="1605e-124">Tilläggsblobar är som blockblobar, men de är mer utformade för tilläggsåtgärder som att skapa en loggfil som uppdateras kontinuerligt.</span><span class="sxs-lookup"><span data-stu-id="1605e-124">Append blobs are like block blobs, but they're designed more for append operations like creating a log file that's being constantly updated.</span></span> <span data-ttu-id="1605e-125">Slutligen består sidblobar av sidor och är utformade för frekventa icke-sekventiella läs- och skrivåtgärder.</span><span class="sxs-lookup"><span data-stu-id="1605e-125">Finally, page blobs are made up of pages and are designed for frequent random read and write operations.</span></span>

## <a name="what-is-a-blob-trigger"></a><span data-ttu-id="1605e-126">Vad är en blob-utlösare?</span><span class="sxs-lookup"><span data-stu-id="1605e-126">What is a blob trigger?</span></span>

<span data-ttu-id="1605e-127">En blob-utlösare är en utlösare som kör en funktion när en fil laddas upp eller uppdateras i Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="1605e-127">A blob trigger is a trigger that executes a function when a file is uploaded or updated in Azure Blob storage.</span></span> <span data-ttu-id="1605e-128">Om du vill skapa en blob-utlösare skapar du ett Azure Storage-konto och anger en plats som utlösaren ska övervaka.</span><span class="sxs-lookup"><span data-stu-id="1605e-128">To create a blob trigger, you create an Azure Storage account and provide a location that the trigger monitors.</span></span>

## <a name="how-to-create-a-blob-trigger"></a><span data-ttu-id="1605e-129">Så här skapar du en blob-utlösare</span><span class="sxs-lookup"><span data-stu-id="1605e-129">How to create a blob trigger</span></span>

<span data-ttu-id="1605e-130">Precis som de andra utlösarna vi har sett hittills skapar vi en blob-utlösare i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="1605e-130">Just like the other triggers we've seen so far, we create a blob trigger in the Azure portal.</span></span> <span data-ttu-id="1605e-131">I din Azure-funktion väljer du **Blob-utlösare** från listan över fördefinierade utlösartyper.</span><span class="sxs-lookup"><span data-stu-id="1605e-131">Inside your Azure function, select **Blob trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="1605e-132">Sedan anger du logiken som ska köras när en blob skapas eller uppdateras.</span><span class="sxs-lookup"><span data-stu-id="1605e-132">Then enter the logic to execute when a blob is created or updated.</span></span>

<span data-ttu-id="1605e-133">En inställning som du bör titta på är **Sökväg**.</span><span class="sxs-lookup"><span data-stu-id="1605e-133">One setting that you'll want to look at is the **Path**.</span></span> <span data-ttu-id="1605e-134">**Sökvägen** informerar blob-utlösaren om vad den ska övervaka för att se om en blob laddas upp eller uppdateras.</span><span class="sxs-lookup"><span data-stu-id="1605e-134">The **Path** tells the blob trigger where to monitor to see if a blob is uploaded or updated.</span></span> <span data-ttu-id="1605e-135">Som standard är värdet för **Sökväg**:</span><span class="sxs-lookup"><span data-stu-id="1605e-135">By default, the **Path** value is:</span></span> 

> <span data-ttu-id="1605e-136">samples-workitems/{name}</span><span class="sxs-lookup"><span data-stu-id="1605e-136">samples-workitems/{name}</span></span>

<span data-ttu-id="1605e-137">Vi kan dela upp det här begreppet i två delar: *samples-workitems* och *{name}*.</span><span class="sxs-lookup"><span data-stu-id="1605e-137">Let's break down this concept into two pieces: *samples-workitems* and *{name}*.</span></span> <span data-ttu-id="1605e-138">Den första delen, *samples-workitems*, representerar den blobcontainer som utlösaren övervakar.</span><span class="sxs-lookup"><span data-stu-id="1605e-138">The first part, *samples-workitems*, represents the blob container that the trigger monitors.</span></span> <span data-ttu-id="1605e-139">Den andra delen \*{name}, innebär att alla filtyper får utlösaren att anropa funktionen.</span><span class="sxs-lookup"><span data-stu-id="1605e-139">The second part, \*{name means that every type of file will cause the trigger to invoke the function.</span></span> <span data-ttu-id="1605e-140">Funktionen anropas eftersom det inte finns något filter.</span><span class="sxs-lookup"><span data-stu-id="1605e-140">The function is invoked because there's no filter.</span></span> <span data-ttu-id="1605e-141">Jag skulle till exempel kunna göra så att utlösaren endast anropar funktionen när en PNG-fil läggs till med hjälp av en syntax som:</span><span class="sxs-lookup"><span data-stu-id="1605e-141">For example, I could make the trigger invoke the function only when a PNG file is added by using syntax like:</span></span>

> <span data-ttu-id="1605e-142">samples-workitems/{name}.png</span><span class="sxs-lookup"><span data-stu-id="1605e-142">samples-workitems/{name}.png</span></span>

<span data-ttu-id="1605e-143">Den sista viktiga informationen om det här konceptet är texten *namn*.</span><span class="sxs-lookup"><span data-stu-id="1605e-143">The last significant piece of information with this concept is the text *name*.</span></span> <span data-ttu-id="1605e-144">*Namn* representerar en parameter i din Azure-funktion som tar emot namnet på den tillagda filen.</span><span class="sxs-lookup"><span data-stu-id="1605e-144">The *name* represents a parameter in your Azure function that receives the name of the added file.</span></span> <span data-ttu-id="1605e-145">Om jag till exempel laddar upp en fil med namnet *resume.txt* tar min Azure-funktion emot det värdet som en sträng via en parameter som kallas *namn*.</span><span class="sxs-lookup"><span data-stu-id="1605e-145">For example, if I upload a file named *resume.txt*, my Azure function receives that value as a string through a parameter called *name*.</span></span>

<span data-ttu-id="1605e-146">En blob-utlösare anropar en Azure-funktion när den ser aktivitet på en viss plats i Azure Storage blob-kontot.</span><span class="sxs-lookup"><span data-stu-id="1605e-146">A blob trigger invokes an Azure function when it sees activity at a specific location in your Azure Storage blob account.</span></span> <span data-ttu-id="1605e-147">Du kan ange platsen som ska övervakas genom att ändra värdet **Sökväg** i Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="1605e-147">You set the location to monitor by modifying the **Path** value in the Azure portal.</span></span>