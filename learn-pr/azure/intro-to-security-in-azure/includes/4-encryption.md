<span data-ttu-id="36447-101">För de flesta organisationer är data den mest värdefulla och oersättliga tillgången.</span><span class="sxs-lookup"><span data-stu-id="36447-101">For most organizations, data is the most valuable and irreplaceable asset.</span></span> <span data-ttu-id="36447-102">Kryptering fungerar som den sista och starkaste försvarslinjen i en skiktad säkerhetsstrategi.</span><span class="sxs-lookup"><span data-stu-id="36447-102">Encryption serves as the last and strongest line of defense in a layered security strategy.</span></span> 

<span data-ttu-id="36447-103">Contoso Shipping vet att kryptering är det enda skydd deras data har när de lämnar datacentret och skickas till de där mobilapparna.</span><span class="sxs-lookup"><span data-stu-id="36447-103">Contoso Shipping knows that encryption is the only protection their data has once it leaves the data center as it heads to those mobile apps.</span></span>

## <a name="what-is-encryption"></a><span data-ttu-id="36447-104">Vad är kryptering?</span><span class="sxs-lookup"><span data-stu-id="36447-104">What is encryption?</span></span>

<span data-ttu-id="36447-105">Kryptering är en process där data görs oläsliga och oanvändbara för oauktoriserade personer.</span><span class="sxs-lookup"><span data-stu-id="36447-105">Encryption is the process of making data unreadable and unusable to unauthorized viewers.</span></span> <span data-ttu-id="36447-106">För att krypterade data ska kunna användas eller läsas måste de *dekrypteras*, vilket kräver användning av en hemlig nyckel.</span><span class="sxs-lookup"><span data-stu-id="36447-106">To use or read the encrypted data, it must be *decrypted*, which requires the use of a secret key.</span></span> <span data-ttu-id="36447-107">Det finns två överordnade typer av kryptering: **symmetrisk** och **asymmetrisk**.</span><span class="sxs-lookup"><span data-stu-id="36447-107">There are two top-level types of encryption: **symmetric** and **asymmetric**.</span></span>

<span data-ttu-id="36447-108">Vid symmetrisk kryptering används samma nyckel för att kryptera och dekryptera data.</span><span class="sxs-lookup"><span data-stu-id="36447-108">Symmetric encryption uses the same key to encrypt and decrypt the data.</span></span> <span data-ttu-id="36447-109">Ett exempel kan vara ett lösenordshanteringsprogram.</span><span class="sxs-lookup"><span data-stu-id="36447-109">Consider a desktop password manager application.</span></span> <span data-ttu-id="36447-110">Du anger dina lösenord och de krypteras med din egen personliga nyckel (din nyckel härleds ofta från ditt huvudlösenord).</span><span class="sxs-lookup"><span data-stu-id="36447-110">You enter your passwords and they are encrypted with your own personal key (your key is often derived from your master password).</span></span> <span data-ttu-id="36447-111">När data behöver hämtas används samma nyckel och informationen dekrypteras.</span><span class="sxs-lookup"><span data-stu-id="36447-111">When the data needs to be retrieved, the same key is used, and the data is decrypted.</span></span>

<span data-ttu-id="36447-112">Vid asymmetrisk kryptering används ett par med en offentlig nyckel och en privat nyckel.</span><span class="sxs-lookup"><span data-stu-id="36447-112">Asymmetric encryption uses a public key and private key pair.</span></span> <span data-ttu-id="36447-113">Endera nyckel kan kryptera men en nyckel kan inte dekryptera sina egna krypterade data.</span><span class="sxs-lookup"><span data-stu-id="36447-113">Either key can encrypt but a single key can't decrypt its own encrypted data.</span></span> <span data-ttu-id="36447-114">För att dekryptera krävs den parkopplade nyckeln.</span><span class="sxs-lookup"><span data-stu-id="36447-114">To decrypt, you need the paired key.</span></span> <span data-ttu-id="36447-115">Asymmetrisk kryptering används för saker som TLS (Transport Layer Security) (används i HTTPS) och datasignering.</span><span class="sxs-lookup"><span data-stu-id="36447-115">Asymmetric encryption is used for things like Transport Layer Security (TLS) (used in HTTPS) and data signing.</span></span>

<span data-ttu-id="36447-116">Både symmetrisk och asymmetrisk kryptering är viktigt för att skydda data på rätt sätt.</span><span class="sxs-lookup"><span data-stu-id="36447-116">Both symmetric and asymmetric encryption play a role in properly securing your data.</span></span> 

<span data-ttu-id="36447-117">Inom kryptering skiljer man på kryptering i vila och kryptering under överföring.</span><span class="sxs-lookup"><span data-stu-id="36447-117">Encryption is typically approached in two ways: encryption at rest and encryption in transit.</span></span>

## <a name="encryption-in-transit"></a><span data-ttu-id="36447-118">Kryptering under överföring</span><span class="sxs-lookup"><span data-stu-id="36447-118">Encryption in transit</span></span>

<span data-ttu-id="36447-119">Data under överföring är de data som aktivt flyttar från en plats till en annan, till exempel via internet eller via ett privat nätverk.</span><span class="sxs-lookup"><span data-stu-id="36447-119">Data in transit is the data actively moving from one location to another, such as across the internet or through a private network.</span></span> <span data-ttu-id="36447-120">Säker överföring kan hanteras av flera olika lager.</span><span class="sxs-lookup"><span data-stu-id="36447-120">Secure transfer can be handled by several different layers.</span></span> <span data-ttu-id="36447-121">Det kan göras genom att data krypteras på programnivå innan de skickas över ett nätverk.</span><span class="sxs-lookup"><span data-stu-id="36447-121">It could be done by encrypting the data at the application layer prior to sending it over a network.</span></span> <span data-ttu-id="36447-122">HTTPS är ett exempel på överföringskryptering av programlager.</span><span class="sxs-lookup"><span data-stu-id="36447-122">HTTPS is an example of application layer in transit encryption.</span></span> 

<span data-ttu-id="36447-123">Du kan också ställa in en säker kanal som ett virtuellt privat nätverk (VPN) i ett nätverkslager för att överföra data mellan två system.</span><span class="sxs-lookup"><span data-stu-id="36447-123">You can also set up a secure channel, like a virtual private network (VPN), at a network layer, to transmit data between two systems.</span></span> 

<span data-ttu-id="36447-124">Kryptering av data under överföring skyddar data från utomstående observatörer och tillhandahåller en mekanism för överföring av data samtidigt som risken för exponering minskar.</span><span class="sxs-lookup"><span data-stu-id="36447-124">Encrypting data in transit protects the data from outside observers and provides a mechanism to transmit data while limiting risk of exposure.</span></span> 

![Kryptering under överföring](../media/encryption-in-transit.png)


## <a name="encryption-at-rest"></a><span data-ttu-id="36447-126">Kryptering i vila</span><span class="sxs-lookup"><span data-stu-id="36447-126">Encryption at rest</span></span>

<span data-ttu-id="36447-127">Vilande data är data som har lagrats på ett fysiskt medium.</span><span class="sxs-lookup"><span data-stu-id="36447-127">Data at rest is the data that has been stored on a physical medium.</span></span> <span data-ttu-id="36447-128">Detta kan vara data som lagras på en serverdisk, data som lagras i en databas eller data som lagras i ett lagringskonto.</span><span class="sxs-lookup"><span data-stu-id="36447-128">This could be data stored on the disk of a server, data stored in a database, or data stored in a storage account.</span></span> <span data-ttu-id="36447-129">Oavsett lagringsmekanism garanterar krypteringen av vilande data att dessa lagrade data inte kan läsas utan de nycklar och hemligheter som krävs för att dekryptera dem.</span><span class="sxs-lookup"><span data-stu-id="36447-129">Regardless of the storage mechanism, encryption of data at rest ensures that the stored data is unreadable without the keys and secrets needed to decrypt it.</span></span> <span data-ttu-id="36447-130">Om en angripare får åtkomst till en hårddisk med krypterade data, men inte har tillgång till krypteringsnycklarna, är det extremt svårt för angriparen att komma åt dessa data.</span><span class="sxs-lookup"><span data-stu-id="36447-130">If an attacker was to obtain a hard drive with encrypted data and did not have access to the encryption keys, the attacker would not compromise the data without great difficulty.</span></span>

<span data-ttu-id="36447-131">Vilka data som krypteras, vad de används för och hur viktiga de är för organisationen kan variera.</span><span class="sxs-lookup"><span data-stu-id="36447-131">The actual data that is encrypted could vary in its content, usage, and importance to the organization.</span></span> <span data-ttu-id="36447-132">Det kan röra sig om finansiell information som är viktig för företaget, immateriell egendom som har utvecklats av företaget, personliga data som företaget lagrar om kunder eller anställda eller de nycklar och hemligheter som används för själva datakrypteringen.</span><span class="sxs-lookup"><span data-stu-id="36447-132">This could be financial information critical to the business, intellectual property that has been developed by the business, personal data about customers or employees that the business stores, and even the keys and secrets used for the encryption of the data itself.</span></span>

![Kryptering i vila](../media/encryption-at-rest.png)

## <a name="encryption-on-azure"></a><span data-ttu-id="36447-134">Kryptering i Azure</span><span class="sxs-lookup"><span data-stu-id="36447-134">Encryption on Azure</span></span>

<span data-ttu-id="36447-135">Nu ska vi se hur du kan kryptera data i olika tjänster i Azure.</span><span class="sxs-lookup"><span data-stu-id="36447-135">Let's take a look at some ways that Azure enables you to encrypt data across services.</span></span>

:::row:::
  :::column:::
    <span data-ttu-id="36447-136">![Bild som representerar krypterad lagring](../media/4-encrypt-raw-storage.png)</span><span class="sxs-lookup"><span data-stu-id="36447-136">![Image representing encrypted storage](../media/4-encrypt-raw-storage.png)</span></span>
  :::column-end:::
    <span data-ttu-id="36447-137">:::column span="3"::: **Kryptera lagring av rådata**</span><span class="sxs-lookup"><span data-stu-id="36447-137">:::column span="3"::: **Encrypt raw storage**</span></span>

<span data-ttu-id="36447-138">Med Kryptering för lagringstjänst (SSE) för vilande data kan du skydda dina data i enlighet med säkerhets- och efterlevnadskraven i din organisation.</span><span class="sxs-lookup"><span data-stu-id="36447-138">Azure Storage Service Encryption for data at rest helps you protect your data to meet your organizational security and compliance commitments.</span></span> <span data-ttu-id="36447-139">Med den här funktionen krypterar Azures lagringsplattform automatiskt dina data innan de lagras i Azure Managed Disks, Azure Blob Storage, Azure Files eller Azure Queue Storage, och dekrypterar dem innan de hämtas.</span><span class="sxs-lookup"><span data-stu-id="36447-139">With this feature, the Azure storage platform automatically encrypts your data before persisting it to Azure Managed Disks, Azure Blob storage, Azure Files, or Azure Queue storage, and decrypts the data before retrieval.</span></span> <span data-ttu-id="36447-140">Hanteringen av kryptering, kryptering i vila, dekryptering och nyckelhantering i Kryptering för lagringstjänst är transparent för program som använder tjänsterna.</span><span class="sxs-lookup"><span data-stu-id="36447-140">The handling of encryption, encryption at rest, decryption, and key management in Storage Service Encryption is transparent to applications using the services.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="36447-141">![Bild som representerar en krypterad virtuell dator](../media/4-encrypt-virtual-machines.png)</span><span class="sxs-lookup"><span data-stu-id="36447-141">![Image representing an encrypted virtual machine](../media/4-encrypt-virtual-machines.png)</span></span>
  :::column-end:::
    <span data-ttu-id="36447-142">:::column span="3"::: **Kryptera virtuella datorer**</span><span class="sxs-lookup"><span data-stu-id="36447-142">:::column span="3"::: **Encrypt virtual machines**</span></span>

<span data-ttu-id="36447-143">Kryptering av lagringstjänsten ger krypteringsskydd på låg nivå för data som skrivs till en fysisk disk, men hur skyddar du de virtuella hårddiskarna på virtuella datorer?</span><span class="sxs-lookup"><span data-stu-id="36447-143">Storage Service Encryption provides low-level encryption protection for data written to physical disk, but how do you protect the virtual hard disks (VHDs) of virtual machines?</span></span> <span data-ttu-id="36447-144">Vad händer om en angripare får åtkomst till din Azure-prenumeration och extraherar de virtuella hårddiskarna från dina virtuella datorer? Hur kan du vara säker på att angriparen inte kan komma åt data som lagras på de virtuella hårddiskarna?</span><span class="sxs-lookup"><span data-stu-id="36447-144">If a malicious attacker gained access to your Azure subscription and exfiltrated the VHDs of your virtual machines, how would you ensure they would be unable to access data stored on the VHD?</span></span>

<span data-ttu-id="36447-145">Azure Disk Encryption är en funktion som hjälper dig att kryptera dina IaaS-baserade virtuella Windows- och Linux-diskar.</span><span class="sxs-lookup"><span data-stu-id="36447-145">Azure Disk Encryption is a capability that helps you encrypt your Windows and Linux IaaS virtual machine disks.</span></span> <span data-ttu-id="36447-146">Azure Disk Encryption använder branschstandardfunktionen BitLocker i Windows och DM-Crypt i Linux för att tillhandahålla volymkryptering för operativsystemet och datadiskarna.</span><span class="sxs-lookup"><span data-stu-id="36447-146">Azure Disk Encryption leverages the industry-standard BitLocker feature of Windows and the dm-crypt feature of Linux to provide volume encryption for the OS and data disks.</span></span> <span data-ttu-id="36447-147">Lösningen är integrerad med Azure Key Vault och hjälper dig att kontrollera och hantera diskkrypteringsnycklarna och hemligheterna (och du kan använda hanterade tjänstidentiteter för att komma åt nyckelvalvet).</span><span class="sxs-lookup"><span data-stu-id="36447-147">The solution is integrated with Azure Key Vault to help you control and manage the disk encryption keys and secrets (and you can use managed service identities for accessing Key Vault).</span></span>

<span data-ttu-id="36447-148">Att använda virtuella datorer var ett av de första stegen mot molnet för Contoso Shipping.</span><span class="sxs-lookup"><span data-stu-id="36447-148">For Contoso Shipping, using VMs was one of the first moves toward the cloud.</span></span> <span data-ttu-id="36447-149">Att kryptera alla de virtuella hårddiskarna är ett mycket enkelt sätt med låg verksamhetspåverkan för att säkerställa att du gör allt du kan för att skydda företagets data.</span><span class="sxs-lookup"><span data-stu-id="36447-149">Having all the VHDs encrypted is a very easy, low-impact way to ensure that you are doing all you can to secure your company's data.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="36447-150">![Bild som representerar en krypterad databas](../media/4-encrypt-databases.png)</span><span class="sxs-lookup"><span data-stu-id="36447-150">![Image representing an encrypted database](../media/4-encrypt-databases.png)</span></span>
  :::column-end:::
    <span data-ttu-id="36447-151">:::column span="3"::: **Kryptera databaser**</span><span class="sxs-lookup"><span data-stu-id="36447-151">:::column span="3"::: **Encrypt databases**</span></span>

<span data-ttu-id="36447-152">Med transparent datakryptering kan du skydda Azure SQL Database och Azure Data Warehouse mot skadlig aktivitet.</span><span class="sxs-lookup"><span data-stu-id="36447-152">Transparent data encryption (TDE) helps protect Azure SQL Database and Azure Data Warehouse against the threat of malicious activity.</span></span> <span data-ttu-id="36447-153">TDE utför realtidskryptering och realtidsdekryptering av databasen, tillhörande säkerhetskopior och transaktionsloggfiler i vila, utan att några ändringar krävs i programmet.</span><span class="sxs-lookup"><span data-stu-id="36447-153">It performs real-time encryption and decryption of the database, associated backups, and transaction log files at rest without requiring changes to the application.</span></span> <span data-ttu-id="36447-154">Som standard är TDE aktiverat för alla nyligen distribuerade Azure SQL Database-instanser.</span><span class="sxs-lookup"><span data-stu-id="36447-154">By default, TDE is enabled for all newly deployed Azure SQL Database instances.</span></span>

<span data-ttu-id="36447-155">TDE krypterar lagringen av en hel databas med hjälp av en symmetrisk nyckel kallad databaskrypteringsnyckeln.</span><span class="sxs-lookup"><span data-stu-id="36447-155">TDE encrypts the storage of an entire database by using a symmetric key called the database encryption key.</span></span> <span data-ttu-id="36447-156">Som standard tillhandahåller Azure en unik krypteringsnyckel per logisk SQL Server-instans och hanterar all information.</span><span class="sxs-lookup"><span data-stu-id="36447-156">By default, Azure provides a unique encryption key per logical SQL Server instance and handles all the details.</span></span> <span data-ttu-id="36447-157">BYOK (Bring Your Own Key) stöds även med nycklar som lagras i Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="36447-157">Bring your own key (BYOK) is also supported with keys stored in Azure Key Vault.</span></span>

<span data-ttu-id="36447-158">Eftersom transparent datakryptering är aktiverad som standard kan du vara säker på att Contoso Shipping har rätt skydd för data som lagras i deras databaser.</span><span class="sxs-lookup"><span data-stu-id="36447-158">Because TDE is enabled by default, you are confident that Contoso Shipping has the proper protections in place for data stored in their databases.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="36447-159">![Bild som representerar en krypterad hemlighet](../media/4-encrypt-secrets.png)</span><span class="sxs-lookup"><span data-stu-id="36447-159">![Image representing an encrypted secret](../media/4-encrypt-secrets.png)</span></span>
  :::column-end:::
    <span data-ttu-id="36447-160">:::column span="3"::: **Kryptera hemligheter**</span><span class="sxs-lookup"><span data-stu-id="36447-160">:::column span="3"::: **Encrypt secrets**</span></span>

<span data-ttu-id="36447-161">Vi har sett att alla krypteringstjänster använder nycklar för att kryptera och dekryptera data. Men hur ser vi till att själva nycklarna är säkra?</span><span class="sxs-lookup"><span data-stu-id="36447-161">We've seen that the encryption services all use keys to encrypt and decrypt data, so how do we ensure that the keys themselves are secure?</span></span> <span data-ttu-id="36447-162">Företag kanske också har lösenord, anslutningssträngar och andra känsliga uppgifter som måste lagras på ett säkert sätt.</span><span class="sxs-lookup"><span data-stu-id="36447-162">Corporations may also have passwords, connection strings, or other sensitive pieces of information that they need to securely store.</span></span>

<span data-ttu-id="36447-163">Azure Key Vault är en molntjänst som fungerar som ett säkert lager för hemligheter.</span><span class="sxs-lookup"><span data-stu-id="36447-163">Azure Key Vault is a cloud service that works as a secure secrets store.</span></span> <span data-ttu-id="36447-164">Du kan skapa flera säkra containrar, kallade valv, i Key Vault.</span><span class="sxs-lookup"><span data-stu-id="36447-164">Key Vault allows you to create multiple secure containers, called vaults.</span></span> <span data-ttu-id="36447-165">De här valven förlitar sig på säkerhetsmoduler på maskinvarunivå (HSM:er).</span><span class="sxs-lookup"><span data-stu-id="36447-165">These vaults are backed by hardware security modules (HSMs).</span></span> <span data-ttu-id="36447-166">Med valv så minskar risken för att säkerhetsinformation förloras av misstag eftersom lagringen av hemligheter centraliseras.</span><span class="sxs-lookup"><span data-stu-id="36447-166">Vaults help reduce the chances of accidental loss of security information by centralizing the storage of application secrets.</span></span> <span data-ttu-id="36447-167">Nyckelvalv kontrollerar och loggar dessutom åtkomsten till allt som lagras i dem.</span><span class="sxs-lookup"><span data-stu-id="36447-167">Key vaults also control and log the access to anything stored in them.</span></span> <span data-ttu-id="36447-168">Azure Key Vault kan hantera begäranden om och förnyelser av TLS-certifikat (Transport Layer Security) och ger tillgång till de funktioner som krävs för en robust livscykelhantering av certifikat.</span><span class="sxs-lookup"><span data-stu-id="36447-168">Azure Key Vault can handle requesting and renewing TLS certificates, providing the features required for a robust certificate life cycle management solution.</span></span> <span data-ttu-id="36447-169">Key Vault har stöd för alla typer av hemligheter.</span><span class="sxs-lookup"><span data-stu-id="36447-169">Key Vault is designed to support any type of secret.</span></span> <span data-ttu-id="36447-170">Exempel på sådana hemligheter är lösenord, databasautentiseringsuppgifter, API-nycklar och certifikat.</span><span class="sxs-lookup"><span data-stu-id="36447-170">These secrets could be passwords, database credentials, API keys, and certificates.</span></span>

<span data-ttu-id="36447-171">Eftersom Azure AD-identiteter kan beviljas behörighet att använda Azure Key Vault-hemligheter, kan MSI-aktiverade program automatiskt och smidigt hämta de hemligheter som de behöver.</span><span class="sxs-lookup"><span data-stu-id="36447-171">Because Azure AD identities can be granted access to use Azure Key Vault secrets, applications with managed service identities enabled can automatically and seamlessly acquire the secrets they need.</span></span>
  :::column-end:::
:::row-end:::

## <a name="summary"></a><span data-ttu-id="36447-172">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="36447-172">Summary</span></span>

<span data-ttu-id="36447-173">Som du säkert vet så är kryptering ofta den sista skyddsbarriären mot angripare och en viktig del i en skiktbaserad strategi för att skydda dina system.</span><span class="sxs-lookup"><span data-stu-id="36447-173">As you may know, encryption is often the last layer of defense from attackers and is an important piece of a layered approach to securing your systems.</span></span> <span data-ttu-id="36447-174">Azure tillhandahåller inbyggda funktioner och tjänster som krypterar och skyddar data mot oavsiktlig exponering.</span><span class="sxs-lookup"><span data-stu-id="36447-174">Azure provides built-in capabilities and services to encrypt and protect data from unintended exposure.</span></span> <span data-ttu-id="36447-175">Skydd av kunddata som lagras i Azure-tjänster har högsta prioritet för Microsoft och ska integreras i all design.</span><span class="sxs-lookup"><span data-stu-id="36447-175">Protection of customer data stored within Azure services is of paramount importance to Microsoft and should be included in any design.</span></span> <span data-ttu-id="36447-176">Grundläggande tjänster som Azure Storage, Azure Virtual Machines, Azure SQL Database och Azure Key Vault hjälper dig att skydda din miljö genom kryptering.</span><span class="sxs-lookup"><span data-stu-id="36447-176">Foundational services such as Azure Storage, Azure Virtual Machines, Azure SQL Database, and Azure Key Vault can help secure your environment through encryption.</span></span>