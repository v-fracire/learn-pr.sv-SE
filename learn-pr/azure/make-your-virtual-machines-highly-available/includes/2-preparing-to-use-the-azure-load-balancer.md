<span data-ttu-id="46a83-101">Ditt företag vill se om Azure Load Balancer stöder ditt ERP-program (Enterprise Resource Planning).</span><span class="sxs-lookup"><span data-stu-id="46a83-101">Your company wants to see if Azure Load Balancer will support your Enterprise Resource Planning (ERP) application.</span></span> <span data-ttu-id="46a83-102">Programmet har ett webbgränssnitt för användare och körs på flera webbservrar.</span><span class="sxs-lookup"><span data-stu-id="46a83-102">Your application has a web interface for users and runs on multiple web servers.</span></span> <span data-ttu-id="46a83-103">Varje server har en lokal kopia av ERP-databasen som är synkroniserad över alla servrar.</span><span class="sxs-lookup"><span data-stu-id="46a83-103">Each server has a local copy of the ERP database, which is synced across all servers.</span></span>

<span data-ttu-id="46a83-104">Här tittar vi på hur en lastbalanserare kan hjälpa dig att ge hög tillgänglighet för tjänster.</span><span class="sxs-lookup"><span data-stu-id="46a83-104">Here, you will look at how a load balancer can help provide high availability of services.</span></span> <span data-ttu-id="46a83-105">Du identifierar skillnaden mellan alternativen Basic- och Standard-lastbalanserare och ser hur du skapar en lastbalanserare för virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="46a83-105">You will identify the difference between the basic and standard load balancer options and see how to create a load balancer for Azure Virtual Machines.</span></span>

## <a name="what-is-load-balancing"></a><span data-ttu-id="46a83-106">Vad är lastbalansering?</span><span class="sxs-lookup"><span data-stu-id="46a83-106">What is load balancing?</span></span>

<span data-ttu-id="46a83-107">_Lastbalansering_ beskriver olika metoder för att distribuera arbetsbelastningar på flera enheter, till exempel beräkning, lagring och nätverk.</span><span class="sxs-lookup"><span data-stu-id="46a83-107">_Load balancing_ describes various techniques for distributing workloads across multiple devices, such as compute, storage, and networking devices.</span></span> <span data-ttu-id="46a83-108">Målet med lastbalansering är att optimera användningen av flera resurser, att använda dessa resurser på det effektivaste sättet när en infrastruktur skalas ut samt att säkerställa att tjänster bevaras om vissa komponenter är inte tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="46a83-108">The goal of load balancing is to optimize the use of multiple resources, to make the most efficient use of these resources as an infrastructure is scaled out, and to ensure services are maintained if some components are unavailable.</span></span>

<span data-ttu-id="46a83-109">Här går vi igenom stödet för lastbalansering för virtuella datorer (VM) i Azure.</span><span class="sxs-lookup"><span data-stu-id="46a83-109">Here, we'll look at Azure's load balancing support for virtual machines (VMs).</span></span>

### <a name="what-is-high-availability"></a><span data-ttu-id="46a83-110">Vad är hög tillgänglighet?</span><span class="sxs-lookup"><span data-stu-id="46a83-110">What is high availability?</span></span>

<span data-ttu-id="46a83-111">Hög tillgänglighet (HA) mäter möjligheten för program eller tjänster att förbli tillgängliga även om det uppstår fel i någon systemkomponent.</span><span class="sxs-lookup"><span data-stu-id="46a83-111">High availability (HA) measures the ability of an application or service to remain accessible despite a failure in any system component.</span></span> <span data-ttu-id="46a83-112">I det ideala fallet sker ingen märkbar tjänstförlust.</span><span class="sxs-lookup"><span data-stu-id="46a83-112">Ideally, there will not be any noticeable loss of service.</span></span>

<span data-ttu-id="46a83-113">Lastbalansering är av stor vikt för leverans av hög tillgänglighet eftersom det gör att flera virtuella datorer fungerar som en pool med servrar.</span><span class="sxs-lookup"><span data-stu-id="46a83-113">Load balancing is fundamental to the delivery of HA because it allows multiple VMs to act as a pool of servers.</span></span> <span data-ttu-id="46a83-114">Poolen kan fortsätta behandla begäranden även om några av de virtuella datorerna kraschar eller tas offline för underhåll.</span><span class="sxs-lookup"><span data-stu-id="46a83-114">The pool can continue to service requests even if some VMs crash or are taken offline for maintenance.</span></span>

## <a name="what-is-azure-load-balancer"></a><span data-ttu-id="46a83-115">Vad är Azure Load Balancer?</span><span class="sxs-lookup"><span data-stu-id="46a83-115">What is Azure Load Balancer?</span></span>

<span data-ttu-id="46a83-116">**Azure Load Balancer** är en Azure-tjänst som distribuerar inkommande begäranden mellan flera virtuella datorer i en pool.</span><span class="sxs-lookup"><span data-stu-id="46a83-116">**Azure Load Balancer** is an Azure service that distributes incoming requests across multiple VMs in a pool.</span></span> <span data-ttu-id="46a83-117">Den distribuerar inkommande nätverkstrafik mellan en uppsättning felfria virtuella datorer och undviker alla virtuella datorer som inte kan svara.</span><span class="sxs-lookup"><span data-stu-id="46a83-117">It distributes incoming network traffic across a set of healthy VMs and avoids any VM that is not able to respond.</span></span>

 <span data-ttu-id="46a83-118">Azure Load Balancer fungerar på lager 4 (TCP, UDP) i OSI:s 7-lagermodell.</span><span class="sxs-lookup"><span data-stu-id="46a83-118">Azure Load Balancer operates at Layer-4 (TCP, UDP) of the OSI 7-layer model.</span></span> <span data-ttu-id="46a83-119">Den kan konfigureras att stödja TCP- och UDP-tillämpningsscenarier där trafiken är inkommande till virtuella Azure-datorer samt utgående scenarier där andra Azure-tjänster skickar TCP- och UDP-trafik via virtuella Azure-datorer till externa slutpunkter.</span><span class="sxs-lookup"><span data-stu-id="46a83-119">It can be configured to support TCP and UDP application scenarios where the traffic is inbound to Azure VMs, as well as outbound scenarios where other Azure services are passing TCP and UDP traffic out through Azure VMs to external endpoints.</span></span>

#### <a name="what-is-a-load-balancer"></a><span data-ttu-id="46a83-120">Vad är en lastbalanserare?</span><span class="sxs-lookup"><span data-stu-id="46a83-120">What is a Load Balancer?</span></span>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yBWo]

## <a name="public-vs-internal-load-balancers"></a><span data-ttu-id="46a83-121">Offentliga kontra interna lastbalanserare</span><span class="sxs-lookup"><span data-stu-id="46a83-121">Public vs. internal load balancers</span></span>

<span data-ttu-id="46a83-122">En Azure Load Balancer kan vara antingen _offentlig_ eller _intern_ beroende på källan för inkommande begäranden.</span><span class="sxs-lookup"><span data-stu-id="46a83-122">An Azure Load Balancer can be either _public_ or _internal_ depending on the source of incoming requests.</span></span>

<span data-ttu-id="46a83-123">En **offentlig lastbalanserare** hanterar klientbegäranden som härrör utanför Azure-infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="46a83-123">A **public load balancer** handles client requests from outside the Azure infrastructure.</span></span> <span data-ttu-id="46a83-124">Den offentliga IP-adressen är tilldelad till lastbalanseraren och dirigerar de inkommande begärandena till en uppsättning resurser som finns i ett privat virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="46a83-124">The public IP address is assigned to the load balancer and it routes the inbound requests to a set of resources that are on a private virtual network.</span></span> <span data-ttu-id="46a83-125">Den här metoden används vanligtvis för att skapa webbservrar som har hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="46a83-125">This approach is commonly used for making web servers highly available.</span></span> <span data-ttu-id="46a83-126">Följande bild visar en offentlig lastbalanserare.</span><span class="sxs-lookup"><span data-stu-id="46a83-126">The following illustration shows a public load balancer.</span></span>

![En bild som visar en offentlig lastbalanserare som distribuerar klientbegäranden från Internet till tre virtuella datorer i ett virtuellt nätverk.](../media/2-public-load-balancer.png)

<span data-ttu-id="46a83-128">En **intern lastbalanserare** bearbetar begäranden som härrör inifrån ett virtuellt nätverk (eller via ett VPN).</span><span class="sxs-lookup"><span data-stu-id="46a83-128">An **internal load balancer** processes requests from within a virtual network (or through a VPN).</span></span> <span data-ttu-id="46a83-129">Den distribuerar begäranden till resurser inom det virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="46a83-129">It distributes requests to resources within that virtual network.</span></span> <span data-ttu-id="46a83-130">Lastbalanseraren, klientdelens IP-adresser och virtuella nätverk är inte direkt åtkomliga från Internet.</span><span class="sxs-lookup"><span data-stu-id="46a83-130">The load balancer, front-end IP addresses, and virtual networks are not directly accessible from the Internet.</span></span> <span data-ttu-id="46a83-131">Följande bild visar en arkitektur som innehåller både en offentlig och en intern lastbalanserare.</span><span class="sxs-lookup"><span data-stu-id="46a83-131">The following illustration shows an architecture containing both a public and internal load balancer.</span></span> <span data-ttu-id="46a83-132">Den offentliga lastbalanseraren hanterar externa begäranden medan den interna lastbalanseraren vidarebefordrar begärandena till de interna virtuella datorerna och databaserna för bearbetning.</span><span class="sxs-lookup"><span data-stu-id="46a83-132">The public load balancer handles external requests while the internal load balancer forwards the requests to the internal VMs and databases for processing.</span></span>

![En bild som visar en offentlig lastbalanserare som vidarebefordrar klientbegäranden till en intern lastbalanserare.](../media/2-internal-load-balancer.png)

## <a name="how-does-azure-load-balancer-work"></a><span data-ttu-id="46a83-136">Hur fungerar Azure Load Balancer?</span><span class="sxs-lookup"><span data-stu-id="46a83-136">How does Azure Load Balancer work?</span></span>

<span data-ttu-id="46a83-137">Azure Load Balancer använder information som konfigureras i _regler_ och _hälsoavsökningar_ för att avgöra hur inkommande trafik som tas emot i lastbalanserarens _klientdel_ ska distribueras till VM-instanser i en _serverdelsadresspool_.</span><span class="sxs-lookup"><span data-stu-id="46a83-137">Azure Load Balancer uses information configured in _rules_ and _health probes_ to determine how inbound traffic that is received on the load balancer _front end_ is distributed to VM instances in a _backend address pool_.</span></span> <span data-ttu-id="46a83-138">Nu ska vi titta närmare på var och en av dessa komponenter.</span><span class="sxs-lookup"><span data-stu-id="46a83-138">Let's examine each of these components.</span></span>

### <a name="what-is-the-load-balancer-front-end"></a><span data-ttu-id="46a83-139">Vad är lastbalanserarens klientdel?</span><span class="sxs-lookup"><span data-stu-id="46a83-139">What is the load balancer front end?</span></span>

<span data-ttu-id="46a83-140">Lastbalanserarens klientdel är en IP-konfiguration som innehåller en eller flera offentliga IP-adresser som ger åtkomst till lastbalanseraren och dess program via Internet.</span><span class="sxs-lookup"><span data-stu-id="46a83-140">The load balancer front end is an IP configuration, containing one or more public IP addresses, that enables access to the load balancer and its applications over the Internet.</span></span>

### <a name="what-is-the-backend-address-pool"></a><span data-ttu-id="46a83-141">Vad är serverdelsadresspoolen?</span><span class="sxs-lookup"><span data-stu-id="46a83-141">What is the backend address pool?</span></span>

<span data-ttu-id="46a83-142">Virtuella datorer ansluter till en lastbalanserare med ett virtuellt nätverksgränssnitt (vNIC).</span><span class="sxs-lookup"><span data-stu-id="46a83-142">Virtual machines connect to a load balancer using their virtual network interface (vNIC).</span></span> <span data-ttu-id="46a83-143">Serverdelsadresspoolen innehåller IP-adresserna för de virtuella nätverkskort som är anslutna till lastbalanseraren.</span><span class="sxs-lookup"><span data-stu-id="46a83-143">The backend address pool contains the IP addresses of the vNICs that are connected to the load balancer.</span></span> <span data-ttu-id="46a83-144">Om du placerar alla dina virtuella datorer i en tillgänglighetsuppsättning kan du använda detta för att enkelt lägga till de virtuella datorerna i en serverdelspool när du konfigurerar lastbalanseraren.</span><span class="sxs-lookup"><span data-stu-id="46a83-144">If you place all your VMs in an availability set, you can use this to easily add your VMs to a backend pool when you're configuring the load balancer.</span></span>

### <a name="what-is-a-health-probe"></a><span data-ttu-id="46a83-145">Vad är en hälsoavsökning?</span><span class="sxs-lookup"><span data-stu-id="46a83-145">What is a health probe?</span></span>

<span data-ttu-id="46a83-146">Lastbalanserare använder _hälsoavsökningar_ för att avgöra vilka virtuella datorer som kan bearbeta begäranden.</span><span class="sxs-lookup"><span data-stu-id="46a83-146">Load balancers use _health probes_ to determine which virtual machines can service requests.</span></span> <span data-ttu-id="46a83-147">Lastbalanseraren distribuerar endast trafik till virtuella datorer som är tillgängliga och i drift.</span><span class="sxs-lookup"><span data-stu-id="46a83-147">The load balancer will only distribute traffic to VMs that are available and operational.</span></span>

<span data-ttu-id="46a83-148">En hälsoavsökning övervakar specifika portar på varje virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="46a83-148">A health probe monitors specific ports on each VM.</span></span> <span data-ttu-id="46a83-149">Du kan definiera vilken typ av svar som motsvarar ”hälsa”. Du kan till exempel kräva ett `HTTP 200 Available`-svar från ett webbprogram.</span><span class="sxs-lookup"><span data-stu-id="46a83-149">You can define what type of response corresponds to "health"; for example, you might require an `HTTP 200 Available` response from a web application.</span></span> <span data-ttu-id="46a83-150">Som standard markeras en virtuell dator som ”ej tillgänglig” efter två fel i rad med intervall om 15 sekunder.</span><span class="sxs-lookup"><span data-stu-id="46a83-150">By default, a VM will be marked as "unavailable" after two consecutive failures at 15-second intervals.</span></span>

### <a name="load-balancer-rules"></a><span data-ttu-id="46a83-151">Regler för lastbalanserare</span><span class="sxs-lookup"><span data-stu-id="46a83-151">Load balancer rules</span></span>

<span data-ttu-id="46a83-152">_Regler_ för lastbalanserare definierar hur trafik ska distribueras till de virtuella serverdelsdatorerna.</span><span class="sxs-lookup"><span data-stu-id="46a83-152">Load balancer _rules_ define how traffic is distributed to backend VMs.</span></span> <span data-ttu-id="46a83-153">Målet är att distribuera begäranden på ett jämnt sätt över de felfria virtuella datorerna i serverdelspoolen.</span><span class="sxs-lookup"><span data-stu-id="46a83-153">The goal is to distribute requests fairly across the healthy VMs in the backend pool.</span></span>

<span data-ttu-id="46a83-154">Azure Load Balancer använder en hash-baserad algoritm för att skriva om huvudena i inkommande paket.</span><span class="sxs-lookup"><span data-stu-id="46a83-154">Azure Load Balancer uses a hash-based algorithm to rewrite the headers of inbound packets.</span></span> <span data-ttu-id="46a83-155">Som standard skapar Load Balancer en hash från:</span><span class="sxs-lookup"><span data-stu-id="46a83-155">By default, Load Balancer creates a hash from:</span></span>

- <span data-ttu-id="46a83-156">Källans IP-adress</span><span class="sxs-lookup"><span data-stu-id="46a83-156">Source IP address</span></span>
- <span data-ttu-id="46a83-157">Källport</span><span class="sxs-lookup"><span data-stu-id="46a83-157">Source port</span></span>
- <span data-ttu-id="46a83-158">Mål-IP-adress</span><span class="sxs-lookup"><span data-stu-id="46a83-158">Destination IP address</span></span>
- <span data-ttu-id="46a83-159">Målport</span><span class="sxs-lookup"><span data-stu-id="46a83-159">Destination port</span></span>
- <span data-ttu-id="46a83-160">IP-protokollnumret</span><span class="sxs-lookup"><span data-stu-id="46a83-160">IP protocol number</span></span>

<span data-ttu-id="46a83-161">Den här mekanismen säkerställer att alla paket i ett paketklientflöde skickas till samma VM-serverdelsinstans.</span><span class="sxs-lookup"><span data-stu-id="46a83-161">This mechanism ensures that all packets within a packet client flow are sent to the same backend VM instance.</span></span> <span data-ttu-id="46a83-162">Ett nytt flöde från en klient använder en annan slumpmässigt tilldelade källport.</span><span class="sxs-lookup"><span data-stu-id="46a83-162">A new flow from a client will use a different randomly allocated source port.</span></span> <span data-ttu-id="46a83-163">Det innebär att hashen att ändras och lastbalanseraren kan skicka det här flödet till en annan serverdelsslutpunkt.</span><span class="sxs-lookup"><span data-stu-id="46a83-163">This means that the hash will change, and the load balancer may send this flow to a different backend endpoint.</span></span>

## <a name="basic-vs-standard-load-balancer-skus"></a><span data-ttu-id="46a83-164">Basic kontra Standard lastbalanserar-SKU:er</span><span class="sxs-lookup"><span data-stu-id="46a83-164">Basic vs. Standard Load Balancer SKUs</span></span>

<span data-ttu-id="46a83-165">Det finns två typer av Azure Load Balancer: **Basic** och **Standard**.</span><span class="sxs-lookup"><span data-stu-id="46a83-165">There are two versions of Azure Load Balancer: **Basic** and **Standard**.</span></span> <span data-ttu-id="46a83-166">De skiljer sig åt vad gäller skala, funktioner och priser.</span><span class="sxs-lookup"><span data-stu-id="46a83-166">They differ in scale, features, and pricing.</span></span> <span data-ttu-id="46a83-167">Exempel:</span><span class="sxs-lookup"><span data-stu-id="46a83-167">For example:</span></span>

- <span data-ttu-id="46a83-168">Standard har stöd för säker trafikroutning via HTTPS.</span><span class="sxs-lookup"><span data-stu-id="46a83-168">Standard supports secure traffic routing over HTTPS.</span></span>
- <span data-ttu-id="46a83-169">Storleken för serverdelspoolen kan vara mycket större i Standard (1 000 jämfört med 100 i Basic-SKU).</span><span class="sxs-lookup"><span data-stu-id="46a83-169">Backend pool size can be much larger in Standard (1000 vs. 100 in the Basic SKU).</span></span>
- <span data-ttu-id="46a83-170">Trafiken kan dirigeras till en större pool med slutpunkter, inklusive överlappande skalningsuppsättningar, tillgänglighetsuppsättningar och virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="46a83-170">Traffic can be directed to a larger pool of endpoints, including blends of scale sets, availability sets, and VMs.</span></span> <span data-ttu-id="46a83-171">Basic-SKU:n är begränsad till en enda tillgänglighetsuppsättning, skalningsuppsättning eller virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="46a83-171">The Basic SKU  is restricted to a single availability set, scale set, or VM.</span></span>
- <span data-ttu-id="46a83-172">Stöd för portar med hög tillgänglighet (HA-portar) att belastningsutjämna TCP- och UDP-flöden på alla portar samtidigt som du använder den som en intern lastbalanserare.</span><span class="sxs-lookup"><span data-stu-id="46a83-172">Support for High Availability (HA) ports to load-balance TCP and UDP flows on all ports simultaneously when you're using it as an internal load balancer.</span></span>
- <span data-ttu-id="46a83-173">Basic är kostnadsfritt medan Standard debiteras baserat på regler och dataflöde.</span><span class="sxs-lookup"><span data-stu-id="46a83-173">Basic is no-cost, while Standard is charged based on rules and throughput.</span></span>

<span data-ttu-id="46a83-174">Standard är en överordnad uppsättning av Basic, så alla scenarier som är lämpliga för Basic bör även fungera med Standard.</span><span class="sxs-lookup"><span data-stu-id="46a83-174">Standard is a superset of Basic, so any scenario suitable for Basic should also work on Standard.</span></span> <span data-ttu-id="46a83-175">Basic-SKU:n är generellt avsedd för prototyper och testning medan Standard rekommenderas för produktion.</span><span class="sxs-lookup"><span data-stu-id="46a83-175">The Basic SKU is generally intended for prototyping and testing while Standard is recommended for production.</span></span>

## <a name="start-the-deployment-of-a-basic-public-load-balancer"></a><span data-ttu-id="46a83-176">Starta distributionen av en offentlig Basic-lastbalanserare</span><span class="sxs-lookup"><span data-stu-id="46a83-176">Start the deployment of a basic public load balancer</span></span>

<span data-ttu-id="46a83-177">För att skapa ett lastbalanserat virtuellt datorsystem behöver du skapa själva lastbalanseraren, skapa ett virtuellt nätverk som ska innehålla dina virtuella datorer och sedan lägga till de virtuella datorerna till det virtuella nätverket.</span><span class="sxs-lookup"><span data-stu-id="46a83-177">To create a load-balanced VM system, you need to create the load balancer itself, create a virtual network to contain your virtual machines, and then add VMs to the virtual network.</span></span>

<span data-ttu-id="46a83-178">För att skapa lastbalanseraren med hjälp av Azure-portalen definierar du följande:</span><span class="sxs-lookup"><span data-stu-id="46a83-178">To create the load balancer using the Azure portal, you define the following:</span></span>

- <span data-ttu-id="46a83-179">Lastbalanserarens namn</span><span class="sxs-lookup"><span data-stu-id="46a83-179">Load balancer name</span></span>
- <span data-ttu-id="46a83-180">Typ: offentlig eller intern</span><span class="sxs-lookup"><span data-stu-id="46a83-180">Type: public or internal</span></span>
- <span data-ttu-id="46a83-181">SKU: Basic eller Standard</span><span class="sxs-lookup"><span data-stu-id="46a83-181">SKU: Basic or Standard</span></span>
- <span data-ttu-id="46a83-182">Offentlig IP-adress: dynamisk eller statisk</span><span class="sxs-lookup"><span data-stu-id="46a83-182">Public IP address: dynamic or static</span></span>
- <span data-ttu-id="46a83-183">Resursgrupp och plats</span><span class="sxs-lookup"><span data-stu-id="46a83-183">Resource group and location</span></span>

<span data-ttu-id="46a83-184">De virtuella serverdelsdatorerna kommer alla att vara anslutna till samma virtuella nätverk så nästa steg är att konfigurera den här resursen:</span><span class="sxs-lookup"><span data-stu-id="46a83-184">Your backend VMs will all be connected to the same virtual network, so you need to configure this resource next:</span></span>

- <span data-ttu-id="46a83-185">Virtuellt nätverksnamn</span><span class="sxs-lookup"><span data-stu-id="46a83-185">Virtual network name</span></span>
- <span data-ttu-id="46a83-186">Det adressutrymme som ska användas, till exempel 172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="46a83-186">Address space to use, such as 172.20.0.0/16</span></span>
- <span data-ttu-id="46a83-187">Resursgrupp</span><span class="sxs-lookup"><span data-stu-id="46a83-187">Resource group</span></span>
- <span data-ttu-id="46a83-188">Namn för det undernät som ska användas</span><span class="sxs-lookup"><span data-stu-id="46a83-188">Name for the subnet to use</span></span>
- <span data-ttu-id="46a83-189">Adressutrymmet för undernätet (måste vara inom huvudutrymmet), till exempel 172.20.0.0/24</span><span class="sxs-lookup"><span data-stu-id="46a83-189">Address space for the subnet (must be within the main space), such as 172.20.0.0/24</span></span>

<span data-ttu-id="46a83-190">Eftersom vi förväntar oss inkommande trafik måste vi skapa några nätverkssäkerhetsregler med hjälp av en nätverkssäkerhetsgrupp (NSG).</span><span class="sxs-lookup"><span data-stu-id="46a83-190">Since we expect inbound traffic, we'll have to create some network security rules using a network security group (NSG).</span></span> <span data-ttu-id="46a83-191">I det här fallet vill vi öppna port 80 för HTTP-trafik.</span><span class="sxs-lookup"><span data-stu-id="46a83-191">In this case, we'll want to open port 80 for HTTP traffic.</span></span>

<span data-ttu-id="46a83-192">Till sist behöver vi skapa och distribuera de virtuella datorerna och konfigurera dem till att använda ditt virtuella nätverk.</span><span class="sxs-lookup"><span data-stu-id="46a83-192">Finally, we then need to create and deploy the virtual machines and configure them to use your virtual network.</span></span> <span data-ttu-id="46a83-193">Vi ska även skapa en tillgänglighetsuppsättning som grupperar ihop dem.</span><span class="sxs-lookup"><span data-stu-id="46a83-193">We will also create an availability set to group them together.</span></span> <span data-ttu-id="46a83-194">Tillgänglighetsuppsättningar definierar nivån av feltolerans för en grupp med virtuella datorer, men för lastbalansering hjälper de dig även att tilldela dina virtuella datorer till serverdelspooler.</span><span class="sxs-lookup"><span data-stu-id="46a83-194">Availability sets define the level of fault tolerance across a group of VMs, but for load balancing, they also help you assign your VMs to backend pools.</span></span>

<span data-ttu-id="46a83-195">Du har nu sett hur du använder Azure Load Balancer som en del av en lösning för hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="46a83-195">You have now seen how to use Azure Load Balancer as part of a high-availability solution.</span></span> <span data-ttu-id="46a83-196">Härnäst använder du dessa steg för att distribuera din egen lastbalanserare.</span><span class="sxs-lookup"><span data-stu-id="46a83-196">Next, you will use these steps to deploy your own load balancer.</span></span>