<span data-ttu-id="a8039-101">Din server måste ha tillräckligt med resurser för att hantera dagliga begäran.</span><span class="sxs-lookup"><span data-stu-id="a8039-101">Your server needs enough resources to handle daily demand.</span></span> <span data-ttu-id="a8039-102">En typisk strategi är att välja en VM-storlek vid skapandet som är tillräcklig för typiska arbetsbelastningar och sedan ändra storlek när efterfrågan förändras.</span><span class="sxs-lookup"><span data-stu-id="a8039-102">A typical strategy is to choose a VM size at creation that is sufficient for typical workloads and then resize it when demand changes.</span></span>

<span data-ttu-id="a8039-103">I scenariot med leksakerna skulle den här strategin vara användbar för att hantera resurser för din tillväxt på medellång sikt.</span><span class="sxs-lookup"><span data-stu-id="a8039-103">In the toy company scenario, this strategy would be useful to manage resources for your medium-term growth.</span></span> <span data-ttu-id="a8039-104">Du kan öka storleken på den virtuella datorn för att hantera ökad efterfrågan när företaget växer.</span><span class="sxs-lookup"><span data-stu-id="a8039-104">You can increase the size of your VM to handle the added demand as your business grows.</span></span>

## <a name="what-is-virtual-machine-size"></a><span data-ttu-id="a8039-105">Vad är storleken på den virtuella datorn?</span><span class="sxs-lookup"><span data-stu-id="a8039-105">What is virtual machine size?</span></span>

<span data-ttu-id="a8039-106">_Storleken_ på en virtuell dator är ett mått på dess processor, minne, disk och förväntad nätverksbandbredd.</span><span class="sxs-lookup"><span data-stu-id="a8039-106">The _size_ of a virtual machine is a measure of its CPU, memory, disk, and expected network bandwidth.</span></span> <span data-ttu-id="a8039-107">Virtuella datorer är tillgängliga i ett förbestämt antal storlekar.</span><span class="sxs-lookup"><span data-stu-id="a8039-107">Virtual machines are available in a predetermined number of sizes.</span></span> <span data-ttu-id="a8039-108">Till exempel har storleken **Standard_F32s_v2** 32 virtuella processorer, 64 GiB minne, en lokal SSD på 256 GiB och en förväntad nätverksbandbredd på 14 000 Mbit/s.</span><span class="sxs-lookup"><span data-stu-id="a8039-108">For example, the **Standard_F32s_v2** size has 32 virtual CPUs, 64 GiB of memory, a 256 GiB local SSD, and 14,000 Mbps of expected network bandwidth.</span></span>

<span data-ttu-id="a8039-109">När du skapar en ny virtuell dator i Azure måste du välja en storlek.</span><span class="sxs-lookup"><span data-stu-id="a8039-109">When you create a new virtual machine in Azure, you must choose a size.</span></span> <span data-ttu-id="a8039-110">Större storlekar kostar mer.</span><span class="sxs-lookup"><span data-stu-id="a8039-110">Larger sizes cost more.</span></span> <span data-ttu-id="a8039-111">Målet är att välja en storlek som kan hantera din arbetsbelastning utan att konfigurera mer kraft än du behöver.</span><span class="sxs-lookup"><span data-stu-id="a8039-111">The goal is to choose a size that can handle your workload without configuring more power than you need.</span></span>

## <a name="what-is-virtual-machine-type"></a><span data-ttu-id="a8039-112">Vad är en typ av virtuell dator?</span><span class="sxs-lookup"><span data-stu-id="a8039-112">What is virtual machine type?</span></span>

<span data-ttu-id="a8039-113">Den virtuella datorns _typ_ är arbetsbelastningen som den virtuella datorn har optimerats för.</span><span class="sxs-lookup"><span data-stu-id="a8039-113">The _type_ of a virtual machine is the workload for which the VM has been optimized.</span></span> <span data-ttu-id="a8039-114">Vissa virtuella datorer är till exempel avsedda för processorintensiva uppgifter som att vara värd för en webbserver.</span><span class="sxs-lookup"><span data-stu-id="a8039-114">For example, some VMs are targeted at CPU-intensive tasks like hosting a web server.</span></span> <span data-ttu-id="a8039-115">Andra är avsedda för lagringsfokuserade jobb som att köra en databas.</span><span class="sxs-lookup"><span data-stu-id="a8039-115">Others are intended for storage-focused jobs like running a database.</span></span>

<span data-ttu-id="a8039-116">Det finns _typer_ som motsvara varje kärnkomponent för maskinvaran i en modern dator: **beräkning**, **minne**, **lagring** och **GPU**.</span><span class="sxs-lookup"><span data-stu-id="a8039-116">There are _types_ that correspond to each core hardware component in a modern computer: **compute**, **memory**, **storage**, and **GPU**.</span></span> <span data-ttu-id="a8039-117">Det finns också en typ för **generell användning** om du behöver en balanserad kombination av resurser.</span><span class="sxs-lookup"><span data-stu-id="a8039-117">There's also a **general purpose** type if you need a balanced combination of resources.</span></span> <span data-ttu-id="a8039-118">Följande tabell visar typerna och VM-storlekarna som är en del av varje typ tillsammans med en kort beskrivning av målarbetsbelastningen.</span><span class="sxs-lookup"><span data-stu-id="a8039-118">The following table lists the types and the VM sizes that are part of each type, along with a brief description of the target workload.</span></span>

|<span data-ttu-id="a8039-119">Typ</span><span class="sxs-lookup"><span data-stu-id="a8039-119">Type</span></span>|<span data-ttu-id="a8039-120">Storlekar</span><span class="sxs-lookup"><span data-stu-id="a8039-120">Sizes</span></span>|<span data-ttu-id="a8039-121">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="a8039-121">Description</span></span>|
|---|---|---|
|<span data-ttu-id="a8039-122">Generell användning</span><span class="sxs-lookup"><span data-stu-id="a8039-122">General purpose</span></span>|<span data-ttu-id="a8039-123">B, Ds_v3, D_v3, vissa DS_v2, vissa D_v2, A_v2</span><span class="sxs-lookup"><span data-stu-id="a8039-123">B, Ds_v3, D_v3, some DS_v2, some D_v2, A_v2</span></span>|<span data-ttu-id="a8039-124">Datorer för generell användning har ett balanserat förhållande av CPU-till-minne.</span><span class="sxs-lookup"><span data-stu-id="a8039-124">General-purpose machines have a balanced CPU-to-memory ratio.</span></span> <span data-ttu-id="a8039-125">Datorer för generell användning är bra för testning eller utveckling för servrar, även små till medelstora databaser eller webbservrar med låg till medelhög trafik.</span><span class="sxs-lookup"><span data-stu-id="a8039-125">General-purpose machines are good for testing or development servers, small to medium databases, or web servers with low to medium traffic.</span></span>|
|<span data-ttu-id="a8039-126">Beräkningsoptimerad</span><span class="sxs-lookup"><span data-stu-id="a8039-126">Compute optimized</span></span>|<span data-ttu-id="a8039-127">Fs_v2, Fs, F</span><span class="sxs-lookup"><span data-stu-id="a8039-127">Fs_v2, Fs, F</span></span>|<span data-ttu-id="a8039-128">Virtuella datorer som är beräkningsoptimerade har ett högre förhållande mellan processor och minne än datorer för generell användning, för uppgifter som kräver extra processorkraft, till exempel programservrar, nätverksenheter eller webbservrar med medelhög trafik.</span><span class="sxs-lookup"><span data-stu-id="a8039-128">Compute-optimized virtual machines have a higher CPU-to-memory ratio than general-purpose machines, for tasks that require extra processing power, such as application servers, network appliances, or medium-traffic web servers.</span></span>|
|<span data-ttu-id="a8039-129">Minnesoptimerad</span><span class="sxs-lookup"><span data-stu-id="a8039-129">Memory optimized</span></span>|<span data-ttu-id="a8039-130">Es_v3, E_v3, M, GS, G, vissa DS_v2, vissa D_v2</span><span class="sxs-lookup"><span data-stu-id="a8039-130">Es_v3, E_v3, M, GS, G, some DS_v2, some D_v2</span></span>|<span data-ttu-id="a8039-131">Minnesoptimerade virtuella datorer är avsedda att ha ett högt förhållande minne-till-CPU.</span><span class="sxs-lookup"><span data-stu-id="a8039-131">Memory-optimized virtual machines have a high memory-to-CPU ratio.</span></span> <span data-ttu-id="a8039-132">Sådana datorer är bra för relationsdatabasservrar, servrar som kräver eller utför mycket cachelagring eller servrar som utför minnesinterna analyser.</span><span class="sxs-lookup"><span data-stu-id="a8039-132">These machines are good for relational database servers, servers that require or perform a lot of caching, or servers that perform in-memory analytics.</span></span>|
|<span data-ttu-id="a8039-133">Lagringsoptimerad</span><span class="sxs-lookup"><span data-stu-id="a8039-133">Storage optimized</span></span>|<span data-ttu-id="a8039-134">Ls</span><span class="sxs-lookup"><span data-stu-id="a8039-134">Ls</span></span>|<span data-ttu-id="a8039-135">De har virtuella datorerna är konfigurerade för högt diskgenomflöde och I/O-åtgärder som passar databaser för stordata, SQL och NoSQL.</span><span class="sxs-lookup"><span data-stu-id="a8039-135">These virtual machines are configured for high disk throughput and IO operations to suit big data, SQL, and NoSQL databases.</span></span>|
|<span data-ttu-id="a8039-136">GPU</span><span class="sxs-lookup"><span data-stu-id="a8039-136">GPU</span></span>|<span data-ttu-id="a8039-137">NV, NC, NC_v2, NC_v3, ND</span><span class="sxs-lookup"><span data-stu-id="a8039-137">NV, NC, NC_v2, NC_v3, ND</span></span>|<span data-ttu-id="a8039-138">Virtuella GPU-datorer är specialiserade på uppgifter som tung grafikåtergivning eller videoredigering och även träning av modeller och inferensjobb med djupinlärning (ND-serien).</span><span class="sxs-lookup"><span data-stu-id="a8039-138">GPU virtual machines are specialized for tasks such as heavy-duty graphic rendering or video editing, along with model training and inferencing (ND series) with deep learning.</span></span> <span data-ttu-id="a8039-139">Du kan välja en eller flera GPU:er för sådana datorer.</span><span class="sxs-lookup"><span data-stu-id="a8039-139">You can choose single or multiple GPUs for these machines.</span></span>|
|<span data-ttu-id="a8039-140">Databehandling med höga prestanda</span><span class="sxs-lookup"><span data-stu-id="a8039-140">High performance compute</span></span>|<span data-ttu-id="a8039-141">H</span><span class="sxs-lookup"><span data-stu-id="a8039-141">H</span></span>|<span data-ttu-id="a8039-142">De snabbaste och kraftfullaste processorerna finns i dessa virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="a8039-142">The fastest, most powerful CPUs are available in these virtual machines.</span></span> <span data-ttu-id="a8039-143">Du kan även lägga till nätverksgränssnitt för stora dataflöden (RDMA).</span><span class="sxs-lookup"><span data-stu-id="a8039-143">You can also add high-throughput network interfaces (RDMA).</span></span>|

## <a name="clusters"></a><span data-ttu-id="a8039-144">Kluster</span><span class="sxs-lookup"><span data-stu-id="a8039-144">Clusters</span></span>

<span data-ttu-id="a8039-145">Maskinvaran för den fysiska servern i Azure-regioner grupperas ihop i kluster.</span><span class="sxs-lookup"><span data-stu-id="a8039-145">The physical server hardware in Azure regions is grouped together into clusters.</span></span> <span data-ttu-id="a8039-146">Varje kluster kan stödja flera olika virtuella datorstorlekar baserat på den fysiska maskinvaran.</span><span class="sxs-lookup"><span data-stu-id="a8039-146">Each cluster can support several different virtual machine sizes based on the physical hardware.</span></span>

<span data-ttu-id="a8039-147">När du skapar en virtuell dator och väljer en viss storlek etableras den virtuella datorn till ett lämpligt maskinvarukluster för den storleken.</span><span class="sxs-lookup"><span data-stu-id="a8039-147">When you create a virtual machine and choose a specific size, the virtual machine is provisioned to an appropriate hardware cluster for that size.</span></span> <span data-ttu-id="a8039-148">Trots att du kan ändra storlek på virtuella datorer när du har skapat dem kan alternativen för storleksändring begränsas av maskinvaruklustret som har valts för den ursprungliga storleken.</span><span class="sxs-lookup"><span data-stu-id="a8039-148">Although you can resize virtual machines after creation, the resizing options may be limited by the hardware cluster chosen for the initial size.</span></span>

## <a name="what-is-vertical-scaling"></a><span data-ttu-id="a8039-149">Vad är vertikal skalning?</span><span class="sxs-lookup"><span data-stu-id="a8039-149">What is vertical scaling?</span></span>

<span data-ttu-id="a8039-150">_Vertikal skalning_ är processen för att ändra _storlek_ på en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="a8039-150">_Vertical scaling_ is the process of changing the _size_ of a virtual machine.</span></span> <span data-ttu-id="a8039-151">Du kan _skala upp_ genom att välja en kraftfullare storlek för att hantera ökad efterfrågan eller _skala ned_ för att allokera färre resurser och minska kostnaderna.</span><span class="sxs-lookup"><span data-stu-id="a8039-151">You can _scale up_ by choosing a more powerful size to handle increased demand or _scale down_ to allocate fewer resources and reduce costs.</span></span> <span data-ttu-id="a8039-152">Följande bild visar ett exempel på att ändra storleken för en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="a8039-152">The following illustration shows an example of changing the size of a virtual machine.</span></span>

![En bild som visar upp- och nedskalning av en virtuell dator för att ändra prestandan.](../media/2-ScaleUpDown.png)

<span data-ttu-id="a8039-154">Du kan ändra storlek för en virtuell dator med hjälp av Azure-portalen, Azure PowerShell eller Azure-CLI.</span><span class="sxs-lookup"><span data-stu-id="a8039-154">You can resize a VM using the Azure portal, Azure PowerShell, or the Azure CLI.</span></span>

### <a name="resize-in-the-portal"></a><span data-ttu-id="a8039-155">Ändra storlek i portalen</span><span class="sxs-lookup"><span data-stu-id="a8039-155">Resize in the portal</span></span>

<span data-ttu-id="a8039-156">I Azure-portalen kan du ändra storlek på en virtuell dator genom att välja den virtuella datorn, klicka på posten **Storlek** och välja en post i bladet **Välj en storlek**.</span><span class="sxs-lookup"><span data-stu-id="a8039-156">In the Azure portal, you can resize a virtual machine by selecting the virtual machine, clicking the **Size** entry, and selecting an entry from the **Choose a size** blade.</span></span> 

<span data-ttu-id="a8039-157">Om den virtuella datorn körs vid den aktuella tidpunkten beror de storlekar du kan välja bland på vilka storlekar som är tillgängliga i din region.</span><span class="sxs-lookup"><span data-stu-id="a8039-157">If the virtual machine is running at the time, the available sizes you can select from will depend on the available sizes in your region.</span></span> <span data-ttu-id="a8039-158">Du ser endast alternativ för att ändra storlek som är kompatibel med samma maskinvarukluster som den virtuella datorn körs på. Det kallas ibland för en *storleksfamilj*.</span><span class="sxs-lookup"><span data-stu-id="a8039-158">You will only see resize options compatible with the same hardware cluster that the virtual machine is currently running on; this is sometimes called a *size family*.</span></span> <span data-ttu-id="a8039-159">Om du väljer en ny storlek medan den virtuella datorn körs startas din VM om automatiskt för att tillämpa den nya storleken.</span><span class="sxs-lookup"><span data-stu-id="a8039-159">If you choose a new size while the virtual machine is running, the VM will be restarted automatically to apply the new size.</span></span>

<span data-ttu-id="a8039-160">Om storleken du letar efter inte visas i portalen när den virtuella datorn körs kan du stänga av den virtuella datorn för att se fler alternativ.</span><span class="sxs-lookup"><span data-stu-id="a8039-160">If the size you are looking for is not visible in the portal when the virtual machine is running, then you can shut down the virtual machine to see more options.</span></span> <span data-ttu-id="a8039-161">När datorn är i tillståndet **Stoppad (frigjord)** kan du välja storlekar från annan maskinvara i samma region.</span><span class="sxs-lookup"><span data-stu-id="a8039-161">When the machine is in the **stopped (deallocated)** state, you will be able to select sizes from other hardware in the same region.</span></span>

### <a name="resize-with-powershell"></a><span data-ttu-id="a8039-162">Ändra storlek med PowerShell</span><span class="sxs-lookup"><span data-stu-id="a8039-162">Resize with PowerShell</span></span>

<span data-ttu-id="a8039-163">Du kan använda PowerShell för att utföra vertikal skalning interaktivt eller med skript.</span><span class="sxs-lookup"><span data-stu-id="a8039-163">You can use PowerShell to perform vertical scaling interactively or with scripts.</span></span> <span data-ttu-id="a8039-164">Skript är bra för avancerade scenarier, till exempel om du vill ändra storlek på flera virtuella datorer samtidigt.</span><span class="sxs-lookup"><span data-stu-id="a8039-164">Scripts are good for complex scenarios; for example, if you need to resize several VMs at once.</span></span> <span data-ttu-id="a8039-165">De är också praktiskt om du vill ändra storleken under icke-arbetstid för att undvika störningar för användaren.</span><span class="sxs-lookup"><span data-stu-id="a8039-165">They are also convenient if you need to perform the resize during non-working hours to avoid user disruption.</span></span>

<span data-ttu-id="a8039-166">Följande cmdlet visar en lista över storlekar för virtuella datorer i samma storleksfamilj som den aktuella maskinvaran:</span><span class="sxs-lookup"><span data-stu-id="a8039-166">The following cmdlet lists VM sizes of the same size-family as the current hardware:</span></span>

```PowerShell
Get-AzureRmVMSize -ResourceGroupName "myResourceGroup" -VMName "MyVM"
```

<span data-ttu-id="a8039-167">Om önskad storlek visas använder du följande cmdlet för att ändra storlek på den virtuella datorn:</span><span class="sxs-lookup"><span data-stu-id="a8039-167">If the desired size is displayed, use the following cmdlet to change the virtual machine size:</span></span>

```PowerShell
$vm = Get-AzureRmVM -ResourceGroupName "myResourceGroup" -VMName "MyVM"
$vm.HardwareProfile.VmSize = "<newVMsize>"
Update-AzureRmVM -VM $vm -ResourceGroupName "myResourceGroup"
```

<span data-ttu-id="a8039-168">Om den önskade storleken inte visas när datorn körs använder du följande kommandon för att frigöra den virtuella datorn, ändra storlek på datorn och starta den igen:</span><span class="sxs-lookup"><span data-stu-id="a8039-168">If the desired size is not displayed with the machine running, use the following commands to deallocate the virtual machine, resize the machine, and start the machine again:</span></span>

```PowerShell
Stop-AzureRmVM -ResourceGroupName "myResourceGroup" -Name "MyVM" -Force
$vm = Get-AzureRmVM -ResourceGroupName "myResourceGroup" -VMName "MyVM"
$vm.HardwareProfile.VmSize = "<newVMSize>"
Update-AzureRmVM -VM $vm -ResourceGroupName "myResourceGroup"
Start-AzureRmVM -ResourceGroupName "myResourceGroup" -Name "MyVM"
```

<span data-ttu-id="a8039-169">Storleken på virtuella datorer i Azure kan ändras efter behov för att öka prestanda eller minska kostnaderna.</span><span class="sxs-lookup"><span data-stu-id="a8039-169">Virtual machines in Azure can be resized as needed to increase performance or decrease costs.</span></span> <span data-ttu-id="a8039-170">Det är praktiskt att utföra storleksändringen manuellt, antingen med portalen eller ett skript, för att hantera gradvis företagstillväxt eller när du vet om en förändring av efterfrågan i förväg.</span><span class="sxs-lookup"><span data-stu-id="a8039-170">Performing the resize manually, with either the portal or a script, is useful to handle gradual business growth or when you know about a change in demand ahead of time.</span></span> <span data-ttu-id="a8039-171">I scenariot med leksaksaffären kunde de skala upp före semestern för att hantera efterfrågantopparna och sedan skala ned efteråt.</span><span class="sxs-lookup"><span data-stu-id="a8039-171">In the toy-company scenario, they could scale up before a holiday to handle the spike in demand and then scale down afterward.</span></span>
