<span data-ttu-id="74c16-101">Anta att ditt företags affärspartner har säkerhetsprinciper som kräver att deras affärsdata skyddas med stark kryptering.</span><span class="sxs-lookup"><span data-stu-id="74c16-101">Suppose your company's trading partners have security policies who require their trading data is protected with strong encryption.</span></span> <span data-ttu-id="74c16-102">Du använder ett B2B-program som körs på Windows-servrar och lagrar data på en serverdatadisk.</span><span class="sxs-lookup"><span data-stu-id="74c16-102">You use a B2B application that runs on your Windows servers, and stores data on the server data disk.</span></span> <span data-ttu-id="74c16-103">Nu när du övergår till molnet behöver du visa dina affärspartners att de data som lagras på dina virtuella Azure-datorer inte kan nås av obehöriga användare, enheter eller program.</span><span class="sxs-lookup"><span data-stu-id="74c16-103">Now that you're transitioning to the cloud, you need to demonstrate to your trading partners that data stored on your Azure VMs cannot be accessed by unauthorized users, devices, or applications.</span></span> <span data-ttu-id="74c16-104">Du måste välja en strategi för kryptering av dina B2B-data.</span><span class="sxs-lookup"><span data-stu-id="74c16-104">You need to decide on a strategy for implementing encryption of your B2B data.</span></span>

<span data-ttu-id="74c16-105">Dina granskningskrav kräver att dina krypteringsnycklar måste hanteras lokalt och inte av tredje part.</span><span class="sxs-lookup"><span data-stu-id="74c16-105">Your audit requirements dictate that your encryption keys be managed in-house, and not by any third party.</span></span> <span data-ttu-id="74c16-106">Det är också viktigt för dig att dina Azure-baserade servrar inte tappar i prestanda eller hanterbarhet.</span><span class="sxs-lookup"><span data-stu-id="74c16-106">You're also concerned that the performance and manageability of your Azure-based servers is maintained.</span></span> <span data-ttu-id="74c16-107">Så innan du implementerar kryptering vill du vara säker på att det inte påverkar dina prestanda.</span><span class="sxs-lookup"><span data-stu-id="74c16-107">So before you implement encryption, you want to be sure that there won't be a performance hit.</span></span>

## <a name="what-is-encryption"></a><span data-ttu-id="74c16-108">Vad är kryptering?</span><span class="sxs-lookup"><span data-stu-id="74c16-108">What is encryption?</span></span>

<span data-ttu-id="74c16-109">Kryptering handlar om att omvandla meningsfull information till något som verkar meningslöst, till exempel en slumpmässig sekvens med bokstäver och siffror.</span><span class="sxs-lookup"><span data-stu-id="74c16-109">Encryption is about converting meaningful information into something that appears meaningless, such as a random sequence of letters and numbers.</span></span> <span data-ttu-id="74c16-110">I krypteringsprocessen används någon form av **nyckel** som ett led i algoritmen som skapar krypterade data.</span><span class="sxs-lookup"><span data-stu-id="74c16-110">The process of encryption uses some form of **key** as part of the algorithm that creates the encrypted data.</span></span> <span data-ttu-id="74c16-111">En nyckel krävs också för att utföra dekrypteringen.</span><span class="sxs-lookup"><span data-stu-id="74c16-111">A key is also needed to perform the decryption.</span></span> <span data-ttu-id="74c16-112">Nycklarna kan vara **_symmetriska_**, så att samma nyckel används för kryptering och dekryptering, eller **_asymmetriska_**, så att olika nycklar används.</span><span class="sxs-lookup"><span data-stu-id="74c16-112">Keys may be **_symmetric_**, where the same key is used for encryption and decryption, or **_asymmetric_**, where different keys are used.</span></span> <span data-ttu-id="74c16-113">Ett exempel på det senare är de **offentliga/privata** nyckelpar som används för digitala certifikat.</span><span class="sxs-lookup"><span data-stu-id="74c16-113">An example of the latter is the **public-private** key pairs used in digital certificates.</span></span>

### <a name="symmetric-encryption"></a><span data-ttu-id="74c16-114">Symmetrisk kryptering</span><span class="sxs-lookup"><span data-stu-id="74c16-114">Symmetric encryption</span></span>

<span data-ttu-id="74c16-115">Algoritmer som använder symmetriska nycklar, till exempel Standard AES (Advanced Encryption), är normalt snabbare än algoritmer för offentliga nycklar och används ofta för att skydda stora datamängder.</span><span class="sxs-lookup"><span data-stu-id="74c16-115">Algorithms that use symmetric keys, such as Advanced Encryption Standard (AES), are typically faster than public key algorithms, and are often used for protecting large data stores.</span></span> <span data-ttu-id="74c16-116">Eftersom det finns bara en måste det finnas procedurer för att skydda nyckeln från att komma ut till allmänheten.</span><span class="sxs-lookup"><span data-stu-id="74c16-116">Because there's only one key, procedures must be in place to prevent the key from becoming publicly known.</span></span>

### <a name="asymmetric-encryption"></a><span data-ttu-id="74c16-117">Asymmetrisk kryptering</span><span class="sxs-lookup"><span data-stu-id="74c16-117">Asymmetric encryption</span></span>

<span data-ttu-id="74c16-118">Med asymmetriska algoritmer behöver endast den privata nyckeln i paret vara säker och privat, vilket namnet antyder. Den offentliga nyckeln kan ges till vem som helst utan att riskera krypterade data.</span><span class="sxs-lookup"><span data-stu-id="74c16-118">With asymmetric algorithms, only the private key member of the pair must be kept private and secure; as its name suggests, the public key can be made available to anyone without compromising the encrypted data.</span></span> <span data-ttu-id="74c16-119">Nackdelen med algoritmer med offentlig nyckel är dock att de är mycket långsammare än symmetriska algoritmer och kan inte användas till att kryptera stora datamängder.</span><span class="sxs-lookup"><span data-stu-id="74c16-119">The downside of public key algorithms, however, is that they're much slower than symmetric algorithms, and cannot be used to encrypt large amounts of data.</span></span>

## <a name="key-management"></a><span data-ttu-id="74c16-120">Nyckelhantering</span><span class="sxs-lookup"><span data-stu-id="74c16-120">Key management</span></span>

<span data-ttu-id="74c16-121">Krypteringsnycklarna i Azure kan antingen hanteras av Microsoft eller av kunden.</span><span class="sxs-lookup"><span data-stu-id="74c16-121">In Azure, your encryption keys can be managed by Microsoft or the customer.</span></span> <span data-ttu-id="74c16-122">Ofta efterfrågas kundhanterade nycklar av organisationer som behöver kunna redovisa att de efterlever HIPAA och andra bestämmelser.</span><span class="sxs-lookup"><span data-stu-id="74c16-122">Often the demand for customer-managed keys comes from organizations that need to demonstrate compliance with HIPAA, or other regulations.</span></span> <span data-ttu-id="74c16-123">Detta kan kräva att åtkomsten till nycklarna loggas och att regelbundna nyckeländringar sker och registreras.</span><span class="sxs-lookup"><span data-stu-id="74c16-123">Such compliance may require that access to keys is logged, and that regular key changes are made and recorded.</span></span>

## <a name="azure-disk-encryption-technologies"></a><span data-ttu-id="74c16-124">Diskkrypteringstekniker för Azure</span><span class="sxs-lookup"><span data-stu-id="74c16-124">Azure disk encryption technologies</span></span>

<span data-ttu-id="74c16-125">De viktigaste krypteringsbaserade diskskyddsteknikerna för virtuella Azure-datorer är:</span><span class="sxs-lookup"><span data-stu-id="74c16-125">The main encryption-based disk protection technologies for Azure VMs are:</span></span>

- <span data-ttu-id="74c16-126">Kryptering för lagringstjänster (SSE)</span><span class="sxs-lookup"><span data-stu-id="74c16-126">Storage Service Encryption (SSE)</span></span>
- <span data-ttu-id="74c16-127">Azure Disk Encryption (ADE)</span><span class="sxs-lookup"><span data-stu-id="74c16-127">Azure Disk Encryption (ADE)</span></span>

### <a name="storage-service-encryption"></a><span data-ttu-id="74c16-128">Kryptering för lagringstjänst</span><span class="sxs-lookup"><span data-stu-id="74c16-128">Storage Service Encryption</span></span>

<span data-ttu-id="74c16-129">Azure Storage Service Encryption (SSE) är en krypteringstjänst som är inbyggd i Azure och som används för att skydda vilande data.</span><span class="sxs-lookup"><span data-stu-id="74c16-129">Azure Storage Service Encryption (SSE) is an encryption service built into Azure used to protect data at rest.</span></span> <span data-ttu-id="74c16-130">Azures lagringsplattform krypterar data automatiskt innan de lagras hos flera lagringstjänster, inklusive Azure Managed Disks.</span><span class="sxs-lookup"><span data-stu-id="74c16-130">The Azure storage platform automatically encrypts data before it's stored to several storage services, including Azure Managed Disks.</span></span> <span data-ttu-id="74c16-131">256-bitars AES-kryptering är aktiverad som standard, och hanteras av en administratör för lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="74c16-131">Encryption is enabled by default using 256-bit AES encryption, and is managed by the storage account administrator.</span></span>

### <a name="azure-disk-encryption"></a><span data-ttu-id="74c16-132">Azure Disk Encryption</span><span class="sxs-lookup"><span data-stu-id="74c16-132">Azure Disk Encryption</span></span>

<span data-ttu-id="74c16-133">Azure Disk Encryption (ADE) hanteras av den virtuella datorns ägare.</span><span class="sxs-lookup"><span data-stu-id="74c16-133">Azure Disk Encryption (ADE) is managed by the VM owner.</span></span> <span data-ttu-id="74c16-134">ADE styr kryptering av VM-kontrollerade diskar med Windows och Linux med hjälp av **BitLocker** på virtuella Windows-datorer och **DM-Crypt** på virtuella Linux-datorer.</span><span class="sxs-lookup"><span data-stu-id="74c16-134">It controls the encryption of Windows and Linux VM-controlled disks, using **BitLocker** on Windows VMs and **DM-Crypt** on Linux VMs.</span></span> <span data-ttu-id="74c16-135">BitLocker-diskkryptering är en funktion för dataskydd som är integrerad med operativsystemet och hanterar hot om datastöld eller säkerhetsblottor som uppstår till följd av förlorade, stulna eller felaktigt inaktiverade datorer.</span><span class="sxs-lookup"><span data-stu-id="74c16-135">BitLocker Drive Encryption is a data protection feature that integrates with the operating system, and addresses the threats of data theft or exposure from lost, stolen, or inappropriately decommissioned computers.</span></span> <span data-ttu-id="74c16-136">På liknande sätt krypterar DM-Crypt vilande data för Linux innan de skrivs till lagring.</span><span class="sxs-lookup"><span data-stu-id="74c16-136">Similarly, DM-Crypt encrypts data at rest for Linux before writing to storage.</span></span>

<span data-ttu-id="74c16-137">ADE säkerställer att alla data på virtuella datordiskar krypteras i vila i Azure-lagringen, och ADE krävs för virtuella datorer som säkerhetskopieras till Recovery-valvet.</span><span class="sxs-lookup"><span data-stu-id="74c16-137">ADE ensures that all data on VM disks are encrypted at rest in Azure storage, and ADE is required for VMs backed up to the Recovery Vault.</span></span>

<span data-ttu-id="74c16-138">När du använder ADE startar virtuella datorer under kundkontrollerade nycklar och principer.</span><span class="sxs-lookup"><span data-stu-id="74c16-138">With ADE, VMs boot under customer-controlled keys and policies.</span></span> <span data-ttu-id="74c16-139">ADE är integrerat med Azure Key Vault för hantering av dessa diskkrypteringsnycklar och hemligheter.</span><span class="sxs-lookup"><span data-stu-id="74c16-139">ADE is integrated with Azure Key Vault for the management of these disk-encryption keys and secrets.</span></span>

> [!NOTE] 
> <span data-ttu-id="74c16-140">ADE saknar stöd för kryptering av virtuella datorer på Basic-nivå, och du kan inte använda en lokal nyckelhanteringstjänst (KMS) med ADE.</span><span class="sxs-lookup"><span data-stu-id="74c16-140">ADE does not support the encryption of Basic tier VMs, and you cannot use an on-premises Key Management Service (KMS) with ADE.</span></span>

## <a name="when-to-use-encryption"></a><span data-ttu-id="74c16-141">När ska du använda kryptering?</span><span class="sxs-lookup"><span data-stu-id="74c16-141">When to use encryption?</span></span>

<span data-ttu-id="74c16-142">Data utsätts för risk i rörelse (vid överföring över Internet eller ett annat nätverk) och när de är i vila (sparade på en lagringsenhet).</span><span class="sxs-lookup"><span data-stu-id="74c16-142">Computer data is at risk when it's in transit (transmitted across the Internet or other network), and when it's at rest (saved to a storage device).</span></span> <span data-ttu-id="74c16-143">Data i vila är det viktigaste när du skyddar data på diskar för virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="74c16-143">The at-rest scenario is the primary concern when protecting data on Azure VM disks.</span></span> <span data-ttu-id="74c16-144">Till exempel, någon kan ladda ner den virtuella hårddiskfilen (VHD) som associeras med en virtuell Azure-dator och spara den på sin dator.</span><span class="sxs-lookup"><span data-stu-id="74c16-144">For example, someone might download the Virtual Hard Disk (VHD) file associated with an Azure VM, and save it on their laptop.</span></span> <span data-ttu-id="74c16-145">Innehållet i den virtuella hårddisken är potentiellt tillgänglig för alla som kan montera VHD-filen på sin dator om den inte är krypterad.</span><span class="sxs-lookup"><span data-stu-id="74c16-145">If the VHD is not encrypted, the contents of the VHD are potentially accessible to anyone who can mount the VHD file on their computer.</span></span>

<span data-ttu-id="74c16-146">PÅ operativsystemdiskar (OS) krypteras data, till exempel lösenord automatiskt, så att det inte går att få tillgång till sådan information, även om den virtuella hårddisken inte krypteras.</span><span class="sxs-lookup"><span data-stu-id="74c16-146">For operating system (OS) disks, data such as passwords are encrypted automatically, so even if the VHD is not itself encrypted, it's not easy for such information to be accessed.</span></span> <span data-ttu-id="74c16-147">Program kan också automatiskt kryptera sina egna data.</span><span class="sxs-lookup"><span data-stu-id="74c16-147">Applications may also automatically encrypt their own data.</span></span> <span data-ttu-id="74c16-148">Men även med detta skydd, om någon med skadliga avsikter får åtkomst till en datadisk och disken inte är krypterad har de möjlighet att exploatera kända svagheter i dessa programs dataskydd.</span><span class="sxs-lookup"><span data-stu-id="74c16-148">However, even with such protections, if someone with malicious intent were to gain access to a data disk, and the disk itself was not encrypted, they might then be in a position to exploit any known weaknesses in that application's data protection.</span></span> <span data-ttu-id="74c16-149">Denna typ av kryphål kan inte uppstå om du har diskkryptering på plats.</span><span class="sxs-lookup"><span data-stu-id="74c16-149">With disk encryption in place, such exploits are not possible.</span></span>

<span data-ttu-id="74c16-150">Kryptering för lagringstjänst (SSE) är en del av Azure, och bör inte ha någon märkbar inverkan på prestanda för läs- och skrivåtgärder för den virtuella datorns disk.</span><span class="sxs-lookup"><span data-stu-id="74c16-150">Storage Service Encryption (SSE) is part of Azure itself, and there should be no noticeable performance impact on the VM disk IO when using SSE.</span></span> <span data-ttu-id="74c16-151">Hanterade diskar med SSE nu är standard och det bör inte finnas någon anledning att ändra den standardinställningen.</span><span class="sxs-lookup"><span data-stu-id="74c16-151">Managed disks with SSE are now the default, and there should be no reason to change it.</span></span> <span data-ttu-id="74c16-152">Azure Disk Encryption (ADE) använder operativsystemsverktyg för virtuella datorer (BitLocker och DM-Crypt), vilket innebär att den virtuella datorn måste delta när en virtuell disk ska krypteras eller dekrypteras.</span><span class="sxs-lookup"><span data-stu-id="74c16-152">Azure Disk Encryption (ADE) makes use of VM operating system tools (BitLocker and DM-Crypt), so the VM itself has to do some work when encryption or decryption on VM disks is being performed.</span></span> <span data-ttu-id="74c16-153">Den extra processorverksamheten hos den virtuella datorn som ingår i detta är normalt försumbar, med undantag för vissa situationer.</span><span class="sxs-lookup"><span data-stu-id="74c16-153">The impact of this additional VM CPU activity is typically negligible, except in certain situations.</span></span> <span data-ttu-id="74c16-154">Om du till exempel kör ett processorintensivt program kan det finnas anledningar att låta operativsystemdisken förbli okrypterad för att maximera prestanda.</span><span class="sxs-lookup"><span data-stu-id="74c16-154">For instance, if you have a CPU-intensive application, there may be a case for leaving the OS disk unencrypted to maximize performance.</span></span> <span data-ttu-id="74c16-155">I sådana situationer kan du lagra programdata på en separat krypterad datadisk, så att du får de prestanda du behöver utan att äventyra säkerheten.</span><span class="sxs-lookup"><span data-stu-id="74c16-155">In a situation such as this, you can store application data on a separate encrypted data disk, getting you the performance you need without compromising security.</span></span>

<span data-ttu-id="74c16-156">Azure tillhandahåller två kompletterande krypteringstekniker som används för att skydda Virtuella Azure-diskar.</span><span class="sxs-lookup"><span data-stu-id="74c16-156">Azure provides two complementary encryption technologies that are used to secure Azure VM disks.</span></span> <span data-ttu-id="74c16-157">Dessa tekniker, SSE och ADE, krypterar olika lager och har olika syften.</span><span class="sxs-lookup"><span data-stu-id="74c16-157">These technologies, SSE and ADE, encrypt at different layers, and serve different purposes.</span></span> <span data-ttu-id="74c16-158">Båda använder AES-256-bitarskryptering.</span><span class="sxs-lookup"><span data-stu-id="74c16-158">Both use AES 256-bit encryption.</span></span> <span data-ttu-id="74c16-159">Genom användning av båda teknikerna får du ett djupgående skydd mot obehörig åtkomst till din Azure-lagring och specifika virtuella hårddiskar.</span><span class="sxs-lookup"><span data-stu-id="74c16-159">Using both technologies provides a defense-in-depth protection against unauthorized access to your Azure storage, and to specific VHDs.</span></span>
