<span data-ttu-id="4c073-101">När du skapar en app som behöver lagra data, är det viktigt att tänka på hur appen ska organisera data i lagringskonton, containrar och blobar.</span><span class="sxs-lookup"><span data-stu-id="4c073-101">When designing an app that needs to store data, it's important to think about how the app is going to organize data across storage accounts, containers, and blobs.</span></span>

## <a name="storage-accounts"></a><span data-ttu-id="4c073-102">Lagringskonton</span><span class="sxs-lookup"><span data-stu-id="4c073-102">Storage accounts</span></span>

<span data-ttu-id="4c073-103">Ett enda lagringskonto är tillräckligt flexibelt för att du ska kunna organisera dina blobar hur du vill, men du kan använda fler lagringskonton om du vill kunna separera kostnader och styra åtkomsten till data.</span><span class="sxs-lookup"><span data-stu-id="4c073-103">A single storage account is flexible enough to organize your blobs however you like, but you should use additional storage accounts as necessary to logically separate costs and control access to data.</span></span>

## <a name="containers-and-blobs"></a><span data-ttu-id="4c073-104">Containrar och blobar</span><span class="sxs-lookup"><span data-stu-id="4c073-104">Containers and blobs</span></span>

<span data-ttu-id="4c073-105">Typen av program och data som lagras ska avgöra vilken strategi du väljer för att namnge och organisera containrar och blobar.</span><span class="sxs-lookup"><span data-stu-id="4c073-105">The nature of your application and the data that it stores should drive your strategy for naming and organizing containers and blobs.</span></span>

<span data-ttu-id="4c073-106">Appar som använder blobar som en del av ett lagringsschema med en databas är vanligtvis inte särskilt beroende av organisation, namngivning eller metadata för att kunna visa något om sina data.</span><span class="sxs-lookup"><span data-stu-id="4c073-106">Apps using blobs as part of a storage scheme that includes a database often don't need to rely heavily on organization, naming, or metadata to indicate anything about their data.</span></span> <span data-ttu-id="4c073-107">Sådana appar använder ofta identifierare som ex.vis GUID som blobnamn och refererar till dessa identifierare i databasposter.</span><span class="sxs-lookup"><span data-stu-id="4c073-107">Such apps commonly use identifiers like GUIDs as blob names and reference these identifiers in database records.</span></span> <span data-ttu-id="4c073-108">Appen kommer att använda databasen för att fastställa var blobarna lagras och vilken typ av data de innehåller.</span><span class="sxs-lookup"><span data-stu-id="4c073-108">The app will use the database to determine where blobs are stored and the kind of data they contain.</span></span>

<span data-ttu-id="4c073-109">Andra appar kan använda Azures bloblagring mer som ett personligt filsystem, där container- och blobnamn används för att visa innebörd och struktur.</span><span class="sxs-lookup"><span data-stu-id="4c073-109">Other apps may use Azure Blob storage more like a personal file system, where container and blob names are used to indicate meaning and structure.</span></span> <span data-ttu-id="4c073-110">Blobnamnen i dessa typer av appar ser ofta ut som traditionella filnamn med filnamnstillägg som t.ex. `.jpg` för att ange vilken typ av data de innehåller.</span><span class="sxs-lookup"><span data-stu-id="4c073-110">Blob names in these kinds of apps will often look like traditional file names and include file name extensions like `.jpg` to indicate what kind of data they contain.</span></span> <span data-ttu-id="4c073-111">De använder virtuella kataloger (se nedan) till att organisera blobarna och använder ofta metadatataggar för att lagra information om blobar och containrar.</span><span class="sxs-lookup"><span data-stu-id="4c073-111">They'll use virtual directories (see below) to organize blobs and will frequently use metadata tags to store information about blobs and containers.</span></span>

<span data-ttu-id="4c073-112">Det finns några viktiga saker att tänka på när du bestämmer hur du ska organisera och lagra blobar och containrar.</span><span class="sxs-lookup"><span data-stu-id="4c073-112">There are a few key things to consider when deciding how to organize and store blobs and containers.</span></span>

### <a name="naming-limitations"></a><span data-ttu-id="4c073-113">Namnbegränsningar</span><span class="sxs-lookup"><span data-stu-id="4c073-113">Naming limitations</span></span>

<span data-ttu-id="4c073-114">Container- och blobnamn måste följa en uppsättning regler, inklusive längdbegränsningar och teckenbegränsningar.</span><span class="sxs-lookup"><span data-stu-id="4c073-114">Container and blob names must conform to a set of rules, including length limitations and character restrictions.</span></span> <span data-ttu-id="4c073-115">Se avsnittet Ytterligare läsning i slutet av den här modulen för mer detaljerad information om regler för namngivning.</span><span class="sxs-lookup"><span data-stu-id="4c073-115">See the Further Reading section at the end of this module for more specific information about naming rules.</span></span>

### <a name="public-access-and-containers-as-security-boundaries"></a><span data-ttu-id="4c073-116">Offentlig åtkomst och containrar som säkerhetsgränser</span><span class="sxs-lookup"><span data-stu-id="4c073-116">Public access and containers as security boundaries</span></span>

<span data-ttu-id="4c073-117">Som standard kräver alla blobar autentisering för åtkomst.</span><span class="sxs-lookup"><span data-stu-id="4c073-117">By default, all blobs require authentication to access.</span></span> <span data-ttu-id="4c073-118">Enskilda containrar kan dock konfigureras för att tillåta offentlig hämtning av sina blobar utan autentisering.</span><span class="sxs-lookup"><span data-stu-id="4c073-118">However, individual containers can be configured to allow public downloading of their blobs without authentication.</span></span> <span data-ttu-id="4c073-119">Den här funktionen stöder olika typer av användning, till exempel värdbaserade statiska webbplatsresurser och delning av filer.</span><span class="sxs-lookup"><span data-stu-id="4c073-119">This feature supports many use cases, such as hosting static website assets and sharing files.</span></span> <span data-ttu-id="4c073-120">Detta beror på att det fungerar på samma sätt att hämta blobinnehåll som att läsa andra typer av data på nätet: Du pekar bara på en webbläsare eller något annat som kan göra en GET-begäran i blob-URL:en.</span><span class="sxs-lookup"><span data-stu-id="4c073-120">This is because downloading blob contents works the same way as reading any other kind of data over the web: you just point a browser or anything that can make a GET request at the blob URL.</span></span>

<span data-ttu-id="4c073-121">Att aktivera offentlig åtkomst är viktigt för skalbarheten, eftersom data som hämtas direkt från bloblagringen inte genererar någon trafik i din app på serversidan.</span><span class="sxs-lookup"><span data-stu-id="4c073-121">Enabling public access is important for scalability because data downloaded directly from Blob storage doesn't generate any traffic in your server-side app.</span></span> <span data-ttu-id="4c073-122">Även om du inte omedelbart har någon nytta av offentlig åtkomst, eller om du vill använda en databas för att styra dataåtkomsten via ditt program, kan du planera att använda separata containrar för data som du vill ska vara offentligt tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="4c073-122">Even if you don't immediately take advantage of public access or if you will use a database to control data access via your application, plan on using separate containers for data you want to be publicly available.</span></span>

> [!CAUTION]
> <span data-ttu-id="4c073-123">Blobarna i en container som är konfigurerad för offentlig åtkomst kan laddas ned utan någon typ av autentisering eller granskning av den som känner till lagrings-URL:erna.</span><span class="sxs-lookup"><span data-stu-id="4c073-123">Blobs in a container configured for public access can be downloaded without any kind of authentication or auditing by anyone who knows their storage URLs.</span></span> <span data-ttu-id="4c073-124">Placera aldrig blobdata i en offentlig container som du inte planerar att dela offentligt.</span><span class="sxs-lookup"><span data-stu-id="4c073-124">Never put blob data in a public container that you don't intend to share publicly.</span></span>

<span data-ttu-id="4c073-125">Förutom offentlig åtkomst har Azure en signatur för delad åtkomst som gör detaljerade behörigheter enklare att styra i containrar.</span><span class="sxs-lookup"><span data-stu-id="4c073-125">In addition to public access, Azure has a shared access signature feature that allows fine-grained permissions control on containers.</span></span> <span data-ttu-id="4c073-126">Med exakt åtkomstkontroll kan scenarier som ytterligare förbättrar skalbarheten användas, så att tänka på containrar som säkerhetsgränser i allmänhet är en bra riktlinje.</span><span class="sxs-lookup"><span data-stu-id="4c073-126">Precision access control enables scenarios that further improve scalability, so thinking about containers as security boundaries in general is a helpful guideline.</span></span>

### <a name="blob-name-prefixes-virtual-directories"></a><span data-ttu-id="4c073-127">Prefix för blobnamn (virtuella kataloger)</span><span class="sxs-lookup"><span data-stu-id="4c073-127">Blob name prefixes (virtual directories)</span></span>

<span data-ttu-id="4c073-128">Tekniskt sett är containrar ”platta” och saknar stöd för all slags kapsling eller hierarki.</span><span class="sxs-lookup"><span data-stu-id="4c073-128">Technically, containers are "flat" and do not support any kind of nesting or hierarchy.</span></span> <span data-ttu-id="4c073-129">Men om du ger dina blobar hierarkiska namn som ser ut som sökvägar (till exempel `finance/budgets/2017/q1.xls`), kan API:ns liståtgärd filtrera resultaten för specifika prefix.</span><span class="sxs-lookup"><span data-stu-id="4c073-129">But if you give your blobs hierarchical names that look like file paths (such as `finance/budgets/2017/q1.xls`), the API's listing operation can filter results to specific prefixes.</span></span> <span data-ttu-id="4c073-130">Det innebär att du kan navigera i listan som om det fanns ett hierarkiskt system med filer och mappar.</span><span class="sxs-lookup"><span data-stu-id="4c073-130">This allows you to navigate the list as if it was a hierarchical system of files and folders.</span></span>

<span data-ttu-id="4c073-131">Den här funktionen kallas ofta *virtuella kataloger* eftersom vissa verktyg och klientbibliotek använder den för att visualisera och navigera i bloblagring som om det var ett filsystem.</span><span class="sxs-lookup"><span data-stu-id="4c073-131">This feature is often called *virtual directories* because some tools and client libraries use it to visualize and navigate Blob storage as if it was a file system.</span></span> <span data-ttu-id="4c073-132">Varje mappnavigering utlöser ett separat anrop för att göra en lista med blobarna i den mappen.</span><span class="sxs-lookup"><span data-stu-id="4c073-132">Each folder navigation triggers a separate call to list the blobs in that folder.</span></span>

<span data-ttu-id="4c073-133">En vanlig metod för att ordna och navigera i komplexa blobdata är att använda namn som liknar filnamn för blobar.</span><span class="sxs-lookup"><span data-stu-id="4c073-133">Using names that are like file names for blobs is a common technique for organizing and navigating complex blob data.</span></span>

### <a name="blob-types"></a><span data-ttu-id="4c073-134">Blobtyper</span><span class="sxs-lookup"><span data-stu-id="4c073-134">Blob types</span></span>

<span data-ttu-id="4c073-135">Det finns tre olika typer av blobar som du kan lagra data i:</span><span class="sxs-lookup"><span data-stu-id="4c073-135">There are three different kinds of blobs you can store data in:</span></span>

- <span data-ttu-id="4c073-136">**Blockblobar** består av block i olika storlekar som kan laddas upp separat och parallellt.</span><span class="sxs-lookup"><span data-stu-id="4c073-136">**Block blobs** are composed of blocks of different sizes that can be uploaded independently and in parallel.</span></span> <span data-ttu-id="4c073-137">Att skriva till en blockblob innebär att ladda upp data till block och genomföra dem på bloben.</span><span class="sxs-lookup"><span data-stu-id="4c073-137">Writing to a block blob involves uploading data to blocks and committing them to the blob.</span></span>
- <span data-ttu-id="4c073-138">**Bilageblobar** är specialiserade blockblobar som endast har stöd för att lägga till nya data (inte uppdatera eller radera befintliga data), men de är mycket effektiva.</span><span class="sxs-lookup"><span data-stu-id="4c073-138">**Append blobs** are specialized block blobs that support only appending new data (not updating or deleting existing data), but they're very efficient at it.</span></span> <span data-ttu-id="4c073-139">Att lägga till bloblagring är perfekt vid scenarier som att lagra loggar eller strömma data.</span><span class="sxs-lookup"><span data-stu-id="4c073-139">Append blobs are great for scenarios like storing logs or writing streamed data.</span></span>
- <span data-ttu-id="4c073-140">**Sidblobar** är utformade för scenarier som innefattar läsning och skrivning med direktåtkomst.</span><span class="sxs-lookup"><span data-stu-id="4c073-140">**Page blobs** are designed for scenarios that involve random-access reads and writes.</span></span> <span data-ttu-id="4c073-141">Sidblobar används för att lagra VHD-filer som används av Azures virtuella datorer, men de är också bra för alla scenarier som inbegriper direktåtkomst.</span><span class="sxs-lookup"><span data-stu-id="4c073-141">Page blobs are used to store the virtual hard disk (VHD) files used by Azure Virtual Machines, but they're great for any scenario that involves random access.</span></span>

<span data-ttu-id="4c073-142">Blockblobar är det bästa valet för de flesta scenarier som inte specifikt kräver bilage- eller sidblobar.</span><span class="sxs-lookup"><span data-stu-id="4c073-142">Block blobs are the best choice for most scenarios that don't specifically call for append or page blobs.</span></span> <span data-ttu-id="4c073-143">Deras blockbaserade struktur stöder mycket snabba uppladdningar och nedladdningar och effektiv åtkomst till enskilda delar av en blob.</span><span class="sxs-lookup"><span data-stu-id="4c073-143">Their block-based structure supports very fast uploads and downloads and efficient access to individual pieces of a blob.</span></span> <span data-ttu-id="4c073-144">Processen med att hantera och genomföra block hanteras automatiskt av de flesta klientbibliotek, och vissa hanterar också parallella uppladdningar och nedladdningar för att maximera prestanda.</span><span class="sxs-lookup"><span data-stu-id="4c073-144">The process of managing and committing blocks is automatically handled by most client libraries, and some will also handle parallel uploads and downloads to maximize performance.</span></span>